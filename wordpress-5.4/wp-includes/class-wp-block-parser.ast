[
  {
    "nodeType": "Stmt_Class",
    "flags": 0,
    "extends": null,
    "implements": [],
    "name": {
      "nodeType": "Identifier",
      "name": "WP_Block_Parser_Block",
      "attributes": {
        "startLine": 15,
        "endLine": 15
      }
    },
    "stmts": [
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "blockName",
              "attributes": {
                "startLine": 24,
                "endLine": 24
              }
            },
            "default": null,
            "attributes": {
              "startLine": 24,
              "endLine": 24
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 24,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Name of block\n\t *\n\t * @example \"core/paragraph\"\n\t *\n\t * @since 3.8.0\n\t * @var string\n\t */",
              "line": 16,
              "filePos": 201,
              "tokenPos": 11,
              "endLine": 23,
              "endFilePos": 297,
              "endTokenPos": 11
            }
          ],
          "endLine": 24
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "attrs",
              "attributes": {
                "startLine": 35,
                "endLine": 35
              }
            },
            "default": null,
            "attributes": {
              "startLine": 35,
              "endLine": 35
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 35,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Optional set of attributes from block comment delimiters\n\t *\n\t * @example null\n\t * @example array( 'columns' => 3 )\n\t *\n\t * @since 3.8.0\n\t * @var array|null\n\t */",
              "line": 26,
              "filePos": 321,
              "tokenPos": 18,
              "endLine": 34,
              "endFilePos": 489,
              "endTokenPos": 18
            }
          ],
          "endLine": 35
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "innerBlocks",
              "attributes": {
                "startLine": 43,
                "endLine": 43
              }
            },
            "default": null,
            "attributes": {
              "startLine": 43,
              "endLine": 43
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 43,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * List of inner blocks (of this same class)\n\t *\n\t * @since 3.8.0\n\t * @var WP_Block_Parser_Block[]\n\t */",
              "line": 37,
              "filePos": 509,
              "tokenPos": 25,
              "endLine": 42,
              "endFilePos": 616,
              "endTokenPos": 25
            }
          ],
          "endLine": 43
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "innerHTML",
              "attributes": {
                "startLine": 54,
                "endLine": 54
              }
            },
            "default": null,
            "attributes": {
              "startLine": 54,
              "endLine": 54
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 54,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Resultant HTML from inside block comment delimiters\n\t * after removing inner blocks\n\t *\n\t * @example \"...Just <!-- wp:test /--> testing...\" -> \"Just testing...\"\n\t *\n\t * @since 3.8.0\n\t * @var string\n\t */",
              "line": 45,
              "filePos": 642,
              "tokenPos": 32,
              "endLine": 53,
              "endFilePos": 851,
              "endTokenPos": 32
            }
          ],
          "endLine": 54
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "innerContent",
              "attributes": {
                "startLine": 68,
                "endLine": 68
              }
            },
            "default": null,
            "attributes": {
              "startLine": 68,
              "endLine": 68
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 68,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * List of string fragments and null markers where inner blocks were found\n\t *\n\t * @example array(\n\t *   'innerHTML'    => 'BeforeInnerAfter',\n\t *   'innerBlocks'  => array( block, block ),\n\t *   'innerContent' => array( 'Before', null, 'Inner', null, 'After' ),\n\t * )\n\t *\n\t * @since 4.2.0\n\t * @var array\n\t */",
              "line": 56,
              "filePos": 875,
              "tokenPos": 39,
              "endLine": 67,
              "endFilePos": 1188,
              "endTokenPos": 39
            }
          ],
          "endLine": 68
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "__construct",
          "attributes": {
            "startLine": 83,
            "endLine": 83
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "name",
              "attributes": {
                "startLine": 83,
                "endLine": 83
              }
            },
            "default": null,
            "attributes": {
              "startLine": 83,
              "endLine": 83
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "attrs",
              "attributes": {
                "startLine": 83,
                "endLine": 83
              }
            },
            "default": null,
            "attributes": {
              "startLine": 83,
              "endLine": 83
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "innerBlocks",
              "attributes": {
                "startLine": 83,
                "endLine": 83
              }
            },
            "default": null,
            "attributes": {
              "startLine": 83,
              "endLine": 83
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "innerHTML",
              "attributes": {
                "startLine": 83,
                "endLine": 83
              }
            },
            "default": null,
            "attributes": {
              "startLine": 83,
              "endLine": 83
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "innerContent",
              "attributes": {
                "startLine": 83,
                "endLine": 83
              }
            },
            "default": null,
            "attributes": {
              "startLine": 83,
              "endLine": 83
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 84,
                    "endLine": 84
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "blockName",
                  "attributes": {
                    "startLine": 84,
                    "endLine": 84
                  }
                },
                "attributes": {
                  "startLine": 84,
                  "endLine": 84
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "name",
                "attributes": {
                  "startLine": 84,
                  "endLine": 84
                }
              },
              "attributes": {
                "startLine": 84,
                "endLine": 84
              }
            },
            "attributes": {
              "startLine": 84,
              "endLine": 84
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 85,
                    "endLine": 85
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "attrs",
                  "attributes": {
                    "startLine": 85,
                    "endLine": 85
                  }
                },
                "attributes": {
                  "startLine": 85,
                  "endLine": 85
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "attrs",
                "attributes": {
                  "startLine": 85,
                  "endLine": 85
                }
              },
              "attributes": {
                "startLine": 85,
                "endLine": 85
              }
            },
            "attributes": {
              "startLine": 85,
              "endLine": 85
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 86,
                    "endLine": 86
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "innerBlocks",
                  "attributes": {
                    "startLine": 86,
                    "endLine": 86
                  }
                },
                "attributes": {
                  "startLine": 86,
                  "endLine": 86
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "innerBlocks",
                "attributes": {
                  "startLine": 86,
                  "endLine": 86
                }
              },
              "attributes": {
                "startLine": 86,
                "endLine": 86
              }
            },
            "attributes": {
              "startLine": 86,
              "endLine": 86
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 87,
                    "endLine": 87
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "innerHTML",
                  "attributes": {
                    "startLine": 87,
                    "endLine": 87
                  }
                },
                "attributes": {
                  "startLine": 87,
                  "endLine": 87
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "innerHTML",
                "attributes": {
                  "startLine": 87,
                  "endLine": 87
                }
              },
              "attributes": {
                "startLine": 87,
                "endLine": 87
              }
            },
            "attributes": {
              "startLine": 87,
              "endLine": 87
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 88,
                    "endLine": 88
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "innerContent",
                  "attributes": {
                    "startLine": 88,
                    "endLine": 88
                  }
                },
                "attributes": {
                  "startLine": 88,
                  "endLine": 88
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "innerContent",
                "attributes": {
                  "startLine": 88,
                  "endLine": 88
                }
              },
              "attributes": {
                "startLine": 88,
                "endLine": 88
              }
            },
            "attributes": {
              "startLine": 88,
              "endLine": 88
            }
          }
        ],
        "attributes": {
          "startLine": 83,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Constructor.\n\t *\n\t * Will populate object properties from the provided arguments.\n\t *\n\t * @since 3.8.0\n\t *\n\t * @param string $name         Name of block.\n\t * @param array  $attrs        Optional set of attributes from block comment delimiters.\n\t * @param array  $innerBlocks  List of inner blocks (of this same class).\n\t * @param string $innerHTML    Resultant HTML from inside block comment delimiters after removing inner blocks.\n\t * @param array  $innerContent List of string fragments and null markers where inner blocks were found.\n\t */",
              "line": 70,
              "filePos": 1215,
              "tokenPos": 46,
              "endLine": 82,
              "endFilePos": 1763,
              "endTokenPos": 46
            }
          ],
          "endLine": 89
        }
      }
    ],
    "attributes": {
      "startLine": 15,
      "comments": [
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * Block Serialization Parser\n *\n * @package WordPress\n */",
          "line": 2,
          "filePos": 6,
          "tokenPos": 1,
          "endLine": 6,
          "endFilePos": 67,
          "endTokenPos": 1
        },
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * Class WP_Block_Parser_Block\n *\n * Holds the block structure in memory\n *\n * @since 3.8.0\n */",
          "line": 8,
          "filePos": 70,
          "tokenPos": 3,
          "endLine": 14,
          "endFilePos": 168,
          "endTokenPos": 3
        }
      ],
      "endLine": 90
    }
  },
  {
    "nodeType": "Stmt_Class",
    "flags": 0,
    "extends": null,
    "implements": [],
    "name": {
      "nodeType": "Identifier",
      "name": "WP_Block_Parser_Frame",
      "attributes": {
        "startLine": 100,
        "endLine": 100
      }
    },
    "stmts": [
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "block",
              "attributes": {
                "startLine": 107,
                "endLine": 107
              }
            },
            "default": null,
            "attributes": {
              "startLine": 107,
              "endLine": 107
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 107,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Full or partial block\n\t *\n\t * @since 3.8.0\n\t * @var WP_Block_Parser_Block\n\t */",
              "line": 101,
              "filePos": 2182,
              "tokenPos": 128,
              "endLine": 106,
              "endFilePos": 2267,
              "endTokenPos": 128
            }
          ],
          "endLine": 107
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "token_start",
              "attributes": {
                "startLine": 115,
                "endLine": 115
              }
            },
            "default": null,
            "attributes": {
              "startLine": 115,
              "endLine": 115
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 115,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Byte offset into document for start of parse token\n\t *\n\t * @since 3.8.0\n\t * @var int\n\t */",
              "line": 109,
              "filePos": 2287,
              "tokenPos": 135,
              "endLine": 114,
              "endFilePos": 2383,
              "endTokenPos": 135
            }
          ],
          "endLine": 115
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "token_length",
              "attributes": {
                "startLine": 123,
                "endLine": 123
              }
            },
            "default": null,
            "attributes": {
              "startLine": 123,
              "endLine": 123
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 123,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Byte length of entire parse token string\n\t *\n\t * @since 3.8.0\n\t * @var int\n\t */",
              "line": 117,
              "filePos": 2409,
              "tokenPos": 142,
              "endLine": 122,
              "endFilePos": 2495,
              "endTokenPos": 142
            }
          ],
          "endLine": 123
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "prev_offset",
              "attributes": {
                "startLine": 132,
                "endLine": 132
              }
            },
            "default": null,
            "attributes": {
              "startLine": 132,
              "endLine": 132
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 132,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Byte offset into document for after parse token ends\n\t * (used during reconstruction of stack into parse production)\n\t *\n\t * @since 3.8.0\n\t * @var int\n\t */",
              "line": 125,
              "filePos": 2522,
              "tokenPos": 149,
              "endLine": 131,
              "endFilePos": 2684,
              "endTokenPos": 149
            }
          ],
          "endLine": 132
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "leading_html_start",
              "attributes": {
                "startLine": 140,
                "endLine": 140
              }
            },
            "default": null,
            "attributes": {
              "startLine": 140,
              "endLine": 140
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 140,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Byte offset into document where leading HTML before token starts\n\t *\n\t * @since 3.8.0\n\t * @var int\n\t */",
              "line": 134,
              "filePos": 2710,
              "tokenPos": 156,
              "endLine": 139,
              "endFilePos": 2820,
              "endTokenPos": 156
            }
          ],
          "endLine": 140
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "__construct",
          "attributes": {
            "startLine": 155,
            "endLine": 155
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "block",
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "default": null,
            "attributes": {
              "startLine": 155,
              "endLine": 155
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "token_start",
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "default": null,
            "attributes": {
              "startLine": 155,
              "endLine": 155
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "token_length",
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "default": null,
            "attributes": {
              "startLine": 155,
              "endLine": 155
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "prev_offset",
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 155,
                  "endLine": 155
                }
              },
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "attributes": {
              "startLine": 155,
              "endLine": 155
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "leading_html_start",
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 155,
                  "endLine": 155
                }
              },
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "attributes": {
              "startLine": 155,
              "endLine": 155
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 156,
                    "endLine": 156
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "block",
                  "attributes": {
                    "startLine": 156,
                    "endLine": 156
                  }
                },
                "attributes": {
                  "startLine": 156,
                  "endLine": 156
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "block",
                "attributes": {
                  "startLine": 156,
                  "endLine": 156
                }
              },
              "attributes": {
                "startLine": 156,
                "endLine": 156
              }
            },
            "attributes": {
              "startLine": 156,
              "endLine": 156
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 157,
                    "endLine": 157
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "token_start",
                  "attributes": {
                    "startLine": 157,
                    "endLine": 157
                  }
                },
                "attributes": {
                  "startLine": 157,
                  "endLine": 157
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "token_start",
                "attributes": {
                  "startLine": 157,
                  "endLine": 157
                }
              },
              "attributes": {
                "startLine": 157,
                "endLine": 157
              }
            },
            "attributes": {
              "startLine": 157,
              "endLine": 157
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 158,
                    "endLine": 158
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "token_length",
                  "attributes": {
                    "startLine": 158,
                    "endLine": 158
                  }
                },
                "attributes": {
                  "startLine": 158,
                  "endLine": 158
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "token_length",
                "attributes": {
                  "startLine": 158,
                  "endLine": 158
                }
              },
              "attributes": {
                "startLine": 158,
                "endLine": 158
              }
            },
            "attributes": {
              "startLine": 158,
              "endLine": 158
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "prev_offset",
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "attributes": {
                  "startLine": 159,
                  "endLine": 159
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_Variable",
                      "name": "prev_offset",
                      "attributes": {
                        "startLine": 159,
                        "endLine": 159
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "if": {
                  "nodeType": "Expr_Variable",
                  "name": "prev_offset",
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "else": {
                  "nodeType": "Expr_BinaryOp_Plus",
                  "left": {
                    "nodeType": "Expr_Variable",
                    "name": "token_start",
                    "attributes": {
                      "startLine": 159,
                      "endLine": 159
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "token_length",
                    "attributes": {
                      "startLine": 159,
                      "endLine": 159
                    }
                  },
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "attributes": {
                  "startLine": 159,
                  "endLine": 159
                }
              },
              "attributes": {
                "startLine": 159,
                "endLine": 159
              }
            },
            "attributes": {
              "startLine": 159,
              "endLine": 159
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 160,
                    "endLine": 160
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "leading_html_start",
                  "attributes": {
                    "startLine": 160,
                    "endLine": 160
                  }
                },
                "attributes": {
                  "startLine": 160,
                  "endLine": 160
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "leading_html_start",
                "attributes": {
                  "startLine": 160,
                  "endLine": 160
                }
              },
              "attributes": {
                "startLine": 160,
                "endLine": 160
              }
            },
            "attributes": {
              "startLine": 160,
              "endLine": 160
            }
          }
        ],
        "attributes": {
          "startLine": 155,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Constructor\n\t *\n\t * Will populate object properties from the provided arguments.\n\t *\n\t * @since 3.8.0\n\t *\n\t * @param WP_Block_Parser_Block $block              Full or partial block.\n\t * @param int                   $token_start        Byte offset into document for start of parse token.\n\t * @param int                   $token_length       Byte length of entire parse token string.\n\t * @param int                   $prev_offset        Byte offset into document for after parse token ends.\n\t * @param int                   $leading_html_start Byte offset into document where leading HTML before token starts.\n\t */",
              "line": 142,
              "filePos": 2853,
              "tokenPos": 163,
              "endLine": 154,
              "endFilePos": 3472,
              "endTokenPos": 163
            }
          ],
          "endLine": 161
        }
      }
    ],
    "attributes": {
      "startLine": 100,
      "comments": [
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * Class WP_Block_Parser_Frame\n *\n * Holds partial blocks in memory while parsing\n *\n * @internal\n * @since 3.8.0\n */",
          "line": 92,
          "filePos": 2029,
          "tokenPos": 120,
          "endLine": 99,
          "endFilePos": 2149,
          "endTokenPos": 120
        }
      ],
      "endLine": 162
    }
  },
  {
    "nodeType": "Stmt_Class",
    "flags": 0,
    "extends": null,
    "implements": [],
    "name": {
      "nodeType": "Identifier",
      "name": "WP_Block_Parser",
      "attributes": {
        "startLine": 172,
        "endLine": 172
      }
    },
    "stmts": [
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "document",
              "attributes": {
                "startLine": 181,
                "endLine": 181
              }
            },
            "default": null,
            "attributes": {
              "startLine": 181,
              "endLine": 181
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 181,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Input document being parsed\n\t *\n\t * @example \"Pre-text\\n<!-- wp:paragraph -->This is inside a block!<!-- /wp:paragraph -->\"\n\t *\n\t * @since 3.8.0\n\t * @var string\n\t */",
              "line": 173,
              "filePos": 4086,
              "tokenPos": 270,
              "endLine": 180,
              "endFilePos": 4258,
              "endTokenPos": 270
            }
          ],
          "endLine": 181
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "offset",
              "attributes": {
                "startLine": 189,
                "endLine": 189
              }
            },
            "default": null,
            "attributes": {
              "startLine": 189,
              "endLine": 189
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 189,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Tracks parsing progress through document\n\t *\n\t * @since 3.8.0\n\t * @var int\n\t */",
              "line": 183,
              "filePos": 4281,
              "tokenPos": 277,
              "endLine": 188,
              "endFilePos": 4367,
              "endTokenPos": 277
            }
          ],
          "endLine": 189
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "output",
              "attributes": {
                "startLine": 197,
                "endLine": 197
              }
            },
            "default": null,
            "attributes": {
              "startLine": 197,
              "endLine": 197
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 197,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * List of parsed blocks\n\t *\n\t * @since 3.8.0\n\t * @var WP_Block_Parser_Block[]\n\t */",
              "line": 191,
              "filePos": 4388,
              "tokenPos": 284,
              "endLine": 196,
              "endFilePos": 4475,
              "endTokenPos": 284
            }
          ],
          "endLine": 197
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "stack",
              "attributes": {
                "startLine": 205,
                "endLine": 205
              }
            },
            "default": null,
            "attributes": {
              "startLine": 205,
              "endLine": 205
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 205,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Stack of partially-parsed structures in memory during parse\n\t *\n\t * @since 3.8.0\n\t * @var WP_Block_Parser_Frame[]\n\t */",
              "line": 199,
              "filePos": 4496,
              "tokenPos": 291,
              "endLine": 204,
              "endFilePos": 4621,
              "endTokenPos": 291
            }
          ],
          "endLine": 205
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 1,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "empty_attrs",
              "attributes": {
                "startLine": 213,
                "endLine": 213
              }
            },
            "default": null,
            "attributes": {
              "startLine": 213,
              "endLine": 213
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 213,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Empty associative array, here due to PHP quirks\n\t *\n\t * @since 4.4.0\n\t * @var array empty associative array\n\t */",
              "line": 207,
              "filePos": 4641,
              "tokenPos": 298,
              "endLine": 212,
              "endFilePos": 4760,
              "endTokenPos": 298
            }
          ],
          "endLine": 213
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "parse",
          "attributes": {
            "startLine": 227,
            "endLine": 227
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "document",
              "attributes": {
                "startLine": 227,
                "endLine": 227
              }
            },
            "default": null,
            "attributes": {
              "startLine": 227,
              "endLine": 227
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 228,
                    "endLine": 228
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "document",
                  "attributes": {
                    "startLine": 228,
                    "endLine": 228
                  }
                },
                "attributes": {
                  "startLine": 228,
                  "endLine": 228
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "document",
                "attributes": {
                  "startLine": 228,
                  "endLine": 228
                }
              },
              "attributes": {
                "startLine": 228,
                "endLine": 228
              }
            },
            "attributes": {
              "startLine": 228,
              "endLine": 228
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 229,
                    "endLine": 229
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "offset",
                  "attributes": {
                    "startLine": 229,
                    "endLine": 229
                  }
                },
                "attributes": {
                  "startLine": 229,
                  "endLine": 229
                }
              },
              "expr": {
                "nodeType": "Scalar_LNumber",
                "value": 0,
                "attributes": {
                  "startLine": 229,
                  "endLine": 229,
                  "kind": 10
                }
              },
              "attributes": {
                "startLine": 229,
                "endLine": 229
              }
            },
            "attributes": {
              "startLine": 229,
              "endLine": 229
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 230,
                    "endLine": 230
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "output",
                  "attributes": {
                    "startLine": 230,
                    "endLine": 230
                  }
                },
                "attributes": {
                  "startLine": 230,
                  "endLine": 230
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [],
                "attributes": {
                  "startLine": 230,
                  "endLine": 230,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 230,
                "endLine": 230
              }
            },
            "attributes": {
              "startLine": 230,
              "endLine": 230
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 231,
                    "endLine": 231
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "stack",
                  "attributes": {
                    "startLine": 231,
                    "endLine": 231
                  }
                },
                "attributes": {
                  "startLine": 231,
                  "endLine": 231
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [],
                "attributes": {
                  "startLine": 231,
                  "endLine": 231,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 231,
                "endLine": 231
              }
            },
            "attributes": {
              "startLine": 231,
              "endLine": 231
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 232,
                    "endLine": 232
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "empty_attrs",
                  "attributes": {
                    "startLine": 232,
                    "endLine": 232
                  }
                },
                "attributes": {
                  "startLine": 232,
                  "endLine": 232
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "json_decode"
                  ],
                  "attributes": {
                    "startLine": 232,
                    "endLine": 232
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "{}",
                      "attributes": {
                        "startLine": 232,
                        "endLine": 232,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 232,
                      "endLine": 232
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 232,
                          "endLine": 232
                        }
                      },
                      "attributes": {
                        "startLine": 232,
                        "endLine": 232
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 232,
                      "endLine": 232
                    }
                  }
                ],
                "attributes": {
                  "startLine": 232,
                  "endLine": 232
                }
              },
              "attributes": {
                "startLine": 232,
                "endLine": 232
              }
            },
            "attributes": {
              "startLine": 232,
              "endLine": 232
            }
          },
          {
            "nodeType": "Stmt_Do",
            "stmts": [
              {
                "nodeType": "Stmt_Nop",
                "attributes": {
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// twiddle our thumbs.\n",
                      "line": 235,
                      "filePos": 5363,
                      "tokenPos": 379,
                      "endLine": 236,
                      "endFilePos": 5385,
                      "endTokenPos": 379
                    }
                  ],
                  "startLine": 236,
                  "endLine": 236,
                  "startFilePos": 5386,
                  "endFilePos": 5385,
                  "startTokenPos": 380,
                  "endTokenPos": 379
                }
              }
            ],
            "cond": {
              "nodeType": "Expr_MethodCall",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 236,
                  "endLine": 236
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "proceed",
                "attributes": {
                  "startLine": 236,
                  "endLine": 236
                }
              },
              "args": [],
              "attributes": {
                "startLine": 236,
                "endLine": 236
              }
            },
            "attributes": {
              "startLine": 234,
              "endLine": 236
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_PropertyFetch",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 238,
                  "endLine": 238
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "output",
                "attributes": {
                  "startLine": 238,
                  "endLine": 238
                }
              },
              "attributes": {
                "startLine": 238,
                "endLine": 238
              }
            },
            "attributes": {
              "startLine": 238,
              "endLine": 238
            }
          }
        ],
        "attributes": {
          "startLine": 227,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Parses a document and returns a list of block structures\n\t *\n\t * When encountering an invalid parse will return a best-effort\n\t * parse. In contrast to the specification parser this does not\n\t * return an error on invalid inputs.\n\t *\n\t * @since 3.8.0\n\t *\n\t * @param string $document Input document being parsed.\n\t * @return WP_Block_Parser_Block[]\n\t */",
              "line": 215,
              "filePos": 4786,
              "tokenPos": 305,
              "endLine": 226,
              "endFilePos": 5145,
              "endTokenPos": 305
            }
          ],
          "endLine": 239
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "proceed",
          "attributes": {
            "startLine": 255,
            "endLine": 255
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "next_token",
                "attributes": {
                  "startLine": 256,
                  "endLine": 256
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 256,
                    "endLine": 256
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "next_token",
                  "attributes": {
                    "startLine": 256,
                    "endLine": 256
                  }
                },
                "args": [],
                "attributes": {
                  "startLine": 256,
                  "endLine": 256
                }
              },
              "attributes": {
                "startLine": 256,
                "endLine": 256
              }
            },
            "attributes": {
              "startLine": 256,
              "endLine": 256
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "token_type",
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 257,
                      "endLine": 257
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "block_name",
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 257,
                      "endLine": 257
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "attrs",
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 257,
                      "endLine": 257
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "start_offset",
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 257,
                      "endLine": 257
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "token_length",
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 257,
                      "endLine": 257
                    }
                  }
                ],
                "attributes": {
                  "startLine": 257,
                  "endLine": 257
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "next_token",
                "attributes": {
                  "startLine": 257,
                  "endLine": 257
                }
              },
              "attributes": {
                "startLine": 257,
                "endLine": 257
              }
            },
            "attributes": {
              "startLine": 257,
              "endLine": 257
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "stack_depth",
                "attributes": {
                  "startLine": 258,
                  "endLine": 258
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "count"
                  ],
                  "attributes": {
                    "startLine": 258,
                    "endLine": 258
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 258,
                          "endLine": 258
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "stack",
                        "attributes": {
                          "startLine": 258,
                          "endLine": 258
                        }
                      },
                      "attributes": {
                        "startLine": 258,
                        "endLine": 258
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 258,
                      "endLine": 258
                    }
                  }
                ],
                "attributes": {
                  "startLine": 258,
                  "endLine": 258
                }
              },
              "attributes": {
                "startLine": 258,
                "endLine": 258
              }
            },
            "attributes": {
              "startLine": 258,
              "endLine": 258
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "leading_html_start",
                "attributes": {
                  "startLine": 261,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// we may have some HTML soup before the next block.\n",
                      "line": 260,
                      "filePos": 6068,
                      "tokenPos": 464,
                      "endLine": 261,
                      "endFilePos": 6120,
                      "endTokenPos": 464
                    }
                  ],
                  "endLine": 261
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Greater",
                  "left": {
                    "nodeType": "Expr_Variable",
                    "name": "start_offset",
                    "attributes": {
                      "startLine": 261,
                      "endLine": 261
                    }
                  },
                  "right": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 261,
                        "endLine": 261
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "offset",
                      "attributes": {
                        "startLine": 261,
                        "endLine": 261
                      }
                    },
                    "attributes": {
                      "startLine": 261,
                      "endLine": 261
                    }
                  },
                  "attributes": {
                    "startLine": 261,
                    "endLine": 261
                  }
                },
                "if": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 261,
                      "endLine": 261
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "offset",
                    "attributes": {
                      "startLine": 261,
                      "endLine": 261
                    }
                  },
                  "attributes": {
                    "startLine": 261,
                    "endLine": 261
                  }
                },
                "else": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "null"
                    ],
                    "attributes": {
                      "startLine": 261,
                      "endLine": 261
                    }
                  },
                  "attributes": {
                    "startLine": 261,
                    "endLine": 261
                  }
                },
                "attributes": {
                  "startLine": 261,
                  "endLine": 261
                }
              },
              "attributes": {
                "startLine": 261,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// we may have some HTML soup before the next block.\n",
                    "line": 260,
                    "filePos": 6068,
                    "tokenPos": 464,
                    "endLine": 261,
                    "endFilePos": 6120,
                    "endTokenPos": 464
                  }
                ],
                "endLine": 261
              }
            },
            "attributes": {
              "startLine": 261,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// we may have some HTML soup before the next block.\n",
                  "line": 260,
                  "filePos": 6068,
                  "tokenPos": 464,
                  "endLine": 261,
                  "endFilePos": 6120,
                  "endTokenPos": 464
                }
              ],
              "endLine": 261
            }
          },
          {
            "nodeType": "Stmt_Switch",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "token_type",
              "attributes": {
                "startLine": 263,
                "endLine": 263
              }
            },
            "cases": [
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "no-more-tokens",
                  "attributes": {
                    "startLine": 264,
                    "endLine": 264,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Identical",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 266,
                          "endLine": 266,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_depth",
                        "attributes": {
                          "startLine": 266,
                          "endLine": 266
                        }
                      },
                      "attributes": {
                        "startLine": 266,
                        "endLine": 266
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 267,
                              "endLine": 267
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "add_freeform",
                            "attributes": {
                              "startLine": 267,
                              "endLine": 267
                            }
                          },
                          "args": [],
                          "attributes": {
                            "startLine": 267,
                            "endLine": 267
                          }
                        },
                        "attributes": {
                          "startLine": 267,
                          "endLine": 267
                        }
                      },
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "false"
                            ],
                            "attributes": {
                              "startLine": 268,
                              "endLine": 268
                            }
                          },
                          "attributes": {
                            "startLine": 268,
                            "endLine": 268
                          }
                        },
                        "attributes": {
                          "startLine": 268,
                          "endLine": 268
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 266,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// if not in a block then flush output.\n",
                          "line": 265,
                          "filePos": 6257,
                          "tokenPos": 504,
                          "endLine": 266,
                          "endFilePos": 6296,
                          "endTokenPos": 504
                        }
                      ],
                      "endLine": 269
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Identical",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 1,
                        "attributes": {
                          "startLine": 281,
                          "endLine": 281,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_depth",
                        "attributes": {
                          "startLine": 281,
                          "endLine": 281
                        }
                      },
                      "attributes": {
                        "startLine": 281,
                        "endLine": 281
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 282,
                              "endLine": 282
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "add_block_from_stack",
                            "attributes": {
                              "startLine": 282,
                              "endLine": 282
                            }
                          },
                          "args": [],
                          "attributes": {
                            "startLine": 282,
                            "endLine": 282
                          }
                        },
                        "attributes": {
                          "startLine": 282,
                          "endLine": 282
                        }
                      },
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "false"
                            ],
                            "attributes": {
                              "startLine": 283,
                              "endLine": 283
                            }
                          },
                          "attributes": {
                            "startLine": 283,
                            "endLine": 283
                          }
                        },
                        "attributes": {
                          "startLine": 283,
                          "endLine": 283
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 281,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "/*\n\t\t\t\t * Otherwise we have a problem\n\t\t\t\t * This is an error\n\t\t\t\t *\n\t\t\t\t * we have options\n\t\t\t\t * - treat it all as freeform text\n\t\t\t\t * - assume an implicit closer (easiest when not nesting)\n\t\t\t\t */",
                          "line": 271,
                          "filePos": 6387,
                          "tokenPos": 534,
                          "endLine": 278,
                          "endFilePos": 6586,
                          "endTokenPos": 534
                        },
                        {
                          "nodeType": "Comment",
                          "text": "// for the easy case we'll assume an implicit closer.\n",
                          "line": 280,
                          "filePos": 6593,
                          "tokenPos": 536,
                          "endLine": 281,
                          "endFilePos": 6646,
                          "endTokenPos": 536
                        }
                      ],
                      "endLine": 284
                    }
                  },
                  {
                    "nodeType": "Stmt_While",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Smaller",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 291,
                          "endLine": 291,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "count"
                          ],
                          "attributes": {
                            "startLine": 291,
                            "endLine": 291
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 291,
                                  "endLine": 291
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "stack",
                                "attributes": {
                                  "startLine": 291,
                                  "endLine": 291
                                }
                              },
                              "attributes": {
                                "startLine": 291,
                                "endLine": 291
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 291,
                              "endLine": 291
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 291,
                          "endLine": 291
                        }
                      },
                      "attributes": {
                        "startLine": 291,
                        "endLine": 291
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 292,
                              "endLine": 292
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "add_block_from_stack",
                            "attributes": {
                              "startLine": 292,
                              "endLine": 292
                            }
                          },
                          "args": [],
                          "attributes": {
                            "startLine": 292,
                            "endLine": 292
                          }
                        },
                        "attributes": {
                          "startLine": 292,
                          "endLine": 292
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 291,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "/*\n\t\t\t\t * for the nested case where it's more difficult we'll\n\t\t\t\t * have to assume that multiple closers are missing\n\t\t\t\t * and so we'll collapse the whole stack piecewise\n\t\t\t\t */",
                          "line": 286,
                          "filePos": 6745,
                          "tokenPos": 566,
                          "endLine": 290,
                          "endFilePos": 6924,
                          "endTokenPos": 566
                        }
                      ],
                      "endLine": 293
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "false"
                        ],
                        "attributes": {
                          "startLine": 294,
                          "endLine": 294
                        }
                      },
                      "attributes": {
                        "startLine": 294,
                        "endLine": 294
                      }
                    },
                    "attributes": {
                      "startLine": 294,
                      "endLine": 294
                    }
                  }
                ],
                "attributes": {
                  "startLine": 264,
                  "endLine": 294
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "void-block",
                  "attributes": {
                    "startLine": 296,
                    "endLine": 296,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Identical",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 301,
                          "endLine": 301,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_depth",
                        "attributes": {
                          "startLine": 301,
                          "endLine": 301
                        }
                      },
                      "attributes": {
                        "startLine": 301,
                        "endLine": 301
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_If",
                        "cond": {
                          "nodeType": "Expr_Isset",
                          "vars": [
                            {
                              "nodeType": "Expr_Variable",
                              "name": "leading_html_start",
                              "attributes": {
                                "startLine": 302,
                                "endLine": 302
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 302,
                            "endLine": 302
                          }
                        },
                        "stmts": [
                          {
                            "nodeType": "Stmt_Expression",
                            "expr": {
                              "nodeType": "Expr_Assign",
                              "var": {
                                "nodeType": "Expr_ArrayDimFetch",
                                "var": {
                                  "nodeType": "Expr_PropertyFetch",
                                  "var": {
                                    "nodeType": "Expr_Variable",
                                    "name": "this",
                                    "attributes": {
                                      "startLine": 303,
                                      "endLine": 303
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "output",
                                    "attributes": {
                                      "startLine": 303,
                                      "endLine": 303
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 303,
                                    "endLine": 303
                                  }
                                },
                                "dim": null,
                                "attributes": {
                                  "startLine": 303,
                                  "endLine": 303
                                }
                              },
                              "expr": {
                                "nodeType": "Expr_Cast_Array",
                                "expr": {
                                  "nodeType": "Expr_StaticCall",
                                  "class": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "self"
                                    ],
                                    "attributes": {
                                      "startLine": 303,
                                      "endLine": 303
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "freeform",
                                    "attributes": {
                                      "startLine": 303,
                                      "endLine": 303
                                    }
                                  },
                                  "args": [
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Expr_FuncCall",
                                        "name": {
                                          "nodeType": "Name",
                                          "parts": [
                                            "substr"
                                          ],
                                          "attributes": {
                                            "startLine": 304,
                                            "endLine": 304
                                          }
                                        },
                                        "args": [
                                          {
                                            "nodeType": "Arg",
                                            "value": {
                                              "nodeType": "Expr_PropertyFetch",
                                              "var": {
                                                "nodeType": "Expr_Variable",
                                                "name": "this",
                                                "attributes": {
                                                  "startLine": 305,
                                                  "endLine": 305
                                                }
                                              },
                                              "name": {
                                                "nodeType": "Identifier",
                                                "name": "document",
                                                "attributes": {
                                                  "startLine": 305,
                                                  "endLine": 305
                                                }
                                              },
                                              "attributes": {
                                                "startLine": 305,
                                                "endLine": 305
                                              }
                                            },
                                            "byRef": false,
                                            "unpack": false,
                                            "attributes": {
                                              "startLine": 305,
                                              "endLine": 305
                                            }
                                          },
                                          {
                                            "nodeType": "Arg",
                                            "value": {
                                              "nodeType": "Expr_Variable",
                                              "name": "leading_html_start",
                                              "attributes": {
                                                "startLine": 306,
                                                "endLine": 306
                                              }
                                            },
                                            "byRef": false,
                                            "unpack": false,
                                            "attributes": {
                                              "startLine": 306,
                                              "endLine": 306
                                            }
                                          },
                                          {
                                            "nodeType": "Arg",
                                            "value": {
                                              "nodeType": "Expr_BinaryOp_Minus",
                                              "left": {
                                                "nodeType": "Expr_Variable",
                                                "name": "start_offset",
                                                "attributes": {
                                                  "startLine": 307,
                                                  "endLine": 307
                                                }
                                              },
                                              "right": {
                                                "nodeType": "Expr_Variable",
                                                "name": "leading_html_start",
                                                "attributes": {
                                                  "startLine": 307,
                                                  "endLine": 307
                                                }
                                              },
                                              "attributes": {
                                                "startLine": 307,
                                                "endLine": 307
                                              }
                                            },
                                            "byRef": false,
                                            "unpack": false,
                                            "attributes": {
                                              "startLine": 307,
                                              "endLine": 307
                                            }
                                          }
                                        ],
                                        "attributes": {
                                          "startLine": 304,
                                          "endLine": 308
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 304,
                                        "endLine": 308
                                      }
                                    }
                                  ],
                                  "attributes": {
                                    "startLine": 303,
                                    "endLine": 309
                                  }
                                },
                                "attributes": {
                                  "startLine": 303,
                                  "endLine": 309
                                }
                              },
                              "attributes": {
                                "startLine": 303,
                                "endLine": 309
                              }
                            },
                            "attributes": {
                              "startLine": 303,
                              "endLine": 309
                            }
                          }
                        ],
                        "elseifs": [],
                        "else": null,
                        "attributes": {
                          "startLine": 302,
                          "endLine": 310
                        }
                      },
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_ArrayDimFetch",
                            "var": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 312,
                                  "endLine": 312
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "output",
                                "attributes": {
                                  "startLine": 312,
                                  "endLine": 312
                                }
                              },
                              "attributes": {
                                "startLine": 312,
                                "endLine": 312
                              }
                            },
                            "dim": null,
                            "attributes": {
                              "startLine": 312,
                              "endLine": 312
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_Cast_Array",
                            "expr": {
                              "nodeType": "Expr_New",
                              "class": {
                                "nodeType": "Name",
                                "parts": [
                                  "WP_Block_Parser_Block"
                                ],
                                "attributes": {
                                  "startLine": 312,
                                  "endLine": 312
                                }
                              },
                              "args": [
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "block_name",
                                    "attributes": {
                                      "startLine": 312,
                                      "endLine": 312
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 312,
                                    "endLine": 312
                                  }
                                },
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "attrs",
                                    "attributes": {
                                      "startLine": 312,
                                      "endLine": 312
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 312,
                                    "endLine": 312
                                  }
                                },
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Expr_Array",
                                    "items": [],
                                    "attributes": {
                                      "startLine": 312,
                                      "endLine": 312,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 312,
                                    "endLine": 312
                                  }
                                },
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Scalar_String",
                                    "value": "",
                                    "attributes": {
                                      "startLine": 312,
                                      "endLine": 312,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 312,
                                    "endLine": 312
                                  }
                                },
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Expr_Array",
                                    "items": [],
                                    "attributes": {
                                      "startLine": 312,
                                      "endLine": 312,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 312,
                                    "endLine": 312
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 312,
                                "endLine": 312
                              }
                            },
                            "attributes": {
                              "startLine": 312,
                              "endLine": 312
                            }
                          },
                          "attributes": {
                            "startLine": 312,
                            "endLine": 312
                          }
                        },
                        "attributes": {
                          "startLine": 312,
                          "endLine": 312
                        }
                      },
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 313,
                                "endLine": 313
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "offset",
                              "attributes": {
                                "startLine": 313,
                                "endLine": 313
                              }
                            },
                            "attributes": {
                              "startLine": 313,
                              "endLine": 313
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_BinaryOp_Plus",
                            "left": {
                              "nodeType": "Expr_Variable",
                              "name": "start_offset",
                              "attributes": {
                                "startLine": 313,
                                "endLine": 313
                              }
                            },
                            "right": {
                              "nodeType": "Expr_Variable",
                              "name": "token_length",
                              "attributes": {
                                "startLine": 313,
                                "endLine": 313
                              }
                            },
                            "attributes": {
                              "startLine": 313,
                              "endLine": 313
                            }
                          },
                          "attributes": {
                            "startLine": 313,
                            "endLine": 313
                          }
                        },
                        "attributes": {
                          "startLine": 313,
                          "endLine": 313
                        }
                      },
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "true"
                            ],
                            "attributes": {
                              "startLine": 314,
                              "endLine": 314
                            }
                          },
                          "attributes": {
                            "startLine": 314,
                            "endLine": 314
                          }
                        },
                        "attributes": {
                          "startLine": 314,
                          "endLine": 314
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 301,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "/*\n\t\t\t\t * easy case is if we stumbled upon a void block\n\t\t\t\t * in the top-level of the document\n\t\t\t\t */",
                          "line": 297,
                          "filePos": 7055,
                          "tokenPos": 608,
                          "endLine": 300,
                          "endFilePos": 7157,
                          "endTokenPos": 608
                        }
                      ],
                      "endLine": 315
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 318,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// otherwise we found an inner block.\n",
                              "line": 317,
                              "filePos": 7607,
                              "tokenPos": 734,
                              "endLine": 318,
                              "endFilePos": 7644,
                              "endTokenPos": 734
                            }
                          ],
                          "endLine": 318
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "add_inner_block",
                        "attributes": {
                          "startLine": 318,
                          "endLine": 318
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_New",
                            "class": {
                              "nodeType": "Name",
                              "parts": [
                                "WP_Block_Parser_Block"
                              ],
                              "attributes": {
                                "startLine": 319,
                                "endLine": 319
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Variable",
                                  "name": "block_name",
                                  "attributes": {
                                    "startLine": 319,
                                    "endLine": 319
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 319,
                                  "endLine": 319
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Variable",
                                  "name": "attrs",
                                  "attributes": {
                                    "startLine": 319,
                                    "endLine": 319
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 319,
                                  "endLine": 319
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Array",
                                  "items": [],
                                  "attributes": {
                                    "startLine": 319,
                                    "endLine": 319,
                                    "kind": 1
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 319,
                                  "endLine": 319
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Scalar_String",
                                  "value": "",
                                  "attributes": {
                                    "startLine": 319,
                                    "endLine": 319,
                                    "kind": 1
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 319,
                                  "endLine": 319
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Array",
                                  "items": [],
                                  "attributes": {
                                    "startLine": 319,
                                    "endLine": 319,
                                    "kind": 1
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 319,
                                  "endLine": 319
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 319,
                              "endLine": 319
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 319,
                            "endLine": 319
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "start_offset",
                            "attributes": {
                              "startLine": 320,
                              "endLine": 320
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 320,
                            "endLine": 320
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "token_length",
                            "attributes": {
                              "startLine": 321,
                              "endLine": 321
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 321,
                            "endLine": 321
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 318,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// otherwise we found an inner block.\n",
                            "line": 317,
                            "filePos": 7607,
                            "tokenPos": 734,
                            "endLine": 318,
                            "endFilePos": 7644,
                            "endTokenPos": 734
                          }
                        ],
                        "endLine": 322
                      }
                    },
                    "attributes": {
                      "startLine": 318,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// otherwise we found an inner block.\n",
                          "line": 317,
                          "filePos": 7607,
                          "tokenPos": 734,
                          "endLine": 318,
                          "endFilePos": 7644,
                          "endTokenPos": 734
                        }
                      ],
                      "endLine": 322
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 323,
                            "endLine": 323
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "offset",
                          "attributes": {
                            "startLine": 323,
                            "endLine": 323
                          }
                        },
                        "attributes": {
                          "startLine": 323,
                          "endLine": 323
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_BinaryOp_Plus",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "start_offset",
                          "attributes": {
                            "startLine": 323,
                            "endLine": 323
                          }
                        },
                        "right": {
                          "nodeType": "Expr_Variable",
                          "name": "token_length",
                          "attributes": {
                            "startLine": 323,
                            "endLine": 323
                          }
                        },
                        "attributes": {
                          "startLine": 323,
                          "endLine": 323
                        }
                      },
                      "attributes": {
                        "startLine": 323,
                        "endLine": 323
                      }
                    },
                    "attributes": {
                      "startLine": 323,
                      "endLine": 323
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 324,
                          "endLine": 324
                        }
                      },
                      "attributes": {
                        "startLine": 324,
                        "endLine": 324
                      }
                    },
                    "attributes": {
                      "startLine": 324,
                      "endLine": 324
                    }
                  }
                ],
                "attributes": {
                  "startLine": 296,
                  "endLine": 324
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "block-opener",
                  "attributes": {
                    "startLine": 326,
                    "endLine": 326,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "array_push"
                        ],
                        "attributes": {
                          "startLine": 328,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// track all newly-opened blocks on the stack.\n",
                              "line": 327,
                              "filePos": 7893,
                              "tokenPos": 798,
                              "endLine": 328,
                              "endFilePos": 7939,
                              "endTokenPos": 798
                            }
                          ],
                          "endLine": 328
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 329,
                                "endLine": 329
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "stack",
                              "attributes": {
                                "startLine": 329,
                                "endLine": 329
                              }
                            },
                            "attributes": {
                              "startLine": 329,
                              "endLine": 329
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 329,
                            "endLine": 329
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_New",
                            "class": {
                              "nodeType": "Name",
                              "parts": [
                                "WP_Block_Parser_Frame"
                              ],
                              "attributes": {
                                "startLine": 330,
                                "endLine": 330
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_New",
                                  "class": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "WP_Block_Parser_Block"
                                    ],
                                    "attributes": {
                                      "startLine": 331,
                                      "endLine": 331
                                    }
                                  },
                                  "args": [
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Expr_Variable",
                                        "name": "block_name",
                                        "attributes": {
                                          "startLine": 331,
                                          "endLine": 331
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 331,
                                        "endLine": 331
                                      }
                                    },
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Expr_Variable",
                                        "name": "attrs",
                                        "attributes": {
                                          "startLine": 331,
                                          "endLine": 331
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 331,
                                        "endLine": 331
                                      }
                                    },
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Expr_Array",
                                        "items": [],
                                        "attributes": {
                                          "startLine": 331,
                                          "endLine": 331,
                                          "kind": 1
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 331,
                                        "endLine": 331
                                      }
                                    },
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Scalar_String",
                                        "value": "",
                                        "attributes": {
                                          "startLine": 331,
                                          "endLine": 331,
                                          "kind": 1
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 331,
                                        "endLine": 331
                                      }
                                    },
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Expr_Array",
                                        "items": [],
                                        "attributes": {
                                          "startLine": 331,
                                          "endLine": 331,
                                          "kind": 1
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 331,
                                        "endLine": 331
                                      }
                                    }
                                  ],
                                  "attributes": {
                                    "startLine": 331,
                                    "endLine": 331
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 331,
                                  "endLine": 331
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Variable",
                                  "name": "start_offset",
                                  "attributes": {
                                    "startLine": 332,
                                    "endLine": 332
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 332,
                                  "endLine": 332
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Variable",
                                  "name": "token_length",
                                  "attributes": {
                                    "startLine": 333,
                                    "endLine": 333
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 333,
                                  "endLine": 333
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_BinaryOp_Plus",
                                  "left": {
                                    "nodeType": "Expr_Variable",
                                    "name": "start_offset",
                                    "attributes": {
                                      "startLine": 334,
                                      "endLine": 334
                                    }
                                  },
                                  "right": {
                                    "nodeType": "Expr_Variable",
                                    "name": "token_length",
                                    "attributes": {
                                      "startLine": 334,
                                      "endLine": 334
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 334,
                                    "endLine": 334
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 334,
                                  "endLine": 334
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_Variable",
                                  "name": "leading_html_start",
                                  "attributes": {
                                    "startLine": 335,
                                    "endLine": 335
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 335,
                                  "endLine": 335
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 330,
                              "endLine": 336
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 330,
                            "endLine": 336
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 328,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// track all newly-opened blocks on the stack.\n",
                            "line": 327,
                            "filePos": 7893,
                            "tokenPos": 798,
                            "endLine": 328,
                            "endFilePos": 7939,
                            "endTokenPos": 798
                          }
                        ],
                        "endLine": 337
                      }
                    },
                    "attributes": {
                      "startLine": 328,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// track all newly-opened blocks on the stack.\n",
                          "line": 327,
                          "filePos": 7893,
                          "tokenPos": 798,
                          "endLine": 328,
                          "endFilePos": 7939,
                          "endTokenPos": 798
                        }
                      ],
                      "endLine": 337
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 338,
                            "endLine": 338
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "offset",
                          "attributes": {
                            "startLine": 338,
                            "endLine": 338
                          }
                        },
                        "attributes": {
                          "startLine": 338,
                          "endLine": 338
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_BinaryOp_Plus",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "start_offset",
                          "attributes": {
                            "startLine": 338,
                            "endLine": 338
                          }
                        },
                        "right": {
                          "nodeType": "Expr_Variable",
                          "name": "token_length",
                          "attributes": {
                            "startLine": 338,
                            "endLine": 338
                          }
                        },
                        "attributes": {
                          "startLine": 338,
                          "endLine": 338
                        }
                      },
                      "attributes": {
                        "startLine": 338,
                        "endLine": 338
                      }
                    },
                    "attributes": {
                      "startLine": 338,
                      "endLine": 338
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 339,
                          "endLine": 339
                        }
                      },
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339
                      }
                    },
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339
                    }
                  }
                ],
                "attributes": {
                  "startLine": 326,
                  "endLine": 339
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "block-closer",
                  "attributes": {
                    "startLine": 341,
                    "endLine": 341,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Identical",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 346,
                          "endLine": 346,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_depth",
                        "attributes": {
                          "startLine": 346,
                          "endLine": 346
                        }
                      },
                      "attributes": {
                        "startLine": 346,
                        "endLine": 346
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 353,
                              "comments": [
                                {
                                  "nodeType": "Comment",
                                  "text": "/*\n\t\t\t\t\t * we have options\n\t\t\t\t\t * - assume an implicit opener\n\t\t\t\t\t * - assume _this_ is the opener\n\t\t\t\t\t * - give up and close out the document\n\t\t\t\t\t */",
                                  "line": 347,
                                  "filePos": 8424,
                                  "tokenPos": 898,
                                  "endLine": 352,
                                  "endFilePos": 8577,
                                  "endTokenPos": 898
                                }
                              ],
                              "endLine": 353
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "add_freeform",
                            "attributes": {
                              "startLine": 353,
                              "endLine": 353
                            }
                          },
                          "args": [],
                          "attributes": {
                            "startLine": 353,
                            "comments": [
                              {
                                "nodeType": "Comment",
                                "text": "/*\n\t\t\t\t\t * we have options\n\t\t\t\t\t * - assume an implicit opener\n\t\t\t\t\t * - assume _this_ is the opener\n\t\t\t\t\t * - give up and close out the document\n\t\t\t\t\t */",
                                "line": 347,
                                "filePos": 8424,
                                "tokenPos": 898,
                                "endLine": 352,
                                "endFilePos": 8577,
                                "endTokenPos": 898
                              }
                            ],
                            "endLine": 353
                          }
                        },
                        "attributes": {
                          "startLine": 353,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "/*\n\t\t\t\t\t * we have options\n\t\t\t\t\t * - assume an implicit opener\n\t\t\t\t\t * - assume _this_ is the opener\n\t\t\t\t\t * - give up and close out the document\n\t\t\t\t\t */",
                              "line": 347,
                              "filePos": 8424,
                              "tokenPos": 898,
                              "endLine": 352,
                              "endFilePos": 8577,
                              "endTokenPos": 898
                            }
                          ],
                          "endLine": 353
                        }
                      },
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "false"
                            ],
                            "attributes": {
                              "startLine": 354,
                              "endLine": 354
                            }
                          },
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        "attributes": {
                          "startLine": 354,
                          "endLine": 354
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 346,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "/*\n\t\t\t\t * if we're missing an opener we're in trouble\n\t\t\t\t * This is an error\n\t\t\t\t */",
                          "line": 342,
                          "filePos": 8301,
                          "tokenPos": 882,
                          "endLine": 345,
                          "endFilePos": 8385,
                          "endTokenPos": 882
                        }
                      ],
                      "endLine": 355
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Identical",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 1,
                        "attributes": {
                          "startLine": 358,
                          "endLine": 358,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_depth",
                        "attributes": {
                          "startLine": 358,
                          "endLine": 358
                        }
                      },
                      "attributes": {
                        "startLine": 358,
                        "endLine": 358
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 359,
                              "endLine": 359
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "add_block_from_stack",
                            "attributes": {
                              "startLine": 359,
                              "endLine": 359
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "start_offset",
                                "attributes": {
                                  "startLine": 359,
                                  "endLine": 359
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 359,
                                "endLine": 359
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 359,
                            "endLine": 359
                          }
                        },
                        "attributes": {
                          "startLine": 359,
                          "endLine": 359
                        }
                      },
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 360,
                                "endLine": 360
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "offset",
                              "attributes": {
                                "startLine": 360,
                                "endLine": 360
                              }
                            },
                            "attributes": {
                              "startLine": 360,
                              "endLine": 360
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_BinaryOp_Plus",
                            "left": {
                              "nodeType": "Expr_Variable",
                              "name": "start_offset",
                              "attributes": {
                                "startLine": 360,
                                "endLine": 360
                              }
                            },
                            "right": {
                              "nodeType": "Expr_Variable",
                              "name": "token_length",
                              "attributes": {
                                "startLine": 360,
                                "endLine": 360
                              }
                            },
                            "attributes": {
                              "startLine": 360,
                              "endLine": 360
                            }
                          },
                          "attributes": {
                            "startLine": 360,
                            "endLine": 360
                          }
                        },
                        "attributes": {
                          "startLine": 360,
                          "endLine": 360
                        }
                      },
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "true"
                            ],
                            "attributes": {
                              "startLine": 361,
                              "endLine": 361
                            }
                          },
                          "attributes": {
                            "startLine": 361,
                            "endLine": 361
                          }
                        },
                        "attributes": {
                          "startLine": 361,
                          "endLine": 361
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 358,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// if we're not nesting then this is easy - close the block.\n",
                          "line": 357,
                          "filePos": 8637,
                          "tokenPos": 914,
                          "endLine": 358,
                          "endFilePos": 8697,
                          "endTokenPos": 914
                        }
                      ],
                      "endLine": 362
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_top",
                        "attributes": {
                          "startLine": 368,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "/*\n\t\t\t\t * otherwise we're nested and we have to close out the current\n\t\t\t\t * block and add it as a new innerBlock to the parent\n\t\t\t\t */",
                              "line": 364,
                              "filePos": 8862,
                              "tokenPos": 960,
                              "endLine": 367,
                              "endFilePos": 8996,
                              "endTokenPos": 960
                            }
                          ],
                          "endLine": 368
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "array_pop"
                          ],
                          "attributes": {
                            "startLine": 368,
                            "endLine": 368
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 368,
                                  "endLine": 368
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "stack",
                                "attributes": {
                                  "startLine": 368,
                                  "endLine": 368
                                }
                              },
                              "attributes": {
                                "startLine": 368,
                                "endLine": 368
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 368,
                              "endLine": 368
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 368,
                          "endLine": 368
                        }
                      },
                      "attributes": {
                        "startLine": 368,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "/*\n\t\t\t\t * otherwise we're nested and we have to close out the current\n\t\t\t\t * block and add it as a new innerBlock to the parent\n\t\t\t\t */",
                            "line": 364,
                            "filePos": 8862,
                            "tokenPos": 960,
                            "endLine": 367,
                            "endFilePos": 8996,
                            "endTokenPos": 960
                          }
                        ],
                        "endLine": 368
                      }
                    },
                    "attributes": {
                      "startLine": 368,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "/*\n\t\t\t\t * otherwise we're nested and we have to close out the current\n\t\t\t\t * block and add it as a new innerBlock to the parent\n\t\t\t\t */",
                          "line": 364,
                          "filePos": 8862,
                          "tokenPos": 960,
                          "endLine": 367,
                          "endFilePos": 8996,
                          "endTokenPos": 960
                        }
                      ],
                      "endLine": 368
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "html",
                        "attributes": {
                          "startLine": 369,
                          "endLine": 369
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "substr"
                          ],
                          "attributes": {
                            "startLine": 369,
                            "endLine": 369
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 369,
                                  "endLine": 369
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "document",
                                "attributes": {
                                  "startLine": 369,
                                  "endLine": 369
                                }
                              },
                              "attributes": {
                                "startLine": 369,
                                "endLine": 369
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 369,
                              "endLine": 369
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "stack_top",
                                "attributes": {
                                  "startLine": 369,
                                  "endLine": 369
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "prev_offset",
                                "attributes": {
                                  "startLine": 369,
                                  "endLine": 369
                                }
                              },
                              "attributes": {
                                "startLine": 369,
                                "endLine": 369
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 369,
                              "endLine": 369
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_BinaryOp_Minus",
                              "left": {
                                "nodeType": "Expr_Variable",
                                "name": "start_offset",
                                "attributes": {
                                  "startLine": 369,
                                  "endLine": 369
                                }
                              },
                              "right": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "stack_top",
                                  "attributes": {
                                    "startLine": 369,
                                    "endLine": 369
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "prev_offset",
                                  "attributes": {
                                    "startLine": 369,
                                    "endLine": 369
                                  }
                                },
                                "attributes": {
                                  "startLine": 369,
                                  "endLine": 369
                                }
                              },
                              "attributes": {
                                "startLine": 369,
                                "endLine": 369
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 369,
                              "endLine": 369
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 369,
                          "endLine": 369
                        }
                      },
                      "attributes": {
                        "startLine": 369,
                        "endLine": 369
                      }
                    },
                    "attributes": {
                      "startLine": 369,
                      "endLine": 369
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_AssignOp_Concat",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "stack_top",
                            "attributes": {
                              "startLine": 370,
                              "endLine": 370
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "block",
                            "attributes": {
                              "startLine": 370,
                              "endLine": 370
                            }
                          },
                          "attributes": {
                            "startLine": 370,
                            "endLine": 370
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "innerHTML",
                          "attributes": {
                            "startLine": 370,
                            "endLine": 370
                          }
                        },
                        "attributes": {
                          "startLine": 370,
                          "endLine": 370
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "html",
                        "attributes": {
                          "startLine": 370,
                          "endLine": 370
                        }
                      },
                      "attributes": {
                        "startLine": 370,
                        "endLine": 370
                      }
                    },
                    "attributes": {
                      "startLine": 370,
                      "endLine": 370
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "stack_top",
                              "attributes": {
                                "startLine": 371,
                                "endLine": 371
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "block",
                              "attributes": {
                                "startLine": 371,
                                "endLine": 371
                              }
                            },
                            "attributes": {
                              "startLine": 371,
                              "endLine": 371
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "innerContent",
                            "attributes": {
                              "startLine": 371,
                              "endLine": 371
                            }
                          },
                          "attributes": {
                            "startLine": 371,
                            "endLine": 371
                          }
                        },
                        "dim": null,
                        "attributes": {
                          "startLine": 371,
                          "endLine": 371
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "html",
                        "attributes": {
                          "startLine": 371,
                          "endLine": 371
                        }
                      },
                      "attributes": {
                        "startLine": 371,
                        "endLine": 371
                      }
                    },
                    "attributes": {
                      "startLine": 371,
                      "endLine": 371
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "stack_top",
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "prev_offset",
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        "attributes": {
                          "startLine": 372,
                          "endLine": 372
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_BinaryOp_Plus",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "start_offset",
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        "right": {
                          "nodeType": "Expr_Variable",
                          "name": "token_length",
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        "attributes": {
                          "startLine": 372,
                          "endLine": 372
                        }
                      },
                      "attributes": {
                        "startLine": 372,
                        "endLine": 372
                      }
                    },
                    "attributes": {
                      "startLine": 372,
                      "endLine": 372
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 374,
                          "endLine": 374
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "add_inner_block",
                        "attributes": {
                          "startLine": 374,
                          "endLine": 374
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "stack_top",
                              "attributes": {
                                "startLine": 375,
                                "endLine": 375
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "block",
                              "attributes": {
                                "startLine": 375,
                                "endLine": 375
                              }
                            },
                            "attributes": {
                              "startLine": 375,
                              "endLine": 375
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 375,
                            "endLine": 375
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "stack_top",
                              "attributes": {
                                "startLine": 376,
                                "endLine": 376
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "token_start",
                              "attributes": {
                                "startLine": 376,
                                "endLine": 376
                              }
                            },
                            "attributes": {
                              "startLine": 376,
                              "endLine": 376
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 376,
                            "endLine": 376
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "stack_top",
                              "attributes": {
                                "startLine": 377,
                                "endLine": 377
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "token_length",
                              "attributes": {
                                "startLine": 377,
                                "endLine": 377
                              }
                            },
                            "attributes": {
                              "startLine": 377,
                              "endLine": 377
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 377,
                            "endLine": 377
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_BinaryOp_Plus",
                            "left": {
                              "nodeType": "Expr_Variable",
                              "name": "start_offset",
                              "attributes": {
                                "startLine": 378,
                                "endLine": 378
                              }
                            },
                            "right": {
                              "nodeType": "Expr_Variable",
                              "name": "token_length",
                              "attributes": {
                                "startLine": 378,
                                "endLine": 378
                              }
                            },
                            "attributes": {
                              "startLine": 378,
                              "endLine": 378
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 378,
                            "endLine": 378
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 374,
                        "endLine": 379
                      }
                    },
                    "attributes": {
                      "startLine": 374,
                      "endLine": 379
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 380,
                            "endLine": 380
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "offset",
                          "attributes": {
                            "startLine": 380,
                            "endLine": 380
                          }
                        },
                        "attributes": {
                          "startLine": 380,
                          "endLine": 380
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_BinaryOp_Plus",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "start_offset",
                          "attributes": {
                            "startLine": 380,
                            "endLine": 380
                          }
                        },
                        "right": {
                          "nodeType": "Expr_Variable",
                          "name": "token_length",
                          "attributes": {
                            "startLine": 380,
                            "endLine": 380
                          }
                        },
                        "attributes": {
                          "startLine": 380,
                          "endLine": 380
                        }
                      },
                      "attributes": {
                        "startLine": 380,
                        "endLine": 380
                      }
                    },
                    "attributes": {
                      "startLine": 380,
                      "endLine": 380
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 381,
                          "endLine": 381
                        }
                      },
                      "attributes": {
                        "startLine": 381,
                        "endLine": 381
                      }
                    },
                    "attributes": {
                      "startLine": 381,
                      "endLine": 381
                    }
                  }
                ],
                "attributes": {
                  "startLine": 341,
                  "endLine": 381
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": null,
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 385,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// This is an error.\n",
                              "line": 384,
                              "filePos": 9604,
                              "tokenPos": 1091,
                              "endLine": 385,
                              "endFilePos": 9624,
                              "endTokenPos": 1091
                            }
                          ],
                          "endLine": 385
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "add_freeform",
                        "attributes": {
                          "startLine": 385,
                          "endLine": 385
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 385,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// This is an error.\n",
                            "line": 384,
                            "filePos": 9604,
                            "tokenPos": 1091,
                            "endLine": 385,
                            "endFilePos": 9624,
                            "endTokenPos": 1091
                          }
                        ],
                        "endLine": 385
                      }
                    },
                    "attributes": {
                      "startLine": 385,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// This is an error.\n",
                          "line": 384,
                          "filePos": 9604,
                          "tokenPos": 1091,
                          "endLine": 385,
                          "endFilePos": 9624,
                          "endTokenPos": 1091
                        }
                      ],
                      "endLine": 385
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "false"
                        ],
                        "attributes": {
                          "startLine": 386,
                          "endLine": 386
                        }
                      },
                      "attributes": {
                        "startLine": 386,
                        "endLine": 386
                      }
                    },
                    "attributes": {
                      "startLine": 386,
                      "endLine": 386
                    }
                  }
                ],
                "attributes": {
                  "startLine": 383,
                  "endLine": 386
                }
              }
            ],
            "attributes": {
              "startLine": 263,
              "endLine": 387
            }
          }
        ],
        "attributes": {
          "startLine": 255,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Processes the next token from the input document\n\t * and returns whether to proceed eating more tokens\n\t *\n\t * This is the \"next step\" function that essentially\n\t * takes a token as its input and decides what to do\n\t * with that token before descending deeper into a\n\t * nested block tree or continuing along the document\n\t * or breaking out of a level of nesting.\n\t *\n\t * @internal\n\t * @since 3.8.0\n\t * @return bool\n\t */",
              "line": 241,
              "filePos": 5448,
              "tokenPos": 405,
              "endLine": 254,
              "endFilePos": 5876,
              "endTokenPos": 405
            }
          ],
          "endLine": 388
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "next_token",
          "attributes": {
            "startLine": 401,
            "endLine": 401
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "matches",
                "attributes": {
                  "startLine": 402,
                  "endLine": 402
                }
              },
              "expr": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "null"
                  ],
                  "attributes": {
                    "startLine": 402,
                    "endLine": 402
                  }
                },
                "attributes": {
                  "startLine": 402,
                  "endLine": 402
                }
              },
              "attributes": {
                "startLine": 402,
                "endLine": 402
              }
            },
            "attributes": {
              "startLine": 402,
              "endLine": 402
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "has_match",
                "attributes": {
                  "startLine": 412,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t * aye the magic\n\t\t * we're using a single RegExp to tokenize the block comment delimiters\n\t\t * we're also using a trick here because the only difference between a\n\t\t * block opener and a block closer is the leading `/` before `wp:` (and\n\t\t * a closer has no attributes). we can trap them both and process the\n\t\t * match back in PHP to see which one it was.\n\t\t */",
                      "line": 404,
                      "filePos": 10093,
                      "tokenPos": 1126,
                      "endLine": 411,
                      "endFilePos": 10460,
                      "endTokenPos": 1126
                    }
                  ],
                  "endLine": 412
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "preg_match"
                  ],
                  "attributes": {
                    "startLine": 412,
                    "endLine": 412
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "/<!--\\s+(?P<closer>\\/)?wp:(?P<namespace>[a-z][a-z0-9_-]*\\/)?(?P<name>[a-z][a-z0-9_-]*)\\s+(?P<attrs>{(?:(?:[^}]+|}+(?=})|(?!}\\s+\\/?-->).)*+)?}\\s+)?(?P<void>\\/)?-->/s",
                      "attributes": {
                        "startLine": 413,
                        "endLine": 413,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 413,
                      "endLine": 413
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 414,
                          "endLine": 414
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "document",
                        "attributes": {
                          "startLine": 414,
                          "endLine": 414
                        }
                      },
                      "attributes": {
                        "startLine": 414,
                        "endLine": 414
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 414,
                      "endLine": 414
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "matches",
                      "attributes": {
                        "startLine": 415,
                        "endLine": 415
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 415,
                      "endLine": 415
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "PREG_OFFSET_CAPTURE"
                        ],
                        "attributes": {
                          "startLine": 416,
                          "endLine": 416
                        }
                      },
                      "attributes": {
                        "startLine": 416,
                        "endLine": 416
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 416,
                      "endLine": 416
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 417,
                          "endLine": 417
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "offset",
                        "attributes": {
                          "startLine": 417,
                          "endLine": 417
                        }
                      },
                      "attributes": {
                        "startLine": 417,
                        "endLine": 417
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 417,
                      "endLine": 417
                    }
                  }
                ],
                "attributes": {
                  "startLine": 412,
                  "endLine": 418
                }
              },
              "attributes": {
                "startLine": 412,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "/*\n\t\t * aye the magic\n\t\t * we're using a single RegExp to tokenize the block comment delimiters\n\t\t * we're also using a trick here because the only difference between a\n\t\t * block opener and a block closer is the leading `/` before `wp:` (and\n\t\t * a closer has no attributes). we can trap them both and process the\n\t\t * match back in PHP to see which one it was.\n\t\t */",
                    "line": 404,
                    "filePos": 10093,
                    "tokenPos": 1126,
                    "endLine": 411,
                    "endFilePos": 10460,
                    "endTokenPos": 1126
                  }
                ],
                "endLine": 418
              }
            },
            "attributes": {
              "startLine": 412,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "/*\n\t\t * aye the magic\n\t\t * we're using a single RegExp to tokenize the block comment delimiters\n\t\t * we're also using a trick here because the only difference between a\n\t\t * block opener and a block closer is the leading `/` before `wp:` (and\n\t\t * a closer has no attributes). we can trap them both and process the\n\t\t * match back in PHP to see which one it was.\n\t\t */",
                  "line": 404,
                  "filePos": 10093,
                  "tokenPos": 1126,
                  "endLine": 411,
                  "endFilePos": 10460,
                  "endTokenPos": 1126
                }
              ],
              "endLine": 418
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_Identical",
              "left": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "false"
                  ],
                  "attributes": {
                    "startLine": 421,
                    "endLine": 421
                  }
                },
                "attributes": {
                  "startLine": 421,
                  "endLine": 421
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "has_match",
                "attributes": {
                  "startLine": 421,
                  "endLine": 421
                }
              },
              "attributes": {
                "startLine": 421,
                "endLine": 421
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Array",
                  "items": [
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "no-more-tokens",
                        "attributes": {
                          "startLine": 422,
                          "endLine": 422,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 422,
                        "endLine": 422
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 422,
                            "endLine": 422
                          }
                        },
                        "attributes": {
                          "startLine": 422,
                          "endLine": 422
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 422,
                        "endLine": 422
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 422,
                            "endLine": 422
                          }
                        },
                        "attributes": {
                          "startLine": 422,
                          "endLine": 422
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 422,
                        "endLine": 422
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 422,
                            "endLine": 422
                          }
                        },
                        "attributes": {
                          "startLine": 422,
                          "endLine": 422
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 422,
                        "endLine": 422
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 422,
                            "endLine": 422
                          }
                        },
                        "attributes": {
                          "startLine": 422,
                          "endLine": 422
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 422,
                        "endLine": 422
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 422,
                    "endLine": 422,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 422,
                  "endLine": 422
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 421,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// if we get here we probably have catastrophic backtracking or out-of-memory in the PCRE.\n",
                  "line": 420,
                  "filePos": 10742,
                  "tokenPos": 1156,
                  "endLine": 421,
                  "endFilePos": 10832,
                  "endTokenPos": 1156
                }
              ],
              "endLine": 423
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_Identical",
              "left": {
                "nodeType": "Scalar_LNumber",
                "value": 0,
                "attributes": {
                  "startLine": 426,
                  "endLine": 426,
                  "kind": 10
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "has_match",
                "attributes": {
                  "startLine": 426,
                  "endLine": 426
                }
              },
              "attributes": {
                "startLine": 426,
                "endLine": 426
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Array",
                  "items": [
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "no-more-tokens",
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 427,
                    "endLine": 427,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 427,
                  "endLine": 427
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 426,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// we have no more tokens.\n",
                  "line": 425,
                  "filePos": 10933,
                  "tokenPos": 1196,
                  "endLine": 426,
                  "endFilePos": 10959,
                  "endTokenPos": 1196
                }
              ],
              "endLine": 428
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "match",
                      "attributes": {
                        "startLine": 430,
                        "endLine": 430
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 430,
                      "endLine": 430
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "started_at",
                      "attributes": {
                        "startLine": 430,
                        "endLine": 430
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 430,
                      "endLine": 430
                    }
                  }
                ],
                "attributes": {
                  "startLine": 430,
                  "endLine": 430
                }
              },
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "matches",
                  "attributes": {
                    "startLine": 430,
                    "endLine": 430
                  }
                },
                "dim": {
                  "nodeType": "Scalar_LNumber",
                  "value": 0,
                  "attributes": {
                    "startLine": 430,
                    "endLine": 430,
                    "kind": 10
                  }
                },
                "attributes": {
                  "startLine": 430,
                  "endLine": 430
                }
              },
              "attributes": {
                "startLine": 430,
                "endLine": 430
              }
            },
            "attributes": {
              "startLine": 430,
              "endLine": 430
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "length",
                "attributes": {
                  "startLine": 432,
                  "endLine": 432
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "strlen"
                  ],
                  "attributes": {
                    "startLine": 432,
                    "endLine": 432
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "match",
                      "attributes": {
                        "startLine": 432,
                        "endLine": 432
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 432,
                      "endLine": 432
                    }
                  }
                ],
                "attributes": {
                  "startLine": 432,
                  "endLine": 432
                }
              },
              "attributes": {
                "startLine": 432,
                "endLine": 432
              }
            },
            "attributes": {
              "startLine": 432,
              "endLine": 432
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "is_closer",
                "attributes": {
                  "startLine": 433,
                  "endLine": 433
                }
              },
              "expr": {
                "nodeType": "Expr_BinaryOp_BooleanAnd",
                "left": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "matches",
                        "attributes": {
                          "startLine": 433,
                          "endLine": 433
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "closer",
                        "attributes": {
                          "startLine": 433,
                          "endLine": 433,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 433,
                        "endLine": 433
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 433,
                    "endLine": 433
                  }
                },
                "right": {
                  "nodeType": "Expr_BinaryOp_NotIdentical",
                  "left": {
                    "nodeType": "Expr_UnaryMinus",
                    "expr": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 433,
                        "endLine": 433,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 433,
                      "endLine": 433
                    }
                  },
                  "right": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "matches",
                        "attributes": {
                          "startLine": 433,
                          "endLine": 433
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "closer",
                        "attributes": {
                          "startLine": 433,
                          "endLine": 433,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 433,
                        "endLine": 433
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 433,
                        "endLine": 433,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 433,
                      "endLine": 433
                    }
                  },
                  "attributes": {
                    "startLine": 433,
                    "endLine": 433
                  }
                },
                "attributes": {
                  "startLine": 433,
                  "endLine": 433
                }
              },
              "attributes": {
                "startLine": 433,
                "endLine": 433
              }
            },
            "attributes": {
              "startLine": 433,
              "endLine": 433
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "is_void",
                "attributes": {
                  "startLine": 434,
                  "endLine": 434
                }
              },
              "expr": {
                "nodeType": "Expr_BinaryOp_BooleanAnd",
                "left": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "matches",
                        "attributes": {
                          "startLine": 434,
                          "endLine": 434
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "void",
                        "attributes": {
                          "startLine": 434,
                          "endLine": 434,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 434,
                        "endLine": 434
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 434,
                    "endLine": 434
                  }
                },
                "right": {
                  "nodeType": "Expr_BinaryOp_NotIdentical",
                  "left": {
                    "nodeType": "Expr_UnaryMinus",
                    "expr": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 434,
                        "endLine": 434,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 434,
                      "endLine": 434
                    }
                  },
                  "right": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "matches",
                        "attributes": {
                          "startLine": 434,
                          "endLine": 434
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "void",
                        "attributes": {
                          "startLine": 434,
                          "endLine": 434,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 434,
                        "endLine": 434
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 434,
                        "endLine": 434,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 434,
                      "endLine": 434
                    }
                  },
                  "attributes": {
                    "startLine": 434,
                    "endLine": 434
                  }
                },
                "attributes": {
                  "startLine": 434,
                  "endLine": 434
                }
              },
              "attributes": {
                "startLine": 434,
                "endLine": 434
              }
            },
            "attributes": {
              "startLine": 434,
              "endLine": 434
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "namespace",
                "attributes": {
                  "startLine": 435,
                  "endLine": 435
                }
              },
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "matches",
                  "attributes": {
                    "startLine": 435,
                    "endLine": 435
                  }
                },
                "dim": {
                  "nodeType": "Scalar_String",
                  "value": "namespace",
                  "attributes": {
                    "startLine": 435,
                    "endLine": 435,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 435,
                  "endLine": 435
                }
              },
              "attributes": {
                "startLine": 435,
                "endLine": 435
              }
            },
            "attributes": {
              "startLine": 435,
              "endLine": 435
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "namespace",
                "attributes": {
                  "startLine": 436,
                  "endLine": 436
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_Isset",
                    "vars": [
                      {
                        "nodeType": "Expr_Variable",
                        "name": "namespace",
                        "attributes": {
                          "startLine": 436,
                          "endLine": 436
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 436,
                      "endLine": 436
                    }
                  },
                  "right": {
                    "nodeType": "Expr_BinaryOp_NotIdentical",
                    "left": {
                      "nodeType": "Expr_UnaryMinus",
                      "expr": {
                        "nodeType": "Scalar_LNumber",
                        "value": 1,
                        "attributes": {
                          "startLine": 436,
                          "endLine": 436,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 436,
                        "endLine": 436
                      }
                    },
                    "right": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "namespace",
                        "attributes": {
                          "startLine": 436,
                          "endLine": 436
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_LNumber",
                        "value": 1,
                        "attributes": {
                          "startLine": 436,
                          "endLine": 436,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 436,
                        "endLine": 436
                      }
                    },
                    "attributes": {
                      "startLine": 436,
                      "endLine": 436
                    }
                  },
                  "attributes": {
                    "startLine": 436,
                    "endLine": 436
                  }
                },
                "if": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "namespace",
                    "attributes": {
                      "startLine": 436,
                      "endLine": 436
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_LNumber",
                    "value": 0,
                    "attributes": {
                      "startLine": 436,
                      "endLine": 436,
                      "kind": 10
                    }
                  },
                  "attributes": {
                    "startLine": 436,
                    "endLine": 436
                  }
                },
                "else": {
                  "nodeType": "Scalar_String",
                  "value": "core/",
                  "attributes": {
                    "startLine": 436,
                    "endLine": 436,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 436,
                  "endLine": 436
                }
              },
              "attributes": {
                "startLine": 436,
                "endLine": 436
              }
            },
            "attributes": {
              "startLine": 436,
              "endLine": 436
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "name",
                "attributes": {
                  "startLine": 437,
                  "endLine": 437
                }
              },
              "expr": {
                "nodeType": "Expr_BinaryOp_Concat",
                "left": {
                  "nodeType": "Expr_Variable",
                  "name": "namespace",
                  "attributes": {
                    "startLine": 437,
                    "endLine": 437
                  }
                },
                "right": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "matches",
                      "attributes": {
                        "startLine": 437,
                        "endLine": 437
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "name",
                      "attributes": {
                        "startLine": 437,
                        "endLine": 437,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 437,
                      "endLine": 437
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_LNumber",
                    "value": 0,
                    "attributes": {
                      "startLine": 437,
                      "endLine": 437,
                      "kind": 10
                    }
                  },
                  "attributes": {
                    "startLine": 437,
                    "endLine": 437
                  }
                },
                "attributes": {
                  "startLine": 437,
                  "endLine": 437
                }
              },
              "attributes": {
                "startLine": 437,
                "endLine": 437
              }
            },
            "attributes": {
              "startLine": 437,
              "endLine": 437
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "has_attrs",
                "attributes": {
                  "startLine": 438,
                  "endLine": 438
                }
              },
              "expr": {
                "nodeType": "Expr_BinaryOp_BooleanAnd",
                "left": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "matches",
                        "attributes": {
                          "startLine": 438,
                          "endLine": 438
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "attrs",
                        "attributes": {
                          "startLine": 438,
                          "endLine": 438,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 438,
                        "endLine": 438
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 438,
                    "endLine": 438
                  }
                },
                "right": {
                  "nodeType": "Expr_BinaryOp_NotIdentical",
                  "left": {
                    "nodeType": "Expr_UnaryMinus",
                    "expr": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 438,
                        "endLine": 438,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 438,
                      "endLine": 438
                    }
                  },
                  "right": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "matches",
                        "attributes": {
                          "startLine": 438,
                          "endLine": 438
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "attrs",
                        "attributes": {
                          "startLine": 438,
                          "endLine": 438,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 438,
                        "endLine": 438
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 438,
                        "endLine": 438,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 438,
                      "endLine": 438
                    }
                  },
                  "attributes": {
                    "startLine": 438,
                    "endLine": 438
                  }
                },
                "attributes": {
                  "startLine": 438,
                  "endLine": 438
                }
              },
              "attributes": {
                "startLine": 438,
                "endLine": 438
              }
            },
            "attributes": {
              "startLine": 438,
              "endLine": 438
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "attrs",
                "attributes": {
                  "startLine": 444,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t * Fun fact! It's not trivial in PHP to create \"an empty associative array\" since all arrays\n\t\t * are associative arrays. If we use `array()` we get a JSON `[]`\n\t\t */",
                      "line": 440,
                      "filePos": 11535,
                      "tokenPos": 1422,
                      "endLine": 443,
                      "endFilePos": 11705,
                      "endTokenPos": 1422
                    }
                  ],
                  "endLine": 444
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_Variable",
                  "name": "has_attrs",
                  "attributes": {
                    "startLine": 444,
                    "endLine": 444
                  }
                },
                "if": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "json_decode"
                    ],
                    "attributes": {
                      "startLine": 445,
                      "endLine": 445
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_ArrayDimFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "matches",
                            "attributes": {
                              "startLine": 445,
                              "endLine": 445
                            }
                          },
                          "dim": {
                            "nodeType": "Scalar_String",
                            "value": "attrs",
                            "attributes": {
                              "startLine": 445,
                              "endLine": 445,
                              "kind": 1
                            }
                          },
                          "attributes": {
                            "startLine": 445,
                            "endLine": 445
                          }
                        },
                        "dim": {
                          "nodeType": "Scalar_LNumber",
                          "value": 0,
                          "attributes": {
                            "startLine": 445,
                            "endLine": 445,
                            "kind": 10
                          }
                        },
                        "attributes": {
                          "startLine": 445,
                          "endLine": 445
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 445,
                        "endLine": 445
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "true"
                          ],
                          "attributes": {
                            "startLine": 445,
                            "comments": [
                              {
                                "nodeType": "Comment",
                                "text": "/* as-associative */",
                                "line": 445,
                                "filePos": 11769,
                                "tokenPos": 1444,
                                "endLine": 445,
                                "endFilePos": 11788,
                                "endTokenPos": 1444
                              }
                            ],
                            "endLine": 445
                          }
                        },
                        "attributes": {
                          "startLine": 445,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "/* as-associative */",
                              "line": 445,
                              "filePos": 11769,
                              "tokenPos": 1444,
                              "endLine": 445,
                              "endFilePos": 11788,
                              "endTokenPos": 1444
                            }
                          ],
                          "endLine": 445
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 445,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "/* as-associative */",
                            "line": 445,
                            "filePos": 11769,
                            "tokenPos": 1444,
                            "endLine": 445,
                            "endFilePos": 11788,
                            "endTokenPos": 1444
                          }
                        ],
                        "endLine": 445
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 445,
                    "endLine": 445
                  }
                },
                "else": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 446,
                      "endLine": 446
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "empty_attrs",
                    "attributes": {
                      "startLine": 446,
                      "endLine": 446
                    }
                  },
                  "attributes": {
                    "startLine": 446,
                    "endLine": 446
                  }
                },
                "attributes": {
                  "startLine": 444,
                  "endLine": 446
                }
              },
              "attributes": {
                "startLine": 444,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "/*\n\t\t * Fun fact! It's not trivial in PHP to create \"an empty associative array\" since all arrays\n\t\t * are associative arrays. If we use `array()` we get a JSON `[]`\n\t\t */",
                    "line": 440,
                    "filePos": 11535,
                    "tokenPos": 1422,
                    "endLine": 443,
                    "endFilePos": 11705,
                    "endTokenPos": 1422
                  }
                ],
                "endLine": 446
              }
            },
            "attributes": {
              "startLine": 444,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "/*\n\t\t * Fun fact! It's not trivial in PHP to create \"an empty associative array\" since all arrays\n\t\t * are associative arrays. If we use `array()` we get a JSON `[]`\n\t\t */",
                  "line": 440,
                  "filePos": 11535,
                  "tokenPos": 1422,
                  "endLine": 443,
                  "endFilePos": 11705,
                  "endTokenPos": 1422
                }
              ],
              "endLine": 446
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_Variable",
                "name": "is_closer",
                "attributes": {
                  "startLine": 452,
                  "endLine": 452
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_BooleanOr",
                "left": {
                  "nodeType": "Expr_Variable",
                  "name": "is_void",
                  "attributes": {
                    "startLine": 452,
                    "endLine": 452
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "has_attrs",
                  "attributes": {
                    "startLine": 452,
                    "endLine": 452
                  }
                },
                "attributes": {
                  "startLine": 452,
                  "endLine": 452
                }
              },
              "attributes": {
                "startLine": 452,
                "endLine": 452
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Nop",
                "attributes": {
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// we can ignore them since they don't hurt anything.\n",
                      "line": 453,
                      "filePos": 11941,
                      "tokenPos": 1481,
                      "endLine": 454,
                      "endFilePos": 11994,
                      "endTokenPos": 1481
                    }
                  ],
                  "startLine": 454,
                  "endLine": 454,
                  "startFilePos": 11995,
                  "endFilePos": 11994,
                  "startTokenPos": 1482,
                  "endTokenPos": 1481
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 452,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "/*\n\t\t * This state isn't allowed\n\t\t * This is an error\n\t\t */",
                  "line": 448,
                  "filePos": 11825,
                  "tokenPos": 1457,
                  "endLine": 451,
                  "endFilePos": 11884,
                  "endTokenPos": 1457
                }
              ],
              "endLine": 454
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "is_void",
              "attributes": {
                "startLine": 456,
                "endLine": 456
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Array",
                  "items": [
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "void-block",
                        "attributes": {
                          "startLine": 457,
                          "endLine": 457,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 457,
                        "endLine": 457
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "name",
                        "attributes": {
                          "startLine": 457,
                          "endLine": 457
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 457,
                        "endLine": 457
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "attrs",
                        "attributes": {
                          "startLine": 457,
                          "endLine": 457
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 457,
                        "endLine": 457
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "started_at",
                        "attributes": {
                          "startLine": 457,
                          "endLine": 457
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 457,
                        "endLine": 457
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "length",
                        "attributes": {
                          "startLine": 457,
                          "endLine": 457
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 457,
                        "endLine": 457
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 457,
                    "endLine": 457,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 457,
                  "endLine": 457
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 456,
              "endLine": 458
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "is_closer",
              "attributes": {
                "startLine": 460,
                "endLine": 460
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Array",
                  "items": [
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "block-closer",
                        "attributes": {
                          "startLine": 461,
                          "endLine": 461,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 461,
                        "endLine": 461
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "name",
                        "attributes": {
                          "startLine": 461,
                          "endLine": 461
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 461,
                        "endLine": 461
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "null"
                          ],
                          "attributes": {
                            "startLine": 461,
                            "endLine": 461
                          }
                        },
                        "attributes": {
                          "startLine": 461,
                          "endLine": 461
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 461,
                        "endLine": 461
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "started_at",
                        "attributes": {
                          "startLine": 461,
                          "endLine": 461
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 461,
                        "endLine": 461
                      }
                    },
                    {
                      "nodeType": "Expr_ArrayItem",
                      "key": null,
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "length",
                        "attributes": {
                          "startLine": 461,
                          "endLine": 461
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 461,
                        "endLine": 461
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 461,
                    "endLine": 461,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 461,
                  "endLine": 461
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 460,
              "endLine": 462
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Array",
              "items": [
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "block-opener",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 464,
                    "endLine": 464
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "name",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 464,
                    "endLine": 464
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "attrs",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 464,
                    "endLine": 464
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "started_at",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 464,
                    "endLine": 464
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "length",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 464,
                    "endLine": 464
                  }
                }
              ],
              "attributes": {
                "startLine": 464,
                "endLine": 464,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 464,
              "endLine": 464
            }
          }
        ],
        "attributes": {
          "startLine": 401,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Scans the document from where we last left off\n\t * and finds the next valid token to parse if it exists\n\t *\n\t * Returns the type of the find: kind of find, block information, attributes\n\t *\n\t * @internal\n\t * @since 3.8.0\n\t * @since 4.6.1 fixed a bug in attribute parsing which caused catastrophic backtracking on invalid block comments\n\t * @return array\n\t */",
              "line": 390,
              "filePos": 9679,
              "tokenPos": 1109,
              "endLine": 400,
              "endFilePos": 10044,
              "endTokenPos": 1109
            }
          ],
          "endLine": 465
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "freeform",
          "attributes": {
            "startLine": 476,
            "endLine": 476
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "innerHTML",
              "attributes": {
                "startLine": 476,
                "endLine": 476
              }
            },
            "default": null,
            "attributes": {
              "startLine": 476,
              "endLine": 476
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_New",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "WP_Block_Parser_Block"
                ],
                "attributes": {
                  "startLine": 477,
                  "endLine": 477
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "null"
                      ],
                      "attributes": {
                        "startLine": 477,
                        "endLine": 477
                      }
                    },
                    "attributes": {
                      "startLine": 477,
                      "endLine": 477
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 477,
                    "endLine": 477
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 477,
                        "endLine": 477
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "empty_attrs",
                      "attributes": {
                        "startLine": 477,
                        "endLine": 477
                      }
                    },
                    "attributes": {
                      "startLine": 477,
                      "endLine": 477
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 477,
                    "endLine": 477
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Array",
                    "items": [],
                    "attributes": {
                      "startLine": 477,
                      "endLine": 477,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 477,
                    "endLine": 477
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "innerHTML",
                    "attributes": {
                      "startLine": 477,
                      "endLine": 477
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 477,
                    "endLine": 477
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Array",
                    "items": [
                      {
                        "nodeType": "Expr_ArrayItem",
                        "key": null,
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "innerHTML",
                          "attributes": {
                            "startLine": 477,
                            "endLine": 477
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 477,
                          "endLine": 477
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 477,
                      "endLine": 477,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 477,
                    "endLine": 477
                  }
                }
              ],
              "attributes": {
                "startLine": 477,
                "endLine": 477
              }
            },
            "attributes": {
              "startLine": 477,
              "endLine": 477
            }
          }
        ],
        "attributes": {
          "startLine": 476,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Returns a new block object for freeform HTML\n\t *\n\t * @internal\n\t * @since 3.9.0\n\t *\n\t * @param string $innerHTML HTML content of block.\n\t * @return WP_Block_Parser_Block freeform block object.\n\t */",
              "line": 467,
              "filePos": 12268,
              "tokenPos": 1577,
              "endLine": 475,
              "endFilePos": 12472,
              "endTokenPos": 1577
            }
          ],
          "endLine": 478
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "add_freeform",
          "attributes": {
            "startLine": 488,
            "endLine": 488
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "length",
              "attributes": {
                "startLine": 488,
                "endLine": 488
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 488,
                  "endLine": 488
                }
              },
              "attributes": {
                "startLine": 488,
                "endLine": 488
              }
            },
            "attributes": {
              "startLine": 488,
              "endLine": 488
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "length",
                "attributes": {
                  "startLine": 489,
                  "endLine": 489
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_Variable",
                  "name": "length",
                  "attributes": {
                    "startLine": 489,
                    "endLine": 489
                  }
                },
                "if": {
                  "nodeType": "Expr_Variable",
                  "name": "length",
                  "attributes": {
                    "startLine": 489,
                    "endLine": 489
                  }
                },
                "else": {
                  "nodeType": "Expr_BinaryOp_Minus",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "strlen"
                      ],
                      "attributes": {
                        "startLine": 489,
                        "endLine": 489
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 489,
                              "endLine": 489
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "document",
                            "attributes": {
                              "startLine": 489,
                              "endLine": 489
                            }
                          },
                          "attributes": {
                            "startLine": 489,
                            "endLine": 489
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 489,
                          "endLine": 489
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  },
                  "right": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 489,
                        "endLine": 489
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "offset",
                      "attributes": {
                        "startLine": 489,
                        "endLine": 489
                      }
                    },
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  },
                  "attributes": {
                    "startLine": 489,
                    "endLine": 489
                  }
                },
                "attributes": {
                  "startLine": 489,
                  "endLine": 489
                }
              },
              "attributes": {
                "startLine": 489,
                "endLine": 489
              }
            },
            "attributes": {
              "startLine": 489,
              "endLine": 489
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_Identical",
              "left": {
                "nodeType": "Scalar_LNumber",
                "value": 0,
                "attributes": {
                  "startLine": 491,
                  "endLine": 491,
                  "kind": 10
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "length",
                "attributes": {
                  "startLine": 491,
                  "endLine": 491
                }
              },
              "attributes": {
                "startLine": 491,
                "endLine": 491
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": null,
                "attributes": {
                  "startLine": 492,
                  "endLine": 492
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 491,
              "endLine": 493
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 495,
                      "endLine": 495
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "output",
                    "attributes": {
                      "startLine": 495,
                      "endLine": 495
                    }
                  },
                  "attributes": {
                    "startLine": 495,
                    "endLine": 495
                  }
                },
                "dim": null,
                "attributes": {
                  "startLine": 495,
                  "endLine": 495
                }
              },
              "expr": {
                "nodeType": "Expr_Cast_Array",
                "expr": {
                  "nodeType": "Expr_StaticCall",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "self"
                    ],
                    "attributes": {
                      "startLine": 495,
                      "endLine": 495
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "freeform",
                    "attributes": {
                      "startLine": 495,
                      "endLine": 495
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "substr"
                          ],
                          "attributes": {
                            "startLine": 495,
                            "endLine": 495
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 495,
                                  "endLine": 495
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "document",
                                "attributes": {
                                  "startLine": 495,
                                  "endLine": 495
                                }
                              },
                              "attributes": {
                                "startLine": 495,
                                "endLine": 495
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 495,
                              "endLine": 495
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 495,
                                  "endLine": 495
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "offset",
                                "attributes": {
                                  "startLine": 495,
                                  "endLine": 495
                                }
                              },
                              "attributes": {
                                "startLine": 495,
                                "endLine": 495
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 495,
                              "endLine": 495
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "length",
                              "attributes": {
                                "startLine": 495,
                                "endLine": 495
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 495,
                              "endLine": 495
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 495,
                          "endLine": 495
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 495,
                        "endLine": 495
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 495,
                    "endLine": 495
                  }
                },
                "attributes": {
                  "startLine": 495,
                  "endLine": 495
                }
              },
              "attributes": {
                "startLine": 495,
                "endLine": 495
              }
            },
            "attributes": {
              "startLine": 495,
              "endLine": 495
            }
          }
        ],
        "attributes": {
          "startLine": 488,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Pushes a length of text from the input document\n\t * to the output list as a freeform block.\n\t *\n\t * @internal\n\t * @since 3.8.0\n\t * @param null $length how many bytes of document text to output.\n\t */",
              "line": 480,
              "filePos": 12620,
              "tokenPos": 1625,
              "endLine": 487,
              "endFilePos": 12825,
              "endTokenPos": 1625
            }
          ],
          "endLine": 496
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "add_inner_block",
          "attributes": {
            "startLine": 509,
            "endLine": 509
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": {
              "nodeType": "Name",
              "parts": [
                "WP_Block_Parser_Block"
              ],
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "block",
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "default": null,
            "attributes": {
              "startLine": 509,
              "endLine": 509
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "token_start",
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "default": null,
            "attributes": {
              "startLine": 509,
              "endLine": 509
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "token_length",
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "default": null,
            "attributes": {
              "startLine": 509,
              "endLine": 509
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "last_offset",
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 509,
                  "endLine": 509
                }
              },
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "attributes": {
              "startLine": 509,
              "endLine": 509
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "parent",
                "attributes": {
                  "startLine": 510,
                  "endLine": 510
                }
              },
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 510,
                      "endLine": 510
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "stack",
                    "attributes": {
                      "startLine": 510,
                      "endLine": 510
                    }
                  },
                  "attributes": {
                    "startLine": 510,
                    "endLine": 510
                  }
                },
                "dim": {
                  "nodeType": "Expr_BinaryOp_Minus",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "count"
                      ],
                      "attributes": {
                        "startLine": 510,
                        "endLine": 510
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 510,
                              "endLine": 510
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "stack",
                            "attributes": {
                              "startLine": 510,
                              "endLine": 510
                            }
                          },
                          "attributes": {
                            "startLine": 510,
                            "endLine": 510
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 510,
                          "endLine": 510
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 510,
                      "endLine": 510
                    }
                  },
                  "right": {
                    "nodeType": "Scalar_LNumber",
                    "value": 1,
                    "attributes": {
                      "startLine": 510,
                      "endLine": 510,
                      "kind": 10
                    }
                  },
                  "attributes": {
                    "startLine": 510,
                    "endLine": 510
                  }
                },
                "attributes": {
                  "startLine": 510,
                  "endLine": 510
                }
              },
              "attributes": {
                "startLine": 510,
                "endLine": 510
              }
            },
            "attributes": {
              "startLine": 510,
              "endLine": 510
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "parent",
                      "attributes": {
                        "startLine": 511,
                        "endLine": 511
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "block",
                      "attributes": {
                        "startLine": 511,
                        "endLine": 511
                      }
                    },
                    "attributes": {
                      "startLine": 511,
                      "endLine": 511
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "innerBlocks",
                    "attributes": {
                      "startLine": 511,
                      "endLine": 511
                    }
                  },
                  "attributes": {
                    "startLine": 511,
                    "endLine": 511
                  }
                },
                "dim": null,
                "attributes": {
                  "startLine": 511,
                  "endLine": 511
                }
              },
              "expr": {
                "nodeType": "Expr_Cast_Array",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "block",
                  "attributes": {
                    "startLine": 511,
                    "endLine": 511
                  }
                },
                "attributes": {
                  "startLine": 511,
                  "endLine": 511
                }
              },
              "attributes": {
                "startLine": 511,
                "endLine": 511
              }
            },
            "attributes": {
              "startLine": 511,
              "endLine": 511
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "html",
                "attributes": {
                  "startLine": 512,
                  "endLine": 512
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "substr"
                  ],
                  "attributes": {
                    "startLine": 512,
                    "endLine": 512
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 512,
                          "endLine": 512
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "document",
                        "attributes": {
                          "startLine": 512,
                          "endLine": 512
                        }
                      },
                      "attributes": {
                        "startLine": 512,
                        "endLine": 512
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 512,
                      "endLine": 512
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "parent",
                        "attributes": {
                          "startLine": 512,
                          "endLine": 512
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "prev_offset",
                        "attributes": {
                          "startLine": 512,
                          "endLine": 512
                        }
                      },
                      "attributes": {
                        "startLine": 512,
                        "endLine": 512
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 512,
                      "endLine": 512
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_BinaryOp_Minus",
                      "left": {
                        "nodeType": "Expr_Variable",
                        "name": "token_start",
                        "attributes": {
                          "startLine": 512,
                          "endLine": 512
                        }
                      },
                      "right": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "parent",
                          "attributes": {
                            "startLine": 512,
                            "endLine": 512
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "prev_offset",
                          "attributes": {
                            "startLine": 512,
                            "endLine": 512
                          }
                        },
                        "attributes": {
                          "startLine": 512,
                          "endLine": 512
                        }
                      },
                      "attributes": {
                        "startLine": 512,
                        "endLine": 512
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 512,
                      "endLine": 512
                    }
                  }
                ],
                "attributes": {
                  "startLine": 512,
                  "endLine": 512
                }
              },
              "attributes": {
                "startLine": 512,
                "endLine": 512
              }
            },
            "attributes": {
              "startLine": 512,
              "endLine": 512
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Empty",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "html",
                  "attributes": {
                    "startLine": 514,
                    "endLine": 514
                  }
                },
                "attributes": {
                  "startLine": 514,
                  "endLine": 514
                }
              },
              "attributes": {
                "startLine": 514,
                "endLine": 514
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_AssignOp_Concat",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "parent",
                        "attributes": {
                          "startLine": 515,
                          "endLine": 515
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "block",
                        "attributes": {
                          "startLine": 515,
                          "endLine": 515
                        }
                      },
                      "attributes": {
                        "startLine": 515,
                        "endLine": 515
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "innerHTML",
                      "attributes": {
                        "startLine": 515,
                        "endLine": 515
                      }
                    },
                    "attributes": {
                      "startLine": 515,
                      "endLine": 515
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "html",
                    "attributes": {
                      "startLine": 515,
                      "endLine": 515
                    }
                  },
                  "attributes": {
                    "startLine": 515,
                    "endLine": 515
                  }
                },
                "attributes": {
                  "startLine": 515,
                  "endLine": 515
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "parent",
                          "attributes": {
                            "startLine": 516,
                            "endLine": 516
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "block",
                          "attributes": {
                            "startLine": 516,
                            "endLine": 516
                          }
                        },
                        "attributes": {
                          "startLine": 516,
                          "endLine": 516
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "innerContent",
                        "attributes": {
                          "startLine": 516,
                          "endLine": 516
                        }
                      },
                      "attributes": {
                        "startLine": 516,
                        "endLine": 516
                      }
                    },
                    "dim": null,
                    "attributes": {
                      "startLine": 516,
                      "endLine": 516
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "html",
                    "attributes": {
                      "startLine": 516,
                      "endLine": 516
                    }
                  },
                  "attributes": {
                    "startLine": 516,
                    "endLine": 516
                  }
                },
                "attributes": {
                  "startLine": 516,
                  "endLine": 516
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 514,
              "endLine": 517
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "parent",
                      "attributes": {
                        "startLine": 519,
                        "endLine": 519
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "block",
                      "attributes": {
                        "startLine": 519,
                        "endLine": 519
                      }
                    },
                    "attributes": {
                      "startLine": 519,
                      "endLine": 519
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "innerContent",
                    "attributes": {
                      "startLine": 519,
                      "endLine": 519
                    }
                  },
                  "attributes": {
                    "startLine": 519,
                    "endLine": 519
                  }
                },
                "dim": null,
                "attributes": {
                  "startLine": 519,
                  "endLine": 519
                }
              },
              "expr": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "null"
                  ],
                  "attributes": {
                    "startLine": 519,
                    "endLine": 519
                  }
                },
                "attributes": {
                  "startLine": 519,
                  "endLine": 519
                }
              },
              "attributes": {
                "startLine": 519,
                "endLine": 519
              }
            },
            "attributes": {
              "startLine": 519,
              "endLine": 519
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "parent",
                  "attributes": {
                    "startLine": 520,
                    "endLine": 520
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "prev_offset",
                  "attributes": {
                    "startLine": 520,
                    "endLine": 520
                  }
                },
                "attributes": {
                  "startLine": 520,
                  "endLine": 520
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_Variable",
                  "name": "last_offset",
                  "attributes": {
                    "startLine": 520,
                    "endLine": 520
                  }
                },
                "if": {
                  "nodeType": "Expr_Variable",
                  "name": "last_offset",
                  "attributes": {
                    "startLine": 520,
                    "endLine": 520
                  }
                },
                "else": {
                  "nodeType": "Expr_BinaryOp_Plus",
                  "left": {
                    "nodeType": "Expr_Variable",
                    "name": "token_start",
                    "attributes": {
                      "startLine": 520,
                      "endLine": 520
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "token_length",
                    "attributes": {
                      "startLine": 520,
                      "endLine": 520
                    }
                  },
                  "attributes": {
                    "startLine": 520,
                    "endLine": 520
                  }
                },
                "attributes": {
                  "startLine": 520,
                  "endLine": 520
                }
              },
              "attributes": {
                "startLine": 520,
                "endLine": 520
              }
            },
            "attributes": {
              "startLine": 520,
              "endLine": 520
            }
          }
        ],
        "attributes": {
          "startLine": 509,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Given a block structure from memory pushes\n\t * a new block to the output list.\n\t *\n\t * @internal\n\t * @since 3.8.0\n\t * @param WP_Block_Parser_Block $block        The block to add to the output.\n\t * @param int                   $token_start  Byte offset into the document where the first token for the block starts.\n\t * @param int                   $token_length Byte length of entire block from start of opening token to end of closing token.\n\t * @param int|null              $last_offset  Last byte offset into document if continuing form earlier output.\n\t */",
              "line": 498,
              "filePos": 13089,
              "tokenPos": 1726,
              "endLine": 508,
              "endFilePos": 13655,
              "endTokenPos": 1726
            }
          ],
          "endLine": 521
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 0,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "add_block_from_stack",
          "attributes": {
            "startLine": 530,
            "endLine": 530
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "end_offset",
              "attributes": {
                "startLine": 530,
                "endLine": 530
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 530,
                  "endLine": 530
                }
              },
              "attributes": {
                "startLine": 530,
                "endLine": 530
              }
            },
            "attributes": {
              "startLine": 530,
              "endLine": 530
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "stack_top",
                "attributes": {
                  "startLine": 531,
                  "endLine": 531
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "array_pop"
                  ],
                  "attributes": {
                    "startLine": 531,
                    "endLine": 531
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 531,
                          "endLine": 531
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "stack",
                        "attributes": {
                          "startLine": 531,
                          "endLine": 531
                        }
                      },
                      "attributes": {
                        "startLine": 531,
                        "endLine": 531
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 531,
                      "endLine": 531
                    }
                  }
                ],
                "attributes": {
                  "startLine": 531,
                  "endLine": 531
                }
              },
              "attributes": {
                "startLine": 531,
                "endLine": 531
              }
            },
            "attributes": {
              "startLine": 531,
              "endLine": 531
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "prev_offset",
                "attributes": {
                  "startLine": 532,
                  "endLine": 532
                }
              },
              "expr": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "stack_top",
                  "attributes": {
                    "startLine": 532,
                    "endLine": 532
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "prev_offset",
                  "attributes": {
                    "startLine": 532,
                    "endLine": 532
                  }
                },
                "attributes": {
                  "startLine": 532,
                  "endLine": 532
                }
              },
              "attributes": {
                "startLine": 532,
                "endLine": 532
              }
            },
            "attributes": {
              "startLine": 532,
              "endLine": 532
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "html",
                "attributes": {
                  "startLine": 534,
                  "endLine": 534
                }
              },
              "expr": {
                "nodeType": "Expr_Ternary",
                "cond": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_Variable",
                      "name": "end_offset",
                      "attributes": {
                        "startLine": 534,
                        "endLine": 534
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 534,
                    "endLine": 534
                  }
                },
                "if": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "substr"
                    ],
                    "attributes": {
                      "startLine": 535,
                      "endLine": 535
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 535,
                            "endLine": 535
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "document",
                          "attributes": {
                            "startLine": 535,
                            "endLine": 535
                          }
                        },
                        "attributes": {
                          "startLine": 535,
                          "endLine": 535
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 535,
                        "endLine": 535
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "prev_offset",
                        "attributes": {
                          "startLine": 535,
                          "endLine": 535
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 535,
                        "endLine": 535
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_BinaryOp_Minus",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "end_offset",
                          "attributes": {
                            "startLine": 535,
                            "endLine": 535
                          }
                        },
                        "right": {
                          "nodeType": "Expr_Variable",
                          "name": "prev_offset",
                          "attributes": {
                            "startLine": 535,
                            "endLine": 535
                          }
                        },
                        "attributes": {
                          "startLine": 535,
                          "endLine": 535
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 535,
                        "endLine": 535
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 535,
                    "endLine": 535
                  }
                },
                "else": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "substr"
                    ],
                    "attributes": {
                      "startLine": 536,
                      "endLine": 536
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 536,
                            "endLine": 536
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "document",
                          "attributes": {
                            "startLine": 536,
                            "endLine": 536
                          }
                        },
                        "attributes": {
                          "startLine": 536,
                          "endLine": 536
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 536,
                        "endLine": 536
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "prev_offset",
                        "attributes": {
                          "startLine": 536,
                          "endLine": 536
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 536,
                        "endLine": 536
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 536,
                    "endLine": 536
                  }
                },
                "attributes": {
                  "startLine": 534,
                  "endLine": 536
                }
              },
              "attributes": {
                "startLine": 534,
                "endLine": 536
              }
            },
            "attributes": {
              "startLine": 534,
              "endLine": 536
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Empty",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "html",
                  "attributes": {
                    "startLine": 538,
                    "endLine": 538
                  }
                },
                "attributes": {
                  "startLine": 538,
                  "endLine": 538
                }
              },
              "attributes": {
                "startLine": 538,
                "endLine": 538
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_AssignOp_Concat",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "stack_top",
                        "attributes": {
                          "startLine": 539,
                          "endLine": 539
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "block",
                        "attributes": {
                          "startLine": 539,
                          "endLine": 539
                        }
                      },
                      "attributes": {
                        "startLine": 539,
                        "endLine": 539
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "innerHTML",
                      "attributes": {
                        "startLine": 539,
                        "endLine": 539
                      }
                    },
                    "attributes": {
                      "startLine": 539,
                      "endLine": 539
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "html",
                    "attributes": {
                      "startLine": 539,
                      "endLine": 539
                    }
                  },
                  "attributes": {
                    "startLine": 539,
                    "endLine": 539
                  }
                },
                "attributes": {
                  "startLine": 539,
                  "endLine": 539
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "stack_top",
                          "attributes": {
                            "startLine": 540,
                            "endLine": 540
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "block",
                          "attributes": {
                            "startLine": 540,
                            "endLine": 540
                          }
                        },
                        "attributes": {
                          "startLine": 540,
                          "endLine": 540
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "innerContent",
                        "attributes": {
                          "startLine": 540,
                          "endLine": 540
                        }
                      },
                      "attributes": {
                        "startLine": 540,
                        "endLine": 540
                      }
                    },
                    "dim": null,
                    "attributes": {
                      "startLine": 540,
                      "endLine": 540
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "html",
                    "attributes": {
                      "startLine": 540,
                      "endLine": 540
                    }
                  },
                  "attributes": {
                    "startLine": 540,
                    "endLine": 540
                  }
                },
                "attributes": {
                  "startLine": 540,
                  "endLine": 540
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 538,
              "endLine": 541
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Isset",
              "vars": [
                {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "stack_top",
                    "attributes": {
                      "startLine": 543,
                      "endLine": 543
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "leading_html_start",
                    "attributes": {
                      "startLine": 543,
                      "endLine": 543
                    }
                  },
                  "attributes": {
                    "startLine": 543,
                    "endLine": 543
                  }
                }
              ],
              "attributes": {
                "startLine": 543,
                "endLine": 543
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 544,
                          "endLine": 544
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "output",
                        "attributes": {
                          "startLine": 544,
                          "endLine": 544
                        }
                      },
                      "attributes": {
                        "startLine": 544,
                        "endLine": 544
                      }
                    },
                    "dim": null,
                    "attributes": {
                      "startLine": 544,
                      "endLine": 544
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Cast_Array",
                    "expr": {
                      "nodeType": "Expr_StaticCall",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "self"
                        ],
                        "attributes": {
                          "startLine": 544,
                          "endLine": 544
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "freeform",
                        "attributes": {
                          "startLine": 544,
                          "endLine": 544
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_FuncCall",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "substr"
                              ],
                              "attributes": {
                                "startLine": 545,
                                "endLine": 545
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_PropertyFetch",
                                  "var": {
                                    "nodeType": "Expr_Variable",
                                    "name": "this",
                                    "attributes": {
                                      "startLine": 546,
                                      "endLine": 546
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "document",
                                    "attributes": {
                                      "startLine": 546,
                                      "endLine": 546
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 546,
                                    "endLine": 546
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 546,
                                  "endLine": 546
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_PropertyFetch",
                                  "var": {
                                    "nodeType": "Expr_Variable",
                                    "name": "stack_top",
                                    "attributes": {
                                      "startLine": 547,
                                      "endLine": 547
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "leading_html_start",
                                    "attributes": {
                                      "startLine": 547,
                                      "endLine": 547
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 547,
                                    "endLine": 547
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 547,
                                  "endLine": 547
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_BinaryOp_Minus",
                                  "left": {
                                    "nodeType": "Expr_PropertyFetch",
                                    "var": {
                                      "nodeType": "Expr_Variable",
                                      "name": "stack_top",
                                      "attributes": {
                                        "startLine": 548,
                                        "endLine": 548
                                      }
                                    },
                                    "name": {
                                      "nodeType": "Identifier",
                                      "name": "token_start",
                                      "attributes": {
                                        "startLine": 548,
                                        "endLine": 548
                                      }
                                    },
                                    "attributes": {
                                      "startLine": 548,
                                      "endLine": 548
                                    }
                                  },
                                  "right": {
                                    "nodeType": "Expr_PropertyFetch",
                                    "var": {
                                      "nodeType": "Expr_Variable",
                                      "name": "stack_top",
                                      "attributes": {
                                        "startLine": 548,
                                        "endLine": 548
                                      }
                                    },
                                    "name": {
                                      "nodeType": "Identifier",
                                      "name": "leading_html_start",
                                      "attributes": {
                                        "startLine": 548,
                                        "endLine": 548
                                      }
                                    },
                                    "attributes": {
                                      "startLine": 548,
                                      "endLine": 548
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 548,
                                    "endLine": 548
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 548,
                                  "endLine": 548
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 545,
                              "endLine": 549
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 545,
                            "endLine": 549
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 544,
                        "endLine": 550
                      }
                    },
                    "attributes": {
                      "startLine": 544,
                      "endLine": 550
                    }
                  },
                  "attributes": {
                    "startLine": 544,
                    "endLine": 550
                  }
                },
                "attributes": {
                  "startLine": 544,
                  "endLine": 550
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 543,
              "endLine": 551
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 553,
                      "endLine": 553
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "output",
                    "attributes": {
                      "startLine": 553,
                      "endLine": 553
                    }
                  },
                  "attributes": {
                    "startLine": 553,
                    "endLine": 553
                  }
                },
                "dim": null,
                "attributes": {
                  "startLine": 553,
                  "endLine": 553
                }
              },
              "expr": {
                "nodeType": "Expr_Cast_Array",
                "expr": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "stack_top",
                    "attributes": {
                      "startLine": 553,
                      "endLine": 553
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "block",
                    "attributes": {
                      "startLine": 553,
                      "endLine": 553
                    }
                  },
                  "attributes": {
                    "startLine": 553,
                    "endLine": 553
                  }
                },
                "attributes": {
                  "startLine": 553,
                  "endLine": 553
                }
              },
              "attributes": {
                "startLine": 553,
                "endLine": 553
              }
            },
            "attributes": {
              "startLine": 553,
              "endLine": 553
            }
          }
        ],
        "attributes": {
          "startLine": 530,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Pushes the top block from the parsing stack to the output list.\n\t *\n\t * @internal\n\t * @since 3.8.0\n\t * @param int|null $end_offset byte offset into document for where we should stop sending text output as HTML.\n\t */",
              "line": 523,
              "filePos": 14275,
              "tokenPos": 1901,
              "endLine": 529,
              "endFilePos": 14497,
              "endTokenPos": 1901
            }
          ],
          "endLine": 554
        }
      }
    ],
    "attributes": {
      "startLine": 172,
      "comments": [
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * Class WP_Block_Parser\n *\n * Parses a document and constructs a list of parsed block objects\n *\n * @since 3.8.0\n * @since 4.0.0 returns arrays not objects, all attributes are arrays\n */",
          "line": 164,
          "filePos": 3869,
          "tokenPos": 262,
          "endLine": 171,
          "endFilePos": 4059,
          "endTokenPos": 262
        }
      ],
      "endLine": 555
    }
  }
]