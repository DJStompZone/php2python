[
  {
    "nodeType": "Stmt_Class",
    "flags": 16,
    "extends": null,
    "implements": [],
    "name": {
      "nodeType": "Identifier",
      "name": "WP_Image_Editor",
      "attributes": {
        "startLine": 14,
        "endLine": 14
      }
    },
    "stmts": [
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "file",
              "attributes": {
                "startLine": 15,
                "endLine": 15
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 15,
                  "endLine": 15
                }
              },
              "attributes": {
                "startLine": 15,
                "endLine": 15
              }
            },
            "attributes": {
              "startLine": 15,
              "endLine": 15
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 15,
          "endLine": 15
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "size",
              "attributes": {
                "startLine": 16,
                "endLine": 16
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 16,
                  "endLine": 16
                }
              },
              "attributes": {
                "startLine": 16,
                "endLine": 16
              }
            },
            "attributes": {
              "startLine": 16,
              "endLine": 16
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 16,
          "endLine": 16
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "mime_type",
              "attributes": {
                "startLine": 17,
                "endLine": 17
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 17,
                  "endLine": 17
                }
              },
              "attributes": {
                "startLine": 17,
                "endLine": 17
              }
            },
            "attributes": {
              "startLine": 17,
              "endLine": 17
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 17,
          "endLine": 17
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "default_mime_type",
              "attributes": {
                "startLine": 18,
                "endLine": 18
              }
            },
            "default": {
              "nodeType": "Scalar_String",
              "value": "image/jpeg",
              "attributes": {
                "startLine": 18,
                "endLine": 18,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 18,
              "endLine": 18
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 18,
          "endLine": 18
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "quality",
              "attributes": {
                "startLine": 19,
                "endLine": 19
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 19,
                  "endLine": 19
                }
              },
              "attributes": {
                "startLine": 19,
                "endLine": 19
              }
            },
            "attributes": {
              "startLine": 19,
              "endLine": 19
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 19,
          "endLine": 19
        }
      },
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "default_quality",
              "attributes": {
                "startLine": 20,
                "endLine": 20
              }
            },
            "default": {
              "nodeType": "Scalar_LNumber",
              "value": 82,
              "attributes": {
                "startLine": 20,
                "endLine": 20,
                "kind": 10
              }
            },
            "attributes": {
              "startLine": 20,
              "endLine": 20
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 20,
          "endLine": 20
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "__construct",
          "attributes": {
            "startLine": 27,
            "endLine": 27
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "file",
              "attributes": {
                "startLine": 27,
                "endLine": 27
              }
            },
            "default": null,
            "attributes": {
              "startLine": 27,
              "endLine": 27
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 28,
                    "endLine": 28
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "file",
                  "attributes": {
                    "startLine": 28,
                    "endLine": 28
                  }
                },
                "attributes": {
                  "startLine": 28,
                  "endLine": 28
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "file",
                "attributes": {
                  "startLine": 28,
                  "endLine": 28
                }
              },
              "attributes": {
                "startLine": 28,
                "endLine": 28
              }
            },
            "attributes": {
              "startLine": 28,
              "endLine": 28
            }
          }
        ],
        "attributes": {
          "startLine": 27,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Each instance handles a single file.\n\t *\n\t * @param string $file Path to the file to load.\n\t */",
              "line": 22,
              "filePos": 457,
              "tokenPos": 67,
              "endLine": 26,
              "endFilePos": 559,
              "endTokenPos": 67
            }
          ],
          "endLine": 29
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 9,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "test",
          "attributes": {
            "startLine": 42,
            "endLine": 42
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "args",
              "attributes": {
                "startLine": 42,
                "endLine": 42
              }
            },
            "default": {
              "nodeType": "Expr_Array",
              "items": [],
              "attributes": {
                "startLine": 42,
                "endLine": 42,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 42,
              "endLine": 42
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 43,
                  "endLine": 43
                }
              },
              "attributes": {
                "startLine": 43,
                "endLine": 43
              }
            },
            "attributes": {
              "startLine": 43,
              "endLine": 43
            }
          }
        ],
        "attributes": {
          "startLine": 42,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Checks to see if current environment supports the editor chosen.\n\t * Must be overridden in a subclass.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @abstract\n\t *\n\t * @param array $args\n\t * @return bool\n\t */",
              "line": 31,
              "filePos": 629,
              "tokenPos": 93,
              "endLine": 41,
              "endFilePos": 826,
              "endTokenPos": 93
            }
          ],
          "endLine": 44
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 9,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "supports_mime_type",
          "attributes": {
            "startLine": 57,
            "endLine": 57
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 57,
                "endLine": 57
              }
            },
            "default": null,
            "attributes": {
              "startLine": 57,
              "endLine": 57
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 58,
                  "endLine": 58
                }
              },
              "attributes": {
                "startLine": 58,
                "endLine": 58
              }
            },
            "attributes": {
              "startLine": 58,
              "endLine": 58
            }
          }
        ],
        "attributes": {
          "startLine": 57,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Checks to see if editor supports the mime-type specified.\n\t * Must be overridden in a subclass.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @abstract\n\t *\n\t * @param string $mime_type\n\t * @return bool\n\t */",
              "line": 46,
              "filePos": 899,
              "tokenPos": 123,
              "endLine": 56,
              "endFilePos": 1095,
              "endTokenPos": 123
            }
          ],
          "endLine": 59
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "load",
          "attributes": {
            "startLine": 69,
            "endLine": 69
          }
        },
        "params": [],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 69,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Loads image from $this->file into editor.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @return bool|WP_Error True if loaded; WP_Error on failure.\n\t */",
              "line": 61,
              "filePos": 1177,
              "tokenPos": 147,
              "endLine": 68,
              "endFilePos": 1332,
              "endTokenPos": 147
            }
          ],
          "endLine": 69
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "save",
          "attributes": {
            "startLine": 81,
            "endLine": 81
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "destfilename",
              "attributes": {
                "startLine": 81,
                "endLine": 81
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 81,
                  "endLine": 81
                }
              },
              "attributes": {
                "startLine": 81,
                "endLine": 81
              }
            },
            "attributes": {
              "startLine": 81,
              "endLine": 81
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 81,
                "endLine": 81
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 81,
                  "endLine": 81
                }
              },
              "attributes": {
                "startLine": 81,
                "endLine": 81
              }
            },
            "attributes": {
              "startLine": 81,
              "endLine": 81
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 81,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Saves current image to file.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param string $destfilename\n\t * @param string $mime_type\n\t * @return array|WP_Error {'path'=>string, 'file'=>string, 'width'=>int, 'height'=>int, 'mime-type'=>string}\n\t */",
              "line": 71,
              "filePos": 1370,
              "tokenPos": 160,
              "endLine": 80,
              "endFilePos": 1620,
              "endTokenPos": 160
            }
          ],
          "endLine": 81
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "resize",
          "attributes": {
            "startLine": 98,
            "endLine": 98
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_w",
              "attributes": {
                "startLine": 98,
                "endLine": 98
              }
            },
            "default": null,
            "attributes": {
              "startLine": 98,
              "endLine": 98
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_h",
              "attributes": {
                "startLine": 98,
                "endLine": 98
              }
            },
            "default": null,
            "attributes": {
              "startLine": 98,
              "endLine": 98
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "crop",
              "attributes": {
                "startLine": 98,
                "endLine": 98
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 98,
                  "endLine": 98
                }
              },
              "attributes": {
                "startLine": 98,
                "endLine": 98
              }
            },
            "attributes": {
              "startLine": 98,
              "endLine": 98
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 98,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Resizes current image.\n\t *\n\t * At minimum, either a height or width must be provided.\n\t * If one of the two is set to null, the resize will\n\t * maintain aspect ratio according to the provided dimension.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param  int|null $max_w Image width.\n\t * @param  int|null $max_h Image height.\n\t * @param  bool     $crop\n\t * @return bool|WP_Error\n\t */",
              "line": 83,
              "filePos": 1699,
              "tokenPos": 187,
              "endLine": 97,
              "endFilePos": 2088,
              "endTokenPos": 187
            }
          ],
          "endLine": 98
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "multi_resize",
          "attributes": {
            "startLine": 117,
            "endLine": 117
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "sizes",
              "attributes": {
                "startLine": 117,
                "endLine": 117
              }
            },
            "default": null,
            "attributes": {
              "startLine": 117,
              "endLine": 117
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 117,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Resize multiple images from a single source.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param array $sizes {\n\t *     An array of image size arrays. Default sizes are 'small', 'medium', 'large'.\n\t *\n\t *     @type array $size {\n\t *         @type int  $width  Image width.\n\t *         @type int  $height Image height.\n\t *         @type bool $crop   Optional. Whether to crop the image. Default false.\n\t *     }\n\t * }\n\t * @return array An array of resized images metadata by size.\n\t */",
              "line": 100,
              "filePos": 2159,
              "tokenPos": 213,
              "endLine": 116,
              "endFilePos": 2648,
              "endTokenPos": 213
            }
          ],
          "endLine": 117
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "crop",
          "attributes": {
            "startLine": 134,
            "endLine": 134
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_x",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": null,
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_y",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": null,
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_w",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": null,
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_h",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": null,
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_w",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 134,
                  "endLine": 134
                }
              },
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_h",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 134,
                  "endLine": 134
                }
              },
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_abs",
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 134,
                  "endLine": 134
                }
              },
              "attributes": {
                "startLine": 134,
                "endLine": 134
              }
            },
            "attributes": {
              "startLine": 134,
              "endLine": 134
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 134,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Crops Image.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param int $src_x The start x position to crop from.\n\t * @param int $src_y The start y position to crop from.\n\t * @param int $src_w The width to crop.\n\t * @param int $src_h The height to crop.\n\t * @param int $dst_w Optional. The destination width.\n\t * @param int $dst_h Optional. The destination height.\n\t * @param bool $src_abs Optional. If the source crop points are absolute.\n\t * @return bool|WP_Error\n\t */",
              "line": 119,
              "filePos": 2702,
              "tokenPos": 229,
              "endLine": 133,
              "endFilePos": 3174,
              "endTokenPos": 229
            }
          ],
          "endLine": 134
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "rotate",
          "attributes": {
            "startLine": 145,
            "endLine": 145
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "angle",
              "attributes": {
                "startLine": 145,
                "endLine": 145
              }
            },
            "default": null,
            "attributes": {
              "startLine": 145,
              "endLine": 145
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 145,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Rotates current image counter-clockwise by $angle.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param float $angle\n\t * @return bool|WP_Error\n\t */",
              "line": 136,
              "filePos": 3292,
              "tokenPos": 275,
              "endLine": 144,
              "endFilePos": 3443,
              "endTokenPos": 275
            }
          ],
          "endLine": 145
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "flip",
          "attributes": {
            "startLine": 157,
            "endLine": 157
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "horz",
              "attributes": {
                "startLine": 157,
                "endLine": 157
              }
            },
            "default": null,
            "attributes": {
              "startLine": 157,
              "endLine": 157
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "vert",
              "attributes": {
                "startLine": 157,
                "endLine": 157
              }
            },
            "default": null,
            "attributes": {
              "startLine": 157,
              "endLine": 157
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 157,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Flips current image.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param bool $horz Flip along Horizontal Axis\n\t * @param bool $vert Flip along Vertical Axis\n\t * @return bool|WP_Error\n\t */",
              "line": 147,
              "filePos": 3491,
              "tokenPos": 291,
              "endLine": 156,
              "endFilePos": 3684,
              "endTokenPos": 291
            }
          ],
          "endLine": 157
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 17,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "stream",
          "attributes": {
            "startLine": 168,
            "endLine": 168
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 168,
                "endLine": 168
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 168,
                  "endLine": 168
                }
              },
              "attributes": {
                "startLine": 168,
                "endLine": 168
              }
            },
            "attributes": {
              "startLine": 168,
              "endLine": 168
            }
          }
        ],
        "returnType": null,
        "stmts": null,
        "attributes": {
          "startLine": 168,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Streams current image to browser.\n\t *\n\t * @since 3.5.0\n\t * @abstract\n\t *\n\t * @param string $mime_type The mime type of the image.\n\t * @return bool|WP_Error True on success, WP_Error object or false on failure.\n\t */",
              "line": 159,
              "filePos": 3736,
              "tokenPos": 310,
              "endLine": 167,
              "endFilePos": 3957,
              "endTokenPos": 310
            }
          ],
          "endLine": 168
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "get_size",
          "attributes": {
            "startLine": 182,
            "endLine": 182
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_PropertyFetch",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 183,
                  "endLine": 183
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "size",
                "attributes": {
                  "startLine": 183,
                  "endLine": 183
                }
              },
              "attributes": {
                "startLine": 183,
                "endLine": 183
              }
            },
            "attributes": {
              "startLine": 183,
              "endLine": 183
            }
          }
        ],
        "attributes": {
          "startLine": 182,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Gets dimensions of image.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @return array {\n\t *     Dimensions of the image.\n\t *\n\t *     @type int $width  The image width.\n\t *     @type int $height The image height.\n\t * }\n\t */",
              "line": 170,
              "filePos": 4016,
              "tokenPos": 330,
              "endLine": 181,
              "endFilePos": 4228,
              "endTokenPos": 330
            }
          ],
          "endLine": 184
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "update_size",
          "attributes": {
            "startLine": 195,
            "endLine": 195
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "width",
              "attributes": {
                "startLine": 195,
                "endLine": 195
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 195,
                  "endLine": 195
                }
              },
              "attributes": {
                "startLine": 195,
                "endLine": 195
              }
            },
            "attributes": {
              "startLine": 195,
              "endLine": 195
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "height",
              "attributes": {
                "startLine": 195,
                "endLine": 195
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 195,
                  "endLine": 195
                }
              },
              "attributes": {
                "startLine": 195,
                "endLine": 195
              }
            },
            "attributes": {
              "startLine": 195,
              "endLine": 195
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 196,
                    "endLine": 196
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "size",
                  "attributes": {
                    "startLine": 196,
                    "endLine": 196
                  }
                },
                "attributes": {
                  "startLine": 196,
                  "endLine": 196
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 197,
                        "endLine": 197,
                        "kind": 1
                      }
                    },
                    "value": {
                      "nodeType": "Expr_Cast_Int",
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "width",
                        "attributes": {
                          "startLine": 197,
                          "endLine": 197
                        }
                      },
                      "attributes": {
                        "startLine": 197,
                        "endLine": 197
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 197,
                      "endLine": 197
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 198,
                        "endLine": 198,
                        "kind": 1
                      }
                    },
                    "value": {
                      "nodeType": "Expr_Cast_Int",
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "height",
                        "attributes": {
                          "startLine": 198,
                          "endLine": 198
                        }
                      },
                      "attributes": {
                        "startLine": 198,
                        "endLine": 198
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 198,
                      "endLine": 198
                    }
                  }
                ],
                "attributes": {
                  "startLine": 196,
                  "endLine": 199,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 196,
                "endLine": 199
              }
            },
            "attributes": {
              "startLine": 196,
              "endLine": 199
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 200,
                  "endLine": 200
                }
              },
              "attributes": {
                "startLine": 200,
                "endLine": 200
              }
            },
            "attributes": {
              "startLine": 200,
              "endLine": 200
            }
          }
        ],
        "attributes": {
          "startLine": 195,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Sets current image size.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int $width\n\t * @param int $height\n\t * @return true\n\t */",
              "line": 186,
              "filePos": 4287,
              "tokenPos": 351,
              "endLine": 194,
              "endFilePos": 4410,
              "endTokenPos": 351
            }
          ],
          "endLine": 201
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "get_quality",
          "attributes": {
            "startLine": 210,
            "endLine": 210
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 211,
                    "endLine": 211
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "quality",
                  "attributes": {
                    "startLine": 211,
                    "endLine": 211
                  }
                },
                "attributes": {
                  "startLine": 211,
                  "endLine": 211
                }
              },
              "attributes": {
                "startLine": 211,
                "endLine": 211
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 212,
                      "endLine": 212
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "set_quality",
                    "attributes": {
                      "startLine": 212,
                      "endLine": 212
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 212,
                    "endLine": 212
                  }
                },
                "attributes": {
                  "startLine": 212,
                  "endLine": 212
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 211,
              "endLine": 213
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_PropertyFetch",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 215,
                  "endLine": 215
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "quality",
                "attributes": {
                  "startLine": 215,
                  "endLine": 215
                }
              },
              "attributes": {
                "startLine": 215,
                "endLine": 215
              }
            },
            "attributes": {
              "startLine": 215,
              "endLine": 215
            }
          }
        ],
        "attributes": {
          "startLine": 210,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Gets the Image Compression quality on a 1-100% scale.\n\t *\n\t * @since 4.0.0\n\t *\n\t * @return int $quality Compression Quality. Range: [1,100]\n\t */",
              "line": 203,
              "filePos": 4586,
              "tokenPos": 414,
              "endLine": 209,
              "endFilePos": 4737,
              "endTokenPos": 414
            }
          ],
          "endLine": 216
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "set_quality",
          "attributes": {
            "startLine": 226,
            "endLine": 226
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "quality",
              "attributes": {
                "startLine": 226,
                "endLine": 226
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 226,
                  "endLine": 226
                }
              },
              "attributes": {
                "startLine": 226,
                "endLine": 226
              }
            },
            "attributes": {
              "startLine": 226,
              "endLine": 226
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_Identical",
              "left": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "null"
                  ],
                  "attributes": {
                    "startLine": 227,
                    "endLine": 227
                  }
                },
                "attributes": {
                  "startLine": 227,
                  "endLine": 227
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "quality",
                "attributes": {
                  "startLine": 227,
                  "endLine": 227
                }
              },
              "attributes": {
                "startLine": 227,
                "endLine": 227
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "quality",
                    "attributes": {
                      "startLine": 241,
                      "comments": [
                        {
                          "nodeType": "Comment_Doc",
                          "text": "/**\n\t\t\t * Filters the default image compression quality setting.\n\t\t\t *\n\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t * manually without the `$quality` argument.\n\t\t\t *\n\t\t\t * set_quality() has priority over the filter.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param int    $quality   Quality level between 1 (low) and 100 (high).\n\t\t\t * @param string $mime_type Image mime type.\n\t\t\t */",
                          "line": 228,
                          "filePos": 5163,
                          "tokenPos": 491,
                          "endLine": 240,
                          "endFilePos": 5584,
                          "endTokenPos": 491
                        }
                      ],
                      "endLine": 241
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "apply_filters"
                      ],
                      "attributes": {
                        "startLine": 241,
                        "endLine": 241
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "wp_editor_set_quality",
                          "attributes": {
                            "startLine": 241,
                            "endLine": 241,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 241,
                          "endLine": 241
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 241,
                              "endLine": 241
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "default_quality",
                            "attributes": {
                              "startLine": 241,
                              "endLine": 241
                            }
                          },
                          "attributes": {
                            "startLine": 241,
                            "endLine": 241
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 241,
                          "endLine": 241
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 241,
                              "endLine": 241
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "mime_type",
                            "attributes": {
                              "startLine": 241,
                              "endLine": 241
                            }
                          },
                          "attributes": {
                            "startLine": 241,
                            "endLine": 241
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 241,
                          "endLine": 241
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 241,
                      "endLine": 241
                    }
                  },
                  "attributes": {
                    "startLine": 241,
                    "comments": [
                      {
                        "nodeType": "Comment_Doc",
                        "text": "/**\n\t\t\t * Filters the default image compression quality setting.\n\t\t\t *\n\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t * manually without the `$quality` argument.\n\t\t\t *\n\t\t\t * set_quality() has priority over the filter.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param int    $quality   Quality level between 1 (low) and 100 (high).\n\t\t\t * @param string $mime_type Image mime type.\n\t\t\t */",
                        "line": 228,
                        "filePos": 5163,
                        "tokenPos": 491,
                        "endLine": 240,
                        "endFilePos": 5584,
                        "endTokenPos": 491
                      }
                    ],
                    "endLine": 241
                  }
                },
                "attributes": {
                  "startLine": 241,
                  "comments": [
                    {
                      "nodeType": "Comment_Doc",
                      "text": "/**\n\t\t\t * Filters the default image compression quality setting.\n\t\t\t *\n\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t * manually without the `$quality` argument.\n\t\t\t *\n\t\t\t * set_quality() has priority over the filter.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param int    $quality   Quality level between 1 (low) and 100 (high).\n\t\t\t * @param string $mime_type Image mime type.\n\t\t\t */",
                      "line": 228,
                      "filePos": 5163,
                      "tokenPos": 491,
                      "endLine": 240,
                      "endFilePos": 5584,
                      "endTokenPos": 491
                    }
                  ],
                  "endLine": 241
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Equal",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "image/jpeg",
                    "attributes": {
                      "startLine": 243,
                      "endLine": 243,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 243,
                        "endLine": 243
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 243,
                        "endLine": 243
                      }
                    },
                    "attributes": {
                      "startLine": 243,
                      "endLine": 243
                    }
                  },
                  "attributes": {
                    "startLine": 243,
                    "endLine": 243
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "quality",
                        "attributes": {
                          "startLine": 260,
                          "comments": [
                            {
                              "nodeType": "Comment_Doc",
                              "text": "/**\n\t\t\t\t * Filters the JPEG compression quality for backward-compatibility.\n\t\t\t\t *\n\t\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t\t * manually without the `$quality` argument.\n\t\t\t\t *\n\t\t\t\t * set_quality() has priority over the filter.\n\t\t\t\t *\n\t\t\t\t * The filter is evaluated under two contexts: 'image_resize', and 'edit_image',\n\t\t\t\t * (when a JPEG image is saved to file).\n\t\t\t\t *\n\t\t\t\t * @since 2.5.0\n\t\t\t\t *\n\t\t\t\t * @param int    $quality Quality level between 0 (low) and 100 (high) of the JPEG.\n\t\t\t\t * @param string $context Context of the filter.\n\t\t\t\t */",
                              "line": 244,
                              "filePos": 5734,
                              "tokenPos": 531,
                              "endLine": 259,
                              "endFilePos": 6328,
                              "endTokenPos": 531
                            }
                          ],
                          "endLine": 260
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "apply_filters"
                          ],
                          "attributes": {
                            "startLine": 260,
                            "endLine": 260
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "jpeg_quality",
                              "attributes": {
                                "startLine": 260,
                                "endLine": 260,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 260,
                              "endLine": 260
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "quality",
                              "attributes": {
                                "startLine": 260,
                                "endLine": 260
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 260,
                              "endLine": 260
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "image_resize",
                              "attributes": {
                                "startLine": 260,
                                "endLine": 260,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 260,
                              "endLine": 260
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 260,
                          "endLine": 260
                        }
                      },
                      "attributes": {
                        "startLine": 260,
                        "comments": [
                          {
                            "nodeType": "Comment_Doc",
                            "text": "/**\n\t\t\t\t * Filters the JPEG compression quality for backward-compatibility.\n\t\t\t\t *\n\t\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t\t * manually without the `$quality` argument.\n\t\t\t\t *\n\t\t\t\t * set_quality() has priority over the filter.\n\t\t\t\t *\n\t\t\t\t * The filter is evaluated under two contexts: 'image_resize', and 'edit_image',\n\t\t\t\t * (when a JPEG image is saved to file).\n\t\t\t\t *\n\t\t\t\t * @since 2.5.0\n\t\t\t\t *\n\t\t\t\t * @param int    $quality Quality level between 0 (low) and 100 (high) of the JPEG.\n\t\t\t\t * @param string $context Context of the filter.\n\t\t\t\t */",
                            "line": 244,
                            "filePos": 5734,
                            "tokenPos": 531,
                            "endLine": 259,
                            "endFilePos": 6328,
                            "endTokenPos": 531
                          }
                        ],
                        "endLine": 260
                      }
                    },
                    "attributes": {
                      "startLine": 260,
                      "comments": [
                        {
                          "nodeType": "Comment_Doc",
                          "text": "/**\n\t\t\t\t * Filters the JPEG compression quality for backward-compatibility.\n\t\t\t\t *\n\t\t\t\t * Applies only during initial editor instantiation, or when set_quality() is run\n\t\t\t\t * manually without the `$quality` argument.\n\t\t\t\t *\n\t\t\t\t * set_quality() has priority over the filter.\n\t\t\t\t *\n\t\t\t\t * The filter is evaluated under two contexts: 'image_resize', and 'edit_image',\n\t\t\t\t * (when a JPEG image is saved to file).\n\t\t\t\t *\n\t\t\t\t * @since 2.5.0\n\t\t\t\t *\n\t\t\t\t * @param int    $quality Quality level between 0 (low) and 100 (high) of the JPEG.\n\t\t\t\t * @param string $context Context of the filter.\n\t\t\t\t */",
                          "line": 244,
                          "filePos": 5734,
                          "tokenPos": 531,
                          "endLine": 259,
                          "endFilePos": 6328,
                          "endTokenPos": 531
                        }
                      ],
                      "endLine": 260
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 243,
                  "endLine": 261
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanOr",
                  "left": {
                    "nodeType": "Expr_BinaryOp_Smaller",
                    "left": {
                      "nodeType": "Expr_Variable",
                      "name": "quality",
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    "right": {
                      "nodeType": "Scalar_LNumber",
                      "value": 0,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 263,
                      "endLine": 263
                    }
                  },
                  "right": {
                    "nodeType": "Expr_BinaryOp_Greater",
                    "left": {
                      "nodeType": "Expr_Variable",
                      "name": "quality",
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    "right": {
                      "nodeType": "Scalar_LNumber",
                      "value": 100,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 263,
                      "endLine": 263
                    }
                  },
                  "attributes": {
                    "startLine": 263,
                    "endLine": 263
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "quality",
                        "attributes": {
                          "startLine": 264,
                          "endLine": 264
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 264,
                            "endLine": 264
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "default_quality",
                          "attributes": {
                            "startLine": 264,
                            "endLine": 264
                          }
                        },
                        "attributes": {
                          "startLine": 264,
                          "endLine": 264
                        }
                      },
                      "attributes": {
                        "startLine": 264,
                        "endLine": 264
                      }
                    },
                    "attributes": {
                      "startLine": 264,
                      "endLine": 264
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 263,
                  "endLine": 265
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 227,
              "endLine": 266
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_Identical",
              "left": {
                "nodeType": "Scalar_LNumber",
                "value": 0,
                "attributes": {
                  "startLine": 269,
                  "endLine": 269,
                  "kind": 10
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "quality",
                "attributes": {
                  "startLine": 269,
                  "endLine": 269
                }
              },
              "attributes": {
                "startLine": 269,
                "endLine": 269
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "quality",
                    "attributes": {
                      "startLine": 270,
                      "endLine": 270
                    }
                  },
                  "expr": {
                    "nodeType": "Scalar_LNumber",
                    "value": 1,
                    "attributes": {
                      "startLine": 270,
                      "endLine": 270,
                      "kind": 10
                    }
                  },
                  "attributes": {
                    "startLine": 270,
                    "endLine": 270
                  }
                },
                "attributes": {
                  "startLine": 270,
                  "endLine": 270
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 269,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Allow 0, but squash to 1 due to identical images in GD, and for backward compatibility.\n",
                  "line": 268,
                  "filePos": 6504,
                  "tokenPos": 588,
                  "endLine": 269,
                  "endFilePos": 6594,
                  "endTokenPos": 588
                }
              ],
              "endLine": 271
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BinaryOp_GreaterOrEqual",
                "left": {
                  "nodeType": "Expr_Variable",
                  "name": "quality",
                  "attributes": {
                    "startLine": 273,
                    "endLine": 273
                  }
                },
                "right": {
                  "nodeType": "Scalar_LNumber",
                  "value": 1,
                  "attributes": {
                    "startLine": 273,
                    "endLine": 273,
                    "kind": 10
                  }
                },
                "attributes": {
                  "startLine": 273,
                  "endLine": 273
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_SmallerOrEqual",
                "left": {
                  "nodeType": "Expr_Variable",
                  "name": "quality",
                  "attributes": {
                    "startLine": 273,
                    "endLine": 273
                  }
                },
                "right": {
                  "nodeType": "Scalar_LNumber",
                  "value": 100,
                  "attributes": {
                    "startLine": 273,
                    "endLine": 273,
                    "kind": 10
                  }
                },
                "attributes": {
                  "startLine": 273,
                  "endLine": 273
                }
              },
              "attributes": {
                "startLine": 273,
                "endLine": 273
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 274,
                        "endLine": 274
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "quality",
                      "attributes": {
                        "startLine": 274,
                        "endLine": 274
                      }
                    },
                    "attributes": {
                      "startLine": 274,
                      "endLine": 274
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "quality",
                    "attributes": {
                      "startLine": 274,
                      "endLine": 274
                    }
                  },
                  "attributes": {
                    "startLine": 274,
                    "endLine": 274
                  }
                },
                "attributes": {
                  "startLine": 274,
                  "endLine": 274
                }
              },
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 275,
                      "endLine": 275
                    }
                  },
                  "attributes": {
                    "startLine": 275,
                    "endLine": 275
                  }
                },
                "attributes": {
                  "startLine": 275,
                  "endLine": 275
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Return",
                  "expr": {
                    "nodeType": "Expr_New",
                    "class": {
                      "nodeType": "Name",
                      "parts": [
                        "WP_Error"
                      ],
                      "attributes": {
                        "startLine": 277,
                        "endLine": 277
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "invalid_image_quality",
                          "attributes": {
                            "startLine": 277,
                            "endLine": 277,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "__"
                            ],
                            "attributes": {
                              "startLine": 277,
                              "endLine": 277
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "Attempted to set image quality outside of the range [1,100].",
                                "attributes": {
                                  "startLine": 277,
                                  "endLine": 277,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 277,
                                "endLine": 277
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 277,
                            "endLine": 277
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 277,
                      "endLine": 277
                    }
                  },
                  "attributes": {
                    "startLine": 277,
                    "endLine": 277
                  }
                }
              ],
              "attributes": {
                "startLine": 276,
                "endLine": 278
              }
            },
            "attributes": {
              "startLine": 273,
              "endLine": 278
            }
          }
        ],
        "attributes": {
          "startLine": 226,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Sets Image Compression quality on a 1-100% scale.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int $quality Compression Quality. Range: [1,100]\n\t * @return true|WP_Error True if set successfully; WP_Error on failure.\n\t */",
              "line": 218,
              "filePos": 4860,
              "tokenPos": 458,
              "endLine": 225,
              "endFilePos": 5079,
              "endTokenPos": 458
            }
          ],
          "endLine": 279
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "get_output_format",
          "attributes": {
            "startLine": 295,
            "endLine": 295
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 295,
                "endLine": 295
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 295,
                  "endLine": 295
                }
              },
              "attributes": {
                "startLine": 295,
                "endLine": 295
              }
            },
            "attributes": {
              "startLine": 295,
              "endLine": 295
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 295,
                "endLine": 295
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 295,
                  "endLine": 295
                }
              },
              "attributes": {
                "startLine": 295,
                "endLine": 295
              }
            },
            "attributes": {
              "startLine": 295,
              "endLine": 295
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "new_ext",
                "attributes": {
                  "startLine": 296,
                  "endLine": 296
                }
              },
              "expr": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "null"
                  ],
                  "attributes": {
                    "startLine": 296,
                    "endLine": 296
                  }
                },
                "attributes": {
                  "startLine": 296,
                  "endLine": 296
                }
              },
              "attributes": {
                "startLine": 296,
                "endLine": 296
              }
            },
            "attributes": {
              "startLine": 296,
              "endLine": 296
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 299,
                "endLine": 299
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "new_ext",
                    "attributes": {
                      "startLine": 300,
                      "endLine": 300
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 300,
                        "endLine": 300
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "get_extension",
                      "attributes": {
                        "startLine": 300,
                        "endLine": 300
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "mime_type",
                          "attributes": {
                            "startLine": 300,
                            "endLine": 300
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 300,
                          "endLine": 300
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 300,
                      "endLine": 300
                    }
                  },
                  "attributes": {
                    "startLine": 300,
                    "endLine": 300
                  }
                },
                "attributes": {
                  "startLine": 300,
                  "endLine": 300
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 299,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// By default, assume specified type takes priority.\n",
                  "line": 298,
                  "filePos": 7411,
                  "tokenPos": 720,
                  "endLine": 299,
                  "endFilePos": 7463,
                  "endTokenPos": 720
                }
              ],
              "endLine": 301
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 303,
                "endLine": 303
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "file_ext",
                    "attributes": {
                      "startLine": 304,
                      "endLine": 304
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "strtolower"
                      ],
                      "attributes": {
                        "startLine": 304,
                        "endLine": 304
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "pathinfo"
                            ],
                            "attributes": {
                              "startLine": 304,
                              "endLine": 304
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "filename",
                                "attributes": {
                                  "startLine": 304,
                                  "endLine": 304
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 304,
                                "endLine": 304
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_ConstFetch",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "PATHINFO_EXTENSION"
                                  ],
                                  "attributes": {
                                    "startLine": 304,
                                    "endLine": 304
                                  }
                                },
                                "attributes": {
                                  "startLine": 304,
                                  "endLine": 304
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 304,
                                "endLine": 304
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 304,
                            "endLine": 304
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 304,
                          "endLine": 304
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 304,
                      "endLine": 304
                    }
                  },
                  "attributes": {
                    "startLine": 304,
                    "endLine": 304
                  }
                },
                "attributes": {
                  "startLine": 304,
                  "endLine": 304
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "file_mime",
                    "attributes": {
                      "startLine": 305,
                      "endLine": 305
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 305,
                        "endLine": 305
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "get_mime_type",
                      "attributes": {
                        "startLine": 305,
                        "endLine": 305
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "file_ext",
                          "attributes": {
                            "startLine": 305,
                            "endLine": 305
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 305,
                          "endLine": 305
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 305,
                      "endLine": 305
                    }
                  },
                  "attributes": {
                    "startLine": 305,
                    "endLine": 305
                  }
                },
                "attributes": {
                  "startLine": 305,
                  "endLine": 305
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "file_ext",
                      "attributes": {
                        "startLine": 308,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// If no file specified, grab editor's current extension and mime-type.\n",
                            "line": 307,
                            "filePos": 7700,
                            "tokenPos": 798,
                            "endLine": 308,
                            "endFilePos": 7771,
                            "endTokenPos": 798
                          }
                        ],
                        "endLine": 308
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "strtolower"
                        ],
                        "attributes": {
                          "startLine": 308,
                          "endLine": 308
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_FuncCall",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "pathinfo"
                              ],
                              "attributes": {
                                "startLine": 308,
                                "endLine": 308
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_PropertyFetch",
                                  "var": {
                                    "nodeType": "Expr_Variable",
                                    "name": "this",
                                    "attributes": {
                                      "startLine": 308,
                                      "endLine": 308
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "file",
                                    "attributes": {
                                      "startLine": 308,
                                      "endLine": 308
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 308,
                                    "endLine": 308
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 308,
                                  "endLine": 308
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_ConstFetch",
                                  "name": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "PATHINFO_EXTENSION"
                                    ],
                                    "attributes": {
                                      "startLine": 308,
                                      "endLine": 308
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 308,
                                    "endLine": 308
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 308,
                                  "endLine": 308
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 308,
                              "endLine": 308
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 308,
                            "endLine": 308
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 308,
                        "endLine": 308
                      }
                    },
                    "attributes": {
                      "startLine": 308,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// If no file specified, grab editor's current extension and mime-type.\n",
                          "line": 307,
                          "filePos": 7700,
                          "tokenPos": 798,
                          "endLine": 308,
                          "endFilePos": 7771,
                          "endTokenPos": 798
                        }
                      ],
                      "endLine": 308
                    }
                  },
                  "attributes": {
                    "startLine": 308,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// If no file specified, grab editor's current extension and mime-type.\n",
                        "line": 307,
                        "filePos": 7700,
                        "tokenPos": 798,
                        "endLine": 308,
                        "endFilePos": 7771,
                        "endTokenPos": 798
                      }
                    ],
                    "endLine": 308
                  }
                },
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "file_mime",
                      "attributes": {
                        "startLine": 309,
                        "endLine": 309
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 309,
                          "endLine": 309
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "mime_type",
                        "attributes": {
                          "startLine": 309,
                          "endLine": 309
                        }
                      },
                      "attributes": {
                        "startLine": 309,
                        "endLine": 309
                      }
                    },
                    "attributes": {
                      "startLine": 309,
                      "endLine": 309
                    }
                  },
                  "attributes": {
                    "startLine": 309,
                    "endLine": 309
                  }
                }
              ],
              "attributes": {
                "startLine": 306,
                "endLine": 310
              }
            },
            "attributes": {
              "startLine": 303,
              "endLine": 310
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanOr",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "mime_type",
                  "attributes": {
                    "startLine": 314,
                    "endLine": 314
                  }
                },
                "attributes": {
                  "startLine": 314,
                  "endLine": 314
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_Equal",
                "left": {
                  "nodeType": "Expr_Variable",
                  "name": "file_mime",
                  "attributes": {
                    "startLine": 314,
                    "endLine": 314
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "mime_type",
                  "attributes": {
                    "startLine": 314,
                    "endLine": 314
                  }
                },
                "attributes": {
                  "startLine": 314,
                  "endLine": 314
                }
              },
              "attributes": {
                "startLine": 314,
                "endLine": 314
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 315,
                      "endLine": 315
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "file_mime",
                    "attributes": {
                      "startLine": 315,
                      "endLine": 315
                    }
                  },
                  "attributes": {
                    "startLine": 315,
                    "endLine": 315
                  }
                },
                "attributes": {
                  "startLine": 315,
                  "endLine": 315
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "new_ext",
                    "attributes": {
                      "startLine": 316,
                      "endLine": 316
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "file_ext",
                    "attributes": {
                      "startLine": 316,
                      "endLine": 316
                    }
                  },
                  "attributes": {
                    "startLine": 316,
                    "endLine": 316
                  }
                },
                "attributes": {
                  "startLine": 316,
                  "endLine": 316
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 314,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Check to see if specified mime-type is the same as type implied by\n",
                  "line": 312,
                  "filePos": 7888,
                  "tokenPos": 833,
                  "endLine": 313,
                  "endFilePos": 7957,
                  "endTokenPos": 833
                },
                {
                  "nodeType": "Comment",
                  "text": "// file extension. If so, prefer extension from file.\n",
                  "line": 313,
                  "filePos": 7960,
                  "tokenPos": 835,
                  "endLine": 314,
                  "endFilePos": 8013,
                  "endTokenPos": 835
                }
              ],
              "endLine": 317
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 321,
                    "endLine": 321
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "supports_mime_type",
                  "attributes": {
                    "startLine": 321,
                    "endLine": 321
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 321,
                        "endLine": 321
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 321,
                      "endLine": 321
                    }
                  }
                ],
                "attributes": {
                  "startLine": 321,
                  "endLine": 321
                }
              },
              "attributes": {
                "startLine": 321,
                "endLine": 321
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 331,
                      "comments": [
                        {
                          "nodeType": "Comment_Doc",
                          "text": "/**\n\t\t\t * Filters default mime type prior to getting the file extension.\n\t\t\t *\n\t\t\t * @see wp_get_mime_types()\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param string $mime_type Mime type string.\n\t\t\t */",
                          "line": 322,
                          "filePos": 8299,
                          "tokenPos": 900,
                          "endLine": 330,
                          "endFilePos": 8494,
                          "endTokenPos": 900
                        }
                      ],
                      "endLine": 331
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "apply_filters"
                      ],
                      "attributes": {
                        "startLine": 331,
                        "endLine": 331
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "image_editor_default_mime_type",
                          "attributes": {
                            "startLine": 331,
                            "endLine": 331,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 331,
                          "endLine": 331
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 331,
                              "endLine": 331
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "default_mime_type",
                            "attributes": {
                              "startLine": 331,
                              "endLine": 331
                            }
                          },
                          "attributes": {
                            "startLine": 331,
                            "endLine": 331
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 331,
                          "endLine": 331
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 331,
                      "endLine": 331
                    }
                  },
                  "attributes": {
                    "startLine": 331,
                    "comments": [
                      {
                        "nodeType": "Comment_Doc",
                        "text": "/**\n\t\t\t * Filters default mime type prior to getting the file extension.\n\t\t\t *\n\t\t\t * @see wp_get_mime_types()\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param string $mime_type Mime type string.\n\t\t\t */",
                        "line": 322,
                        "filePos": 8299,
                        "tokenPos": 900,
                        "endLine": 330,
                        "endFilePos": 8494,
                        "endTokenPos": 900
                      }
                    ],
                    "endLine": 331
                  }
                },
                "attributes": {
                  "startLine": 331,
                  "comments": [
                    {
                      "nodeType": "Comment_Doc",
                      "text": "/**\n\t\t\t * Filters default mime type prior to getting the file extension.\n\t\t\t *\n\t\t\t * @see wp_get_mime_types()\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param string $mime_type Mime type string.\n\t\t\t */",
                      "line": 322,
                      "filePos": 8299,
                      "tokenPos": 900,
                      "endLine": 330,
                      "endFilePos": 8494,
                      "endTokenPos": 900
                    }
                  ],
                  "endLine": 331
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "new_ext",
                    "attributes": {
                      "startLine": 332,
                      "endLine": 332
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 332,
                        "endLine": 332
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "get_extension",
                      "attributes": {
                        "startLine": 332,
                        "endLine": 332
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "mime_type",
                          "attributes": {
                            "startLine": 332,
                            "endLine": 332
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 332,
                          "endLine": 332
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 332,
                      "endLine": 332
                    }
                  },
                  "attributes": {
                    "startLine": 332,
                    "endLine": 332
                  }
                },
                "attributes": {
                  "startLine": 332,
                  "endLine": 332
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 321,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Double-check that the mime-type selected is supported by the editor.\n",
                  "line": 319,
                  "filePos": 8132,
                  "tokenPos": 877,
                  "endLine": 320,
                  "endFilePos": 8203,
                  "endTokenPos": 877
                },
                {
                  "nodeType": "Comment",
                  "text": "// If not, choose a default instead.\n",
                  "line": 320,
                  "filePos": 8206,
                  "tokenPos": 879,
                  "endLine": 321,
                  "endFilePos": 8242,
                  "endTokenPos": 879
                }
              ],
              "endLine": 333
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 335,
                "endLine": 335
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "dir",
                    "attributes": {
                      "startLine": 336,
                      "endLine": 336
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "pathinfo"
                      ],
                      "attributes": {
                        "startLine": 336,
                        "endLine": 336
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "filename",
                          "attributes": {
                            "startLine": 336,
                            "endLine": 336
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 336,
                          "endLine": 336
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "PATHINFO_DIRNAME"
                            ],
                            "attributes": {
                              "startLine": 336,
                              "endLine": 336
                            }
                          },
                          "attributes": {
                            "startLine": 336,
                            "endLine": 336
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 336,
                          "endLine": 336
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 336,
                      "endLine": 336
                    }
                  },
                  "attributes": {
                    "startLine": 336,
                    "endLine": 336
                  }
                },
                "attributes": {
                  "startLine": 336,
                  "endLine": 336
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "ext",
                    "attributes": {
                      "startLine": 337,
                      "endLine": 337
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "pathinfo"
                      ],
                      "attributes": {
                        "startLine": 337,
                        "endLine": 337
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "filename",
                          "attributes": {
                            "startLine": 337,
                            "endLine": 337
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 337,
                          "endLine": 337
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "PATHINFO_EXTENSION"
                            ],
                            "attributes": {
                              "startLine": 337,
                              "endLine": 337
                            }
                          },
                          "attributes": {
                            "startLine": 337,
                            "endLine": 337
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 337,
                          "endLine": 337
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 337,
                      "endLine": 337
                    }
                  },
                  "attributes": {
                    "startLine": 337,
                    "endLine": 337
                  }
                },
                "attributes": {
                  "startLine": 337,
                  "endLine": 337
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_BinaryOp_Concat",
                    "left": {
                      "nodeType": "Expr_BinaryOp_Concat",
                      "left": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "trailingslashit"
                          ],
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "dir",
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 339,
                          "endLine": 339
                        }
                      },
                      "right": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "wp_basename"
                          ],
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "filename",
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_Encapsed",
                              "parts": [
                                {
                                  "nodeType": "Scalar_EncapsedStringPart",
                                  "value": ".",
                                  "attributes": {
                                    "startLine": 339,
                                    "endLine": 339
                                  }
                                },
                                {
                                  "nodeType": "Expr_Variable",
                                  "name": "ext",
                                  "attributes": {
                                    "startLine": 339,
                                    "endLine": 339
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339,
                                "kind": 2
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 339,
                          "endLine": 339
                        }
                      },
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339
                      }
                    },
                    "right": {
                      "nodeType": "Scalar_Encapsed",
                      "parts": [
                        {
                          "nodeType": "Scalar_EncapsedStringPart",
                          "value": ".",
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339
                          }
                        },
                        {
                          "nodeType": "Expr_Variable",
                          "name": "new_ext",
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339,
                        "kind": 2
                      }
                    },
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339
                    }
                  },
                  "attributes": {
                    "startLine": 339,
                    "endLine": 339
                  }
                },
                "attributes": {
                  "startLine": 339,
                  "endLine": 339
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 335,
              "endLine": 340
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Array",
              "items": [
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 342,
                      "endLine": 342
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 342,
                    "endLine": 342
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "new_ext",
                    "attributes": {
                      "startLine": 342,
                      "endLine": 342
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 342,
                    "endLine": 342
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": null,
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 342,
                      "endLine": 342
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 342,
                    "endLine": 342
                  }
                }
              ],
              "attributes": {
                "startLine": 342,
                "endLine": 342,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 342,
              "endLine": 342
            }
          }
        ],
        "attributes": {
          "startLine": 295,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Returns preferred mime-type and extension based on provided\n\t * file's extension and mime, or current file's extension and mime.\n\t *\n\t * Will default to $this->default_mime_type if requested is not supported.\n\t *\n\t * Provides corrected filename only if filename is provided.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $filename\n\t * @param string $mime_type\n\t * @return array { filename|null, extension, mime-type }\n\t */",
              "line": 281,
              "filePos": 6882,
              "tokenPos": 687,
              "endLine": 294,
              "endFilePos": 7308,
              "endTokenPos": 687
            }
          ],
          "endLine": 343
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "generate_filename",
          "attributes": {
            "startLine": 355,
            "endLine": 355
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "suffix",
              "attributes": {
                "startLine": 355,
                "endLine": 355
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 355,
                  "endLine": 355
                }
              },
              "attributes": {
                "startLine": 355,
                "endLine": 355
              }
            },
            "attributes": {
              "startLine": 355,
              "endLine": 355
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dest_path",
              "attributes": {
                "startLine": 355,
                "endLine": 355
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 355,
                  "endLine": 355
                }
              },
              "attributes": {
                "startLine": 355,
                "endLine": 355
              }
            },
            "attributes": {
              "startLine": 355,
              "endLine": 355
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "extension",
              "attributes": {
                "startLine": 355,
                "endLine": 355
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 355,
                  "endLine": 355
                }
              },
              "attributes": {
                "startLine": 355,
                "endLine": 355
              }
            },
            "attributes": {
              "startLine": 355,
              "endLine": 355
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "suffix",
                "attributes": {
                  "startLine": 357,
                  "endLine": 357
                }
              },
              "attributes": {
                "startLine": 357,
                "endLine": 357
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "suffix",
                    "attributes": {
                      "startLine": 358,
                      "endLine": 358
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 358,
                        "endLine": 358
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "get_suffix",
                      "attributes": {
                        "startLine": 358,
                        "endLine": 358
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 358,
                      "endLine": 358
                    }
                  },
                  "attributes": {
                    "startLine": 358,
                    "endLine": 358
                  }
                },
                "attributes": {
                  "startLine": 358,
                  "endLine": 358
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 357,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// $suffix will be appended to the destination filename, just before the extension.\n",
                  "line": 356,
                  "filePos": 9244,
                  "tokenPos": 1064,
                  "endLine": 357,
                  "endFilePos": 9327,
                  "endTokenPos": 1064
                }
              ],
              "endLine": 359
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "dir",
                "attributes": {
                  "startLine": 361,
                  "endLine": 361
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "pathinfo"
                  ],
                  "attributes": {
                    "startLine": 361,
                    "endLine": 361
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 361,
                          "endLine": 361
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "file",
                        "attributes": {
                          "startLine": 361,
                          "endLine": 361
                        }
                      },
                      "attributes": {
                        "startLine": 361,
                        "endLine": 361
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 361,
                      "endLine": 361
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "PATHINFO_DIRNAME"
                        ],
                        "attributes": {
                          "startLine": 361,
                          "endLine": 361
                        }
                      },
                      "attributes": {
                        "startLine": 361,
                        "endLine": 361
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 361,
                      "endLine": 361
                    }
                  }
                ],
                "attributes": {
                  "startLine": 361,
                  "endLine": 361
                }
              },
              "attributes": {
                "startLine": 361,
                "endLine": 361
              }
            },
            "attributes": {
              "startLine": 361,
              "endLine": 361
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "ext",
                "attributes": {
                  "startLine": 362,
                  "endLine": 362
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "pathinfo"
                  ],
                  "attributes": {
                    "startLine": 362,
                    "endLine": 362
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 362,
                          "endLine": 362
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "file",
                        "attributes": {
                          "startLine": 362,
                          "endLine": 362
                        }
                      },
                      "attributes": {
                        "startLine": 362,
                        "endLine": 362
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 362,
                      "endLine": 362
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "PATHINFO_EXTENSION"
                        ],
                        "attributes": {
                          "startLine": 362,
                          "endLine": 362
                        }
                      },
                      "attributes": {
                        "startLine": 362,
                        "endLine": 362
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 362,
                      "endLine": 362
                    }
                  }
                ],
                "attributes": {
                  "startLine": 362,
                  "endLine": 362
                }
              },
              "attributes": {
                "startLine": 362,
                "endLine": 362
              }
            },
            "attributes": {
              "startLine": 362,
              "endLine": 362
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "name",
                "attributes": {
                  "startLine": 364,
                  "endLine": 364
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "wp_basename"
                  ],
                  "attributes": {
                    "startLine": 364,
                    "endLine": 364
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 364,
                          "endLine": 364
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "file",
                        "attributes": {
                          "startLine": 364,
                          "endLine": 364
                        }
                      },
                      "attributes": {
                        "startLine": 364,
                        "endLine": 364
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 364,
                      "endLine": 364
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_Encapsed",
                      "parts": [
                        {
                          "nodeType": "Scalar_EncapsedStringPart",
                          "value": ".",
                          "attributes": {
                            "startLine": 364,
                            "endLine": 364
                          }
                        },
                        {
                          "nodeType": "Expr_Variable",
                          "name": "ext",
                          "attributes": {
                            "startLine": 364,
                            "endLine": 364
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 364,
                        "endLine": 364,
                        "kind": 2
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 364,
                      "endLine": 364
                    }
                  }
                ],
                "attributes": {
                  "startLine": 364,
                  "endLine": 364
                }
              },
              "attributes": {
                "startLine": 364,
                "endLine": 364
              }
            },
            "attributes": {
              "startLine": 364,
              "endLine": 364
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "new_ext",
                "attributes": {
                  "startLine": 365,
                  "endLine": 365
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "strtolower"
                  ],
                  "attributes": {
                    "startLine": 365,
                    "endLine": 365
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Ternary",
                      "cond": {
                        "nodeType": "Expr_Variable",
                        "name": "extension",
                        "attributes": {
                          "startLine": 365,
                          "endLine": 365
                        }
                      },
                      "if": {
                        "nodeType": "Expr_Variable",
                        "name": "extension",
                        "attributes": {
                          "startLine": 365,
                          "endLine": 365
                        }
                      },
                      "else": {
                        "nodeType": "Expr_Variable",
                        "name": "ext",
                        "attributes": {
                          "startLine": 365,
                          "endLine": 365
                        }
                      },
                      "attributes": {
                        "startLine": 365,
                        "endLine": 365
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 365,
                      "endLine": 365
                    }
                  }
                ],
                "attributes": {
                  "startLine": 365,
                  "endLine": 365
                }
              },
              "attributes": {
                "startLine": 365,
                "endLine": 365
              }
            },
            "attributes": {
              "startLine": 365,
              "endLine": 365
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_null"
                  ],
                  "attributes": {
                    "startLine": 367,
                    "endLine": 367
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dest_path",
                      "attributes": {
                        "startLine": 367,
                        "endLine": 367
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 367,
                      "endLine": 367
                    }
                  }
                ],
                "attributes": {
                  "startLine": 367,
                  "endLine": 367
                }
              },
              "attributes": {
                "startLine": 367,
                "endLine": 367
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "_dest_path",
                    "attributes": {
                      "startLine": 368,
                      "endLine": 368
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "realpath"
                      ],
                      "attributes": {
                        "startLine": 368,
                        "endLine": 368
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "dest_path",
                          "attributes": {
                            "startLine": 368,
                            "endLine": 368
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 368,
                          "endLine": 368
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 368,
                      "endLine": 368
                    }
                  },
                  "attributes": {
                    "startLine": 368,
                    "endLine": 368
                  }
                },
                "attributes": {
                  "startLine": 368,
                  "endLine": 368
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_Variable",
                  "name": "_dest_path",
                  "attributes": {
                    "startLine": 369,
                    "endLine": 369
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "dir",
                        "attributes": {
                          "startLine": 370,
                          "endLine": 370
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "_dest_path",
                        "attributes": {
                          "startLine": 370,
                          "endLine": 370
                        }
                      },
                      "attributes": {
                        "startLine": 370,
                        "endLine": 370
                      }
                    },
                    "attributes": {
                      "startLine": 370,
                      "endLine": 370
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 369,
                  "endLine": 371
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 367,
              "endLine": 372
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_BinaryOp_Concat",
              "left": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "trailingslashit"
                  ],
                  "attributes": {
                    "startLine": 374,
                    "endLine": 374
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dir",
                      "attributes": {
                        "startLine": 374,
                        "endLine": 374
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 374,
                      "endLine": 374
                    }
                  }
                ],
                "attributes": {
                  "startLine": 374,
                  "endLine": 374
                }
              },
              "right": {
                "nodeType": "Scalar_Encapsed",
                "parts": [
                  {
                    "nodeType": "Expr_Variable",
                    "name": "name",
                    "attributes": {
                      "startLine": 374,
                      "endLine": 374
                    }
                  },
                  {
                    "nodeType": "Scalar_EncapsedStringPart",
                    "value": "-",
                    "attributes": {
                      "startLine": 374,
                      "endLine": 374
                    }
                  },
                  {
                    "nodeType": "Expr_Variable",
                    "name": "suffix",
                    "attributes": {
                      "startLine": 374,
                      "endLine": 374
                    }
                  },
                  {
                    "nodeType": "Scalar_EncapsedStringPart",
                    "value": ".",
                    "attributes": {
                      "startLine": 374,
                      "endLine": 374
                    }
                  },
                  {
                    "nodeType": "Expr_Variable",
                    "name": "new_ext",
                    "attributes": {
                      "startLine": 374,
                      "endLine": 374
                    }
                  }
                ],
                "attributes": {
                  "startLine": 374,
                  "endLine": 374,
                  "kind": 2
                }
              },
              "attributes": {
                "startLine": 374,
                "endLine": 374
              }
            },
            "attributes": {
              "startLine": 374,
              "endLine": 374
            }
          }
        ],
        "attributes": {
          "startLine": 355,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Builds an output filename based on current file, and adding proper suffix\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $suffix\n\t * @param string $dest_path\n\t * @param string $extension\n\t * @return string filename\n\t */",
              "line": 345,
              "filePos": 8925,
              "tokenPos": 1031,
              "endLine": 354,
              "endFilePos": 9147,
              "endTokenPos": 1031
            }
          ],
          "endLine": 375
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "get_suffix",
          "attributes": {
            "startLine": 384,
            "endLine": 384
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 385,
                    "endLine": 385
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "get_size",
                  "attributes": {
                    "startLine": 385,
                    "endLine": 385
                  }
                },
                "args": [],
                "attributes": {
                  "startLine": 385,
                  "endLine": 385
                }
              },
              "attributes": {
                "startLine": 385,
                "endLine": 385
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 386,
                      "endLine": 386
                    }
                  },
                  "attributes": {
                    "startLine": 386,
                    "endLine": 386
                  }
                },
                "attributes": {
                  "startLine": 386,
                  "endLine": 386
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 385,
              "endLine": 387
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Scalar_Encapsed",
              "parts": [
                {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 389,
                        "endLine": 389
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "size",
                      "attributes": {
                        "startLine": 389,
                        "endLine": 389
                      }
                    },
                    "attributes": {
                      "startLine": 389,
                      "endLine": 389
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "width",
                    "attributes": {
                      "startLine": 389,
                      "endLine": 389,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 389,
                    "endLine": 389
                  }
                },
                {
                  "nodeType": "Scalar_EncapsedStringPart",
                  "value": "x",
                  "attributes": {
                    "startLine": 389,
                    "endLine": 389
                  }
                },
                {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 389,
                        "endLine": 389
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "size",
                      "attributes": {
                        "startLine": 389,
                        "endLine": 389
                      }
                    },
                    "attributes": {
                      "startLine": 389,
                      "endLine": 389
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "height",
                    "attributes": {
                      "startLine": 389,
                      "endLine": 389,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 389,
                    "endLine": 389
                  }
                }
              ],
              "attributes": {
                "startLine": 389,
                "endLine": 389,
                "kind": 2
              }
            },
            "attributes": {
              "startLine": 389,
              "endLine": 389
            }
          }
        ],
        "attributes": {
          "startLine": 384,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Builds and returns proper suffix for file based on height and width.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @return string|false suffix\n\t */",
              "line": 377,
              "filePos": 9811,
              "tokenPos": 1243,
              "endLine": 383,
              "endFilePos": 9948,
              "endTokenPos": 1243
            }
          ],
          "endLine": 390
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "maybe_exif_rotate",
          "attributes": {
            "startLine": 400,
            "endLine": 400
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "orientation",
                "attributes": {
                  "startLine": 401,
                  "endLine": 401
                }
              },
              "expr": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "null"
                  ],
                  "attributes": {
                    "startLine": 401,
                    "endLine": 401
                  }
                },
                "attributes": {
                  "startLine": 401,
                  "endLine": 401
                }
              },
              "attributes": {
                "startLine": 401,
                "endLine": 401
              }
            },
            "attributes": {
              "startLine": 401,
              "endLine": 401
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_callable"
                  ],
                  "attributes": {
                    "startLine": 403,
                    "endLine": 403
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "exif_read_data",
                      "attributes": {
                        "startLine": 403,
                        "endLine": 403,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 403,
                      "endLine": 403
                    }
                  }
                ],
                "attributes": {
                  "startLine": 403,
                  "endLine": 403
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_Identical",
                "left": {
                  "nodeType": "Scalar_String",
                  "value": "image/jpeg",
                  "attributes": {
                    "startLine": 403,
                    "endLine": 403,
                    "kind": 1
                  }
                },
                "right": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 403,
                      "endLine": 403
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 403,
                      "endLine": 403
                    }
                  },
                  "attributes": {
                    "startLine": 403,
                    "endLine": 403
                  }
                },
                "attributes": {
                  "startLine": 403,
                  "endLine": 403
                }
              },
              "attributes": {
                "startLine": 403,
                "endLine": 403
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "exif_data",
                    "attributes": {
                      "startLine": 404,
                      "endLine": 404
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ErrorSuppress",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "exif_read_data"
                        ],
                        "attributes": {
                          "startLine": 404,
                          "endLine": 404
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 404,
                                "endLine": 404
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "file",
                              "attributes": {
                                "startLine": 404,
                                "endLine": 404
                              }
                            },
                            "attributes": {
                              "startLine": 404,
                              "endLine": 404
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 404,
                            "endLine": 404
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 404,
                        "endLine": 404
                      }
                    },
                    "attributes": {
                      "startLine": 404,
                      "endLine": 404
                    }
                  },
                  "attributes": {
                    "startLine": 404,
                    "endLine": 404
                  }
                },
                "attributes": {
                  "startLine": 404,
                  "endLine": 404
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_Empty",
                    "expr": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "exif_data",
                        "attributes": {
                          "startLine": 406,
                          "endLine": 406
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "Orientation",
                        "attributes": {
                          "startLine": 406,
                          "endLine": 406,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 406,
                        "endLine": 406
                      }
                    },
                    "attributes": {
                      "startLine": 406,
                      "endLine": 406
                    }
                  },
                  "attributes": {
                    "startLine": 406,
                    "endLine": 406
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "orientation",
                        "attributes": {
                          "startLine": 407,
                          "endLine": 407
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Cast_Int",
                        "expr": {
                          "nodeType": "Expr_ArrayDimFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "exif_data",
                            "attributes": {
                              "startLine": 407,
                              "endLine": 407
                            }
                          },
                          "dim": {
                            "nodeType": "Scalar_String",
                            "value": "Orientation",
                            "attributes": {
                              "startLine": 407,
                              "endLine": 407,
                              "kind": 1
                            }
                          },
                          "attributes": {
                            "startLine": 407,
                            "endLine": 407
                          }
                        },
                        "attributes": {
                          "startLine": 407,
                          "endLine": 407
                        }
                      },
                      "attributes": {
                        "startLine": 407,
                        "endLine": 407
                      }
                    },
                    "attributes": {
                      "startLine": 407,
                      "endLine": 407
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 406,
                  "endLine": 408
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 403,
              "endLine": 409
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "orientation",
                "attributes": {
                  "startLine": 419,
                  "comments": [
                    {
                      "nodeType": "Comment_Doc",
                      "text": "/**\n\t\t * Filters the `$orientation` value to correct it before rotating or to prevemnt rotating the image.\n\t\t *\n\t\t * @since 5.3.0\n\t\t *\n\t\t * @param int    $orientation EXIF Orientation value as retrieved from the image file.\n\t\t * @param string $file        Path to the image file.\n\t\t */",
                      "line": 411,
                      "filePos": 10708,
                      "tokenPos": 1398,
                      "endLine": 418,
                      "endFilePos": 10992,
                      "endTokenPos": 1398
                    }
                  ],
                  "endLine": 419
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "apply_filters"
                  ],
                  "attributes": {
                    "startLine": 419,
                    "endLine": 419
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "wp_image_maybe_exif_rotate",
                      "attributes": {
                        "startLine": 419,
                        "endLine": 419,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 419,
                      "endLine": 419
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "orientation",
                      "attributes": {
                        "startLine": 419,
                        "endLine": 419
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 419,
                      "endLine": 419
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 419,
                          "endLine": 419
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "file",
                        "attributes": {
                          "startLine": 419,
                          "endLine": 419
                        }
                      },
                      "attributes": {
                        "startLine": 419,
                        "endLine": 419
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 419,
                      "endLine": 419
                    }
                  }
                ],
                "attributes": {
                  "startLine": 419,
                  "endLine": 419
                }
              },
              "attributes": {
                "startLine": 419,
                "comments": [
                  {
                    "nodeType": "Comment_Doc",
                    "text": "/**\n\t\t * Filters the `$orientation` value to correct it before rotating or to prevemnt rotating the image.\n\t\t *\n\t\t * @since 5.3.0\n\t\t *\n\t\t * @param int    $orientation EXIF Orientation value as retrieved from the image file.\n\t\t * @param string $file        Path to the image file.\n\t\t */",
                    "line": 411,
                    "filePos": 10708,
                    "tokenPos": 1398,
                    "endLine": 418,
                    "endFilePos": 10992,
                    "endTokenPos": 1398
                  }
                ],
                "endLine": 419
              }
            },
            "attributes": {
              "startLine": 419,
              "comments": [
                {
                  "nodeType": "Comment_Doc",
                  "text": "/**\n\t\t * Filters the `$orientation` value to correct it before rotating or to prevemnt rotating the image.\n\t\t *\n\t\t * @since 5.3.0\n\t\t *\n\t\t * @param int    $orientation EXIF Orientation value as retrieved from the image file.\n\t\t * @param string $file        Path to the image file.\n\t\t */",
                  "line": 411,
                  "filePos": 10708,
                  "tokenPos": 1398,
                  "endLine": 418,
                  "endFilePos": 10992,
                  "endTokenPos": 1398
                }
              ],
              "endLine": 419
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanOr",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "orientation",
                  "attributes": {
                    "startLine": 421,
                    "endLine": 421
                  }
                },
                "attributes": {
                  "startLine": 421,
                  "endLine": 421
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_Identical",
                "left": {
                  "nodeType": "Scalar_LNumber",
                  "value": 1,
                  "attributes": {
                    "startLine": 421,
                    "endLine": 421,
                    "kind": 10
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "orientation",
                  "attributes": {
                    "startLine": 421,
                    "endLine": 421
                  }
                },
                "attributes": {
                  "startLine": 421,
                  "endLine": 421
                }
              },
              "attributes": {
                "startLine": 421,
                "endLine": 421
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 422,
                      "endLine": 422
                    }
                  },
                  "attributes": {
                    "startLine": 422,
                    "endLine": 422
                  }
                },
                "attributes": {
                  "startLine": 422,
                  "endLine": 422
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 421,
              "endLine": 423
            }
          },
          {
            "nodeType": "Stmt_Switch",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "orientation",
              "attributes": {
                "startLine": 425,
                "endLine": 425
              }
            },
            "cases": [
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 2,
                  "attributes": {
                    "startLine": 426,
                    "endLine": 426,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 428,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Flip horizontally.\n",
                              "line": 427,
                              "filePos": 11199,
                              "tokenPos": 1462,
                              "endLine": 428,
                              "endFilePos": 11220,
                              "endTokenPos": 1462
                            }
                          ],
                          "endLine": 428
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 428,
                            "endLine": 428
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "flip",
                          "attributes": {
                            "startLine": 428,
                            "endLine": 428
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "true"
                                ],
                                "attributes": {
                                  "startLine": 428,
                                  "endLine": 428
                                }
                              },
                              "attributes": {
                                "startLine": 428,
                                "endLine": 428
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 428,
                              "endLine": 428
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "false"
                                ],
                                "attributes": {
                                  "startLine": 428,
                                  "endLine": 428
                                }
                              },
                              "attributes": {
                                "startLine": 428,
                                "endLine": 428
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 428,
                              "endLine": 428
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 428,
                          "endLine": 428
                        }
                      },
                      "attributes": {
                        "startLine": 428,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Flip horizontally.\n",
                            "line": 427,
                            "filePos": 11199,
                            "tokenPos": 1462,
                            "endLine": 428,
                            "endFilePos": 11220,
                            "endTokenPos": 1462
                          }
                        ],
                        "endLine": 428
                      }
                    },
                    "attributes": {
                      "startLine": 428,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Flip horizontally.\n",
                          "line": 427,
                          "filePos": 11199,
                          "tokenPos": 1462,
                          "endLine": 428,
                          "endFilePos": 11220,
                          "endTokenPos": 1462
                        }
                      ],
                      "endLine": 428
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 429,
                      "endLine": 429
                    }
                  }
                ],
                "attributes": {
                  "startLine": 426,
                  "endLine": 429
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 3,
                  "attributes": {
                    "startLine": 430,
                    "endLine": 430,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 433,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Rotate 180 degrees or flip horizontally and vertically.\n",
                              "line": 431,
                              "filePos": 11289,
                              "tokenPos": 1489,
                              "endLine": 432,
                              "endFilePos": 11347,
                              "endTokenPos": 1489
                            },
                            {
                              "nodeType": "Comment",
                              "text": "// Flipping seems faster and uses less resources.\n",
                              "line": 432,
                              "filePos": 11352,
                              "tokenPos": 1491,
                              "endLine": 433,
                              "endFilePos": 11401,
                              "endTokenPos": 1491
                            }
                          ],
                          "endLine": 433
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 433,
                            "endLine": 433
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "flip",
                          "attributes": {
                            "startLine": 433,
                            "endLine": 433
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "true"
                                ],
                                "attributes": {
                                  "startLine": 433,
                                  "endLine": 433
                                }
                              },
                              "attributes": {
                                "startLine": 433,
                                "endLine": 433
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 433,
                              "endLine": 433
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "true"
                                ],
                                "attributes": {
                                  "startLine": 433,
                                  "endLine": 433
                                }
                              },
                              "attributes": {
                                "startLine": 433,
                                "endLine": 433
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 433,
                              "endLine": 433
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 433,
                          "endLine": 433
                        }
                      },
                      "attributes": {
                        "startLine": 433,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Rotate 180 degrees or flip horizontally and vertically.\n",
                            "line": 431,
                            "filePos": 11289,
                            "tokenPos": 1489,
                            "endLine": 432,
                            "endFilePos": 11347,
                            "endTokenPos": 1489
                          },
                          {
                            "nodeType": "Comment",
                            "text": "// Flipping seems faster and uses less resources.\n",
                            "line": 432,
                            "filePos": 11352,
                            "tokenPos": 1491,
                            "endLine": 433,
                            "endFilePos": 11401,
                            "endTokenPos": 1491
                          }
                        ],
                        "endLine": 433
                      }
                    },
                    "attributes": {
                      "startLine": 433,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Rotate 180 degrees or flip horizontally and vertically.\n",
                          "line": 431,
                          "filePos": 11289,
                          "tokenPos": 1489,
                          "endLine": 432,
                          "endFilePos": 11347,
                          "endTokenPos": 1489
                        },
                        {
                          "nodeType": "Comment",
                          "text": "// Flipping seems faster and uses less resources.\n",
                          "line": 432,
                          "filePos": 11352,
                          "tokenPos": 1491,
                          "endLine": 433,
                          "endFilePos": 11401,
                          "endTokenPos": 1491
                        }
                      ],
                      "endLine": 433
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 434,
                      "endLine": 434
                    }
                  }
                ],
                "attributes": {
                  "startLine": 430,
                  "endLine": 434
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 4,
                  "attributes": {
                    "startLine": 435,
                    "endLine": 435,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 437,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Flip vertically.\n",
                              "line": 436,
                              "filePos": 11469,
                              "tokenPos": 1518,
                              "endLine": 437,
                              "endFilePos": 11488,
                              "endTokenPos": 1518
                            }
                          ],
                          "endLine": 437
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 437,
                            "endLine": 437
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "flip",
                          "attributes": {
                            "startLine": 437,
                            "endLine": 437
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "false"
                                ],
                                "attributes": {
                                  "startLine": 437,
                                  "endLine": 437
                                }
                              },
                              "attributes": {
                                "startLine": 437,
                                "endLine": 437
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 437,
                              "endLine": 437
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "true"
                                ],
                                "attributes": {
                                  "startLine": 437,
                                  "endLine": 437
                                }
                              },
                              "attributes": {
                                "startLine": 437,
                                "endLine": 437
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 437,
                              "endLine": 437
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 437,
                          "endLine": 437
                        }
                      },
                      "attributes": {
                        "startLine": 437,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Flip vertically.\n",
                            "line": 436,
                            "filePos": 11469,
                            "tokenPos": 1518,
                            "endLine": 437,
                            "endFilePos": 11488,
                            "endTokenPos": 1518
                          }
                        ],
                        "endLine": 437
                      }
                    },
                    "attributes": {
                      "startLine": 437,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Flip vertically.\n",
                          "line": 436,
                          "filePos": 11469,
                          "tokenPos": 1518,
                          "endLine": 437,
                          "endFilePos": 11488,
                          "endTokenPos": 1518
                        }
                      ],
                      "endLine": 437
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 438,
                      "endLine": 438
                    }
                  }
                ],
                "attributes": {
                  "startLine": 435,
                  "endLine": 438
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 5,
                  "attributes": {
                    "startLine": 439,
                    "endLine": 439,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 441,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Rotate 90 degrees counter-clockwise and flip vertically.\n",
                              "line": 440,
                              "filePos": 11557,
                              "tokenPos": 1545,
                              "endLine": 441,
                              "endFilePos": 11616,
                              "endTokenPos": 1545
                            }
                          ],
                          "endLine": 441
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 441,
                            "endLine": 441
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "rotate",
                          "attributes": {
                            "startLine": 441,
                            "endLine": 441
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_LNumber",
                              "value": 90,
                              "attributes": {
                                "startLine": 441,
                                "endLine": 441,
                                "kind": 10
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 441,
                              "endLine": 441
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 441,
                          "endLine": 441
                        }
                      },
                      "attributes": {
                        "startLine": 441,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Rotate 90 degrees counter-clockwise and flip vertically.\n",
                            "line": 440,
                            "filePos": 11557,
                            "tokenPos": 1545,
                            "endLine": 441,
                            "endFilePos": 11616,
                            "endTokenPos": 1545
                          }
                        ],
                        "endLine": 441
                      }
                    },
                    "attributes": {
                      "startLine": 441,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Rotate 90 degrees counter-clockwise and flip vertically.\n",
                          "line": 440,
                          "filePos": 11557,
                          "tokenPos": 1545,
                          "endLine": 441,
                          "endFilePos": 11616,
                          "endTokenPos": 1545
                        }
                      ],
                      "endLine": 441
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "is_wp_error"
                          ],
                          "attributes": {
                            "startLine": 443,
                            "endLine": 443
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "result",
                              "attributes": {
                                "startLine": 443,
                                "endLine": 443
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 443,
                              "endLine": 443
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 443,
                          "endLine": 443
                        }
                      },
                      "attributes": {
                        "startLine": 443,
                        "endLine": 443
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "result",
                            "attributes": {
                              "startLine": 444,
                              "endLine": 444
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 444,
                                "endLine": 444
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "flip",
                              "attributes": {
                                "startLine": 444,
                                "endLine": 444
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_ConstFetch",
                                  "name": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "false"
                                    ],
                                    "attributes": {
                                      "startLine": 444,
                                      "endLine": 444
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 444,
                                    "endLine": 444
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 444,
                                  "endLine": 444
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_ConstFetch",
                                  "name": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "true"
                                    ],
                                    "attributes": {
                                      "startLine": 444,
                                      "endLine": 444
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 444,
                                    "endLine": 444
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 444,
                                  "endLine": 444
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 444,
                              "endLine": 444
                            }
                          },
                          "attributes": {
                            "startLine": 444,
                            "endLine": 444
                          }
                        },
                        "attributes": {
                          "startLine": 444,
                          "endLine": 444
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 443,
                      "endLine": 445
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 447,
                      "endLine": 447
                    }
                  }
                ],
                "attributes": {
                  "startLine": 439,
                  "endLine": 447
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 6,
                  "attributes": {
                    "startLine": 448,
                    "endLine": 448,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 450,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Rotate 90 degrees clockwise (270 counter-clockwise).\n",
                              "line": 449,
                              "filePos": 11767,
                              "tokenPos": 1605,
                              "endLine": 450,
                              "endFilePos": 11822,
                              "endTokenPos": 1605
                            }
                          ],
                          "endLine": 450
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 450,
                            "endLine": 450
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "rotate",
                          "attributes": {
                            "startLine": 450,
                            "endLine": 450
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_LNumber",
                              "value": 270,
                              "attributes": {
                                "startLine": 450,
                                "endLine": 450,
                                "kind": 10
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 450,
                              "endLine": 450
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 450,
                          "endLine": 450
                        }
                      },
                      "attributes": {
                        "startLine": 450,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Rotate 90 degrees clockwise (270 counter-clockwise).\n",
                            "line": 449,
                            "filePos": 11767,
                            "tokenPos": 1605,
                            "endLine": 450,
                            "endFilePos": 11822,
                            "endTokenPos": 1605
                          }
                        ],
                        "endLine": 450
                      }
                    },
                    "attributes": {
                      "startLine": 450,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Rotate 90 degrees clockwise (270 counter-clockwise).\n",
                          "line": 449,
                          "filePos": 11767,
                          "tokenPos": 1605,
                          "endLine": 450,
                          "endFilePos": 11822,
                          "endTokenPos": 1605
                        }
                      ],
                      "endLine": 450
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 451,
                      "endLine": 451
                    }
                  }
                ],
                "attributes": {
                  "startLine": 448,
                  "endLine": 451
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 7,
                  "attributes": {
                    "startLine": 452,
                    "endLine": 452,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 454,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Rotate 90 degrees counter-clockwise and flip horizontally.\n",
                              "line": 453,
                              "filePos": 11885,
                              "tokenPos": 1629,
                              "endLine": 454,
                              "endFilePos": 11946,
                              "endTokenPos": 1629
                            }
                          ],
                          "endLine": 454
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 454,
                            "endLine": 454
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "rotate",
                          "attributes": {
                            "startLine": 454,
                            "endLine": 454
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_LNumber",
                              "value": 90,
                              "attributes": {
                                "startLine": 454,
                                "endLine": 454,
                                "kind": 10
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 454,
                              "endLine": 454
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 454,
                          "endLine": 454
                        }
                      },
                      "attributes": {
                        "startLine": 454,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Rotate 90 degrees counter-clockwise and flip horizontally.\n",
                            "line": 453,
                            "filePos": 11885,
                            "tokenPos": 1629,
                            "endLine": 454,
                            "endFilePos": 11946,
                            "endTokenPos": 1629
                          }
                        ],
                        "endLine": 454
                      }
                    },
                    "attributes": {
                      "startLine": 454,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Rotate 90 degrees counter-clockwise and flip horizontally.\n",
                          "line": 453,
                          "filePos": 11885,
                          "tokenPos": 1629,
                          "endLine": 454,
                          "endFilePos": 11946,
                          "endTokenPos": 1629
                        }
                      ],
                      "endLine": 454
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "is_wp_error"
                          ],
                          "attributes": {
                            "startLine": 456,
                            "endLine": 456
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "result",
                              "attributes": {
                                "startLine": 456,
                                "endLine": 456
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 456,
                              "endLine": 456
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 456,
                          "endLine": 456
                        }
                      },
                      "attributes": {
                        "startLine": 456,
                        "endLine": 456
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "result",
                            "attributes": {
                              "startLine": 457,
                              "endLine": 457
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 457,
                                "endLine": 457
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "flip",
                              "attributes": {
                                "startLine": 457,
                                "endLine": 457
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_ConstFetch",
                                  "name": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "true"
                                    ],
                                    "attributes": {
                                      "startLine": 457,
                                      "endLine": 457
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 457,
                                    "endLine": 457
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 457,
                                  "endLine": 457
                                }
                              },
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_ConstFetch",
                                  "name": {
                                    "nodeType": "Name",
                                    "parts": [
                                      "false"
                                    ],
                                    "attributes": {
                                      "startLine": 457,
                                      "endLine": 457
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 457,
                                    "endLine": 457
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 457,
                                  "endLine": 457
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 457,
                              "endLine": 457
                            }
                          },
                          "attributes": {
                            "startLine": 457,
                            "endLine": 457
                          }
                        },
                        "attributes": {
                          "startLine": 457,
                          "endLine": 457
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 456,
                      "endLine": 458
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 460,
                      "endLine": 460
                    }
                  }
                ],
                "attributes": {
                  "startLine": 452,
                  "endLine": 460
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_LNumber",
                  "value": 8,
                  "attributes": {
                    "startLine": 461,
                    "endLine": 461,
                    "kind": 10
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 463,
                          "comments": [
                            {
                              "nodeType": "Comment",
                              "text": "// Rotate 90 degrees counter-clockwise.\n",
                              "line": 462,
                              "filePos": 12097,
                              "tokenPos": 1689,
                              "endLine": 463,
                              "endFilePos": 12136,
                              "endTokenPos": 1689
                            }
                          ],
                          "endLine": 463
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 463,
                            "endLine": 463
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "rotate",
                          "attributes": {
                            "startLine": 463,
                            "endLine": 463
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_LNumber",
                              "value": 90,
                              "attributes": {
                                "startLine": 463,
                                "endLine": 463,
                                "kind": 10
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 463,
                              "endLine": 463
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 463,
                          "endLine": 463
                        }
                      },
                      "attributes": {
                        "startLine": 463,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Rotate 90 degrees counter-clockwise.\n",
                            "line": 462,
                            "filePos": 12097,
                            "tokenPos": 1689,
                            "endLine": 463,
                            "endFilePos": 12136,
                            "endTokenPos": 1689
                          }
                        ],
                        "endLine": 463
                      }
                    },
                    "attributes": {
                      "startLine": 463,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Rotate 90 degrees counter-clockwise.\n",
                          "line": 462,
                          "filePos": 12097,
                          "tokenPos": 1689,
                          "endLine": 463,
                          "endFilePos": 12136,
                          "endTokenPos": 1689
                        }
                      ],
                      "endLine": 463
                    }
                  },
                  {
                    "nodeType": "Stmt_Break",
                    "num": null,
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464
                    }
                  }
                ],
                "attributes": {
                  "startLine": 461,
                  "endLine": 464
                }
              }
            ],
            "attributes": {
              "startLine": 425,
              "endLine": 465
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "result",
              "attributes": {
                "startLine": 467,
                "endLine": 467
              }
            },
            "attributes": {
              "startLine": 467,
              "endLine": 467
            }
          }
        ],
        "attributes": {
          "startLine": 400,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Check if a JPEG image has EXIF Orientation tag and rotate it if needed.\n\t *\n\t * @since 5.3.0\n\t *\n\t * @return bool|WP_Error True if the image was rotated. False if not rotated (no EXIF data or the image doesn't need to be rotated).\n\t *                       WP_Error if error while rotating.\n\t */",
              "line": 392,
              "filePos": 10099,
              "tokenPos": 1303,
              "endLine": 399,
              "endFilePos": 10401,
              "endTokenPos": 1303
            }
          ],
          "endLine": 468
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "make_image",
          "attributes": {
            "startLine": 480,
            "endLine": 480
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 480,
                "endLine": 480
              }
            },
            "default": null,
            "attributes": {
              "startLine": 480,
              "endLine": 480
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "function",
              "attributes": {
                "startLine": 480,
                "endLine": 480
              }
            },
            "default": null,
            "attributes": {
              "startLine": 480,
              "endLine": 480
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "arguments",
              "attributes": {
                "startLine": 480,
                "endLine": 480
              }
            },
            "default": null,
            "attributes": {
              "startLine": 480,
              "endLine": 480
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "stream",
                "attributes": {
                  "startLine": 481,
                  "endLine": 481
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "wp_is_stream"
                  ],
                  "attributes": {
                    "startLine": 481,
                    "endLine": 481
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 481,
                        "endLine": 481
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 481,
                      "endLine": 481
                    }
                  }
                ],
                "attributes": {
                  "startLine": 481,
                  "endLine": 481
                }
              },
              "attributes": {
                "startLine": 481,
                "endLine": 481
              }
            },
            "attributes": {
              "startLine": 481,
              "endLine": 481
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "stream",
              "attributes": {
                "startLine": 482,
                "endLine": 482
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "ob_start"
                    ],
                    "attributes": {
                      "startLine": 483,
                      "endLine": 483
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 483,
                    "endLine": 483
                  }
                },
                "attributes": {
                  "startLine": 483,
                  "endLine": 483
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "wp_mkdir_p"
                      ],
                      "attributes": {
                        "startLine": 486,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// The directory containing the original file may no longer exist when using a replication plugin.\n",
                            "line": 485,
                            "filePos": 12580,
                            "tokenPos": 1771,
                            "endLine": 486,
                            "endFilePos": 12678,
                            "endTokenPos": 1771
                          }
                        ],
                        "endLine": 486
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "dirname"
                            ],
                            "attributes": {
                              "startLine": 486,
                              "endLine": 486
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "filename",
                                "attributes": {
                                  "startLine": 486,
                                  "endLine": 486
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 486,
                                "endLine": 486
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 486,
                            "endLine": 486
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 486,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// The directory containing the original file may no longer exist when using a replication plugin.\n",
                          "line": 485,
                          "filePos": 12580,
                          "tokenPos": 1771,
                          "endLine": 486,
                          "endFilePos": 12678,
                          "endTokenPos": 1771
                        }
                      ],
                      "endLine": 486
                    }
                  },
                  "attributes": {
                    "startLine": 486,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// The directory containing the original file may no longer exist when using a replication plugin.\n",
                        "line": 485,
                        "filePos": 12580,
                        "tokenPos": 1771,
                        "endLine": 486,
                        "endFilePos": 12678,
                        "endTokenPos": 1771
                      }
                    ],
                    "endLine": 486
                  }
                }
              ],
              "attributes": {
                "startLine": 484,
                "endLine": 487
              }
            },
            "attributes": {
              "startLine": 482,
              "endLine": 487
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "result",
                "attributes": {
                  "startLine": 489,
                  "endLine": 489
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "call_user_func_array"
                  ],
                  "attributes": {
                    "startLine": 489,
                    "endLine": 489
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "function",
                      "attributes": {
                        "startLine": 489,
                        "endLine": 489
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "arguments",
                      "attributes": {
                        "startLine": 489,
                        "endLine": 489
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  }
                ],
                "attributes": {
                  "startLine": 489,
                  "endLine": 489
                }
              },
              "attributes": {
                "startLine": 489,
                "endLine": 489
              }
            },
            "attributes": {
              "startLine": 489,
              "endLine": 489
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_Variable",
                "name": "result",
                "attributes": {
                  "startLine": 491,
                  "endLine": 491
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "stream",
                "attributes": {
                  "startLine": 491,
                  "endLine": 491
                }
              },
              "attributes": {
                "startLine": 491,
                "endLine": 491
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "contents",
                    "attributes": {
                      "startLine": 492,
                      "endLine": 492
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "ob_get_contents"
                      ],
                      "attributes": {
                        "startLine": 492,
                        "endLine": 492
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 492,
                      "endLine": 492
                    }
                  },
                  "attributes": {
                    "startLine": 492,
                    "endLine": 492
                  }
                },
                "attributes": {
                  "startLine": 492,
                  "endLine": 492
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "fp",
                    "attributes": {
                      "startLine": 494,
                      "endLine": 494
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "fopen"
                      ],
                      "attributes": {
                        "startLine": 494,
                        "endLine": 494
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "filename",
                          "attributes": {
                            "startLine": 494,
                            "endLine": 494
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 494,
                          "endLine": 494
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "w",
                          "attributes": {
                            "startLine": 494,
                            "endLine": 494,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 494,
                          "endLine": 494
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 494,
                      "endLine": 494
                    }
                  },
                  "attributes": {
                    "startLine": 494,
                    "endLine": 494
                  }
                },
                "attributes": {
                  "startLine": 494,
                  "endLine": 494
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "fp",
                    "attributes": {
                      "startLine": 496,
                      "endLine": 496
                    }
                  },
                  "attributes": {
                    "startLine": 496,
                    "endLine": 496
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "ob_end_clean"
                        ],
                        "attributes": {
                          "startLine": 497,
                          "endLine": 497
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 497,
                        "endLine": 497
                      }
                    },
                    "attributes": {
                      "startLine": 497,
                      "endLine": 497
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "false"
                        ],
                        "attributes": {
                          "startLine": 498,
                          "endLine": 498
                        }
                      },
                      "attributes": {
                        "startLine": 498,
                        "endLine": 498
                      }
                    },
                    "attributes": {
                      "startLine": 498,
                      "endLine": 498
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 496,
                  "endLine": 499
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "fwrite"
                    ],
                    "attributes": {
                      "startLine": 501,
                      "endLine": 501
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "fp",
                        "attributes": {
                          "startLine": 501,
                          "endLine": 501
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 501,
                        "endLine": 501
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "contents",
                        "attributes": {
                          "startLine": 501,
                          "endLine": 501
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 501,
                        "endLine": 501
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 501,
                    "endLine": 501
                  }
                },
                "attributes": {
                  "startLine": 501,
                  "endLine": 501
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "fclose"
                    ],
                    "attributes": {
                      "startLine": 502,
                      "endLine": 502
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "fp",
                        "attributes": {
                          "startLine": 502,
                          "endLine": 502
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 502,
                        "endLine": 502
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 502,
                    "endLine": 502
                  }
                },
                "attributes": {
                  "startLine": 502,
                  "endLine": 502
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 491,
              "endLine": 503
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "stream",
              "attributes": {
                "startLine": 505,
                "endLine": 505
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "ob_end_clean"
                    ],
                    "attributes": {
                      "startLine": 506,
                      "endLine": 506
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 506,
                    "endLine": 506
                  }
                },
                "attributes": {
                  "startLine": 506,
                  "endLine": 506
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 505,
              "endLine": 507
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "result",
              "attributes": {
                "startLine": 509,
                "endLine": 509
              }
            },
            "attributes": {
              "startLine": 509,
              "endLine": 509
            }
          }
        ],
        "attributes": {
          "startLine": 480,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Either calls editor's save function or handles file as a stream.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string|stream $filename\n\t * @param callable $function\n\t * @param array $arguments\n\t * @return bool\n\t */",
              "line": 470,
              "filePos": 12211,
              "tokenPos": 1717,
              "endLine": 479,
              "endFilePos": 12422,
              "endTokenPos": 1717
            }
          ],
          "endLine": 510
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 10,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "get_mime_type",
          "attributes": {
            "startLine": 521,
            "endLine": 521
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "extension",
              "attributes": {
                "startLine": 521,
                "endLine": 521
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 521,
                  "endLine": 521
                }
              },
              "attributes": {
                "startLine": 521,
                "endLine": 521
              }
            },
            "attributes": {
              "startLine": 521,
              "endLine": 521
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "extension",
                "attributes": {
                  "startLine": 522,
                  "endLine": 522
                }
              },
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 523,
                      "endLine": 523
                    }
                  },
                  "attributes": {
                    "startLine": 523,
                    "endLine": 523
                  }
                },
                "attributes": {
                  "startLine": 523,
                  "endLine": 523
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 522,
              "endLine": 524
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "mime_types",
                "attributes": {
                  "startLine": 526,
                  "endLine": 526
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "wp_get_mime_types"
                  ],
                  "attributes": {
                    "startLine": 526,
                    "endLine": 526
                  }
                },
                "args": [],
                "attributes": {
                  "startLine": 526,
                  "endLine": 526
                }
              },
              "attributes": {
                "startLine": 526,
                "endLine": 526
              }
            },
            "attributes": {
              "startLine": 526,
              "endLine": 526
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "extensions",
                "attributes": {
                  "startLine": 527,
                  "endLine": 527
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "array_keys"
                  ],
                  "attributes": {
                    "startLine": 527,
                    "endLine": 527
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_types",
                      "attributes": {
                        "startLine": 527,
                        "endLine": 527
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 527,
                      "endLine": 527
                    }
                  }
                ],
                "attributes": {
                  "startLine": 527,
                  "endLine": 527
                }
              },
              "attributes": {
                "startLine": 527,
                "endLine": 527
              }
            },
            "attributes": {
              "startLine": 527,
              "endLine": 527
            }
          },
          {
            "nodeType": "Stmt_Foreach",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "extensions",
              "attributes": {
                "startLine": 529,
                "endLine": 529
              }
            },
            "keyVar": null,
            "byRef": false,
            "valueVar": {
              "nodeType": "Expr_Variable",
              "name": "_extension",
              "attributes": {
                "startLine": 529,
                "endLine": 529
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "preg_match"
                    ],
                    "attributes": {
                      "startLine": 530,
                      "endLine": 530
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_Encapsed",
                        "parts": [
                          {
                            "nodeType": "Scalar_EncapsedStringPart",
                            "value": "/",
                            "attributes": {
                              "startLine": 530,
                              "endLine": 530
                            }
                          },
                          {
                            "nodeType": "Expr_Variable",
                            "name": "extension",
                            "attributes": {
                              "startLine": 530,
                              "endLine": 530
                            }
                          },
                          {
                            "nodeType": "Scalar_EncapsedStringPart",
                            "value": "/i",
                            "attributes": {
                              "startLine": 530,
                              "endLine": 530
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 530,
                          "endLine": 530,
                          "kind": 2
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "_extension",
                        "attributes": {
                          "startLine": 530,
                          "endLine": 530
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 530,
                    "endLine": 530
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "mime_types",
                        "attributes": {
                          "startLine": 531,
                          "endLine": 531
                        }
                      },
                      "dim": {
                        "nodeType": "Expr_Variable",
                        "name": "_extension",
                        "attributes": {
                          "startLine": 531,
                          "endLine": 531
                        }
                      },
                      "attributes": {
                        "startLine": 531,
                        "endLine": 531
                      }
                    },
                    "attributes": {
                      "startLine": 531,
                      "endLine": 531
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 530,
                  "endLine": 532
                }
              }
            ],
            "attributes": {
              "startLine": 529,
              "endLine": 533
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 535,
                  "endLine": 535
                }
              },
              "attributes": {
                "startLine": 535,
                "endLine": 535
              }
            },
            "attributes": {
              "startLine": 535,
              "endLine": 535
            }
          }
        ],
        "attributes": {
          "startLine": 521,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Returns first matched mime-type from extension,\n\t * as mapped from wp_get_mime_types()\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $extension\n\t * @return string|false\n\t */",
              "line": 512,
              "filePos": 13063,
              "tokenPos": 1910,
              "endLine": 520,
              "endFilePos": 13240,
              "endTokenPos": 1910
            }
          ],
          "endLine": 536
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 10,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "get_extension",
          "attributes": {
            "startLine": 547,
            "endLine": 547
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 547,
                "endLine": 547
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 547,
                  "endLine": 547
                }
              },
              "attributes": {
                "startLine": 547,
                "endLine": 547
              }
            },
            "attributes": {
              "startLine": 547,
              "endLine": 547
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "extensions",
                "attributes": {
                  "startLine": 548,
                  "endLine": 548
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "explode"
                  ],
                  "attributes": {
                    "startLine": 548,
                    "endLine": 548
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "|",
                      "attributes": {
                        "startLine": 548,
                        "endLine": 548,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 548,
                      "endLine": 548
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "array_search"
                        ],
                        "attributes": {
                          "startLine": 548,
                          "endLine": 548
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "mime_type",
                            "attributes": {
                              "startLine": 548,
                              "endLine": 548
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 548,
                            "endLine": 548
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_FuncCall",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "wp_get_mime_types"
                              ],
                              "attributes": {
                                "startLine": 548,
                                "endLine": 548
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 548,
                              "endLine": 548
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 548,
                            "endLine": 548
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 548,
                        "endLine": 548
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 548,
                      "endLine": 548
                    }
                  }
                ],
                "attributes": {
                  "startLine": 548,
                  "endLine": 548
                }
              },
              "attributes": {
                "startLine": 548,
                "endLine": 548
              }
            },
            "attributes": {
              "startLine": 548,
              "endLine": 548
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Empty",
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "extensions",
                  "attributes": {
                    "startLine": 550,
                    "endLine": 550
                  }
                },
                "dim": {
                  "nodeType": "Scalar_LNumber",
                  "value": 0,
                  "attributes": {
                    "startLine": 550,
                    "endLine": 550,
                    "kind": 10
                  }
                },
                "attributes": {
                  "startLine": 550,
                  "endLine": 550
                }
              },
              "attributes": {
                "startLine": 550,
                "endLine": 550
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 551,
                      "endLine": 551
                    }
                  },
                  "attributes": {
                    "startLine": 551,
                    "endLine": 551
                  }
                },
                "attributes": {
                  "startLine": 551,
                  "endLine": 551
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 550,
              "endLine": 552
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ArrayDimFetch",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "extensions",
                "attributes": {
                  "startLine": 554,
                  "endLine": 554
                }
              },
              "dim": {
                "nodeType": "Scalar_LNumber",
                "value": 0,
                "attributes": {
                  "startLine": 554,
                  "endLine": 554,
                  "kind": 10
                }
              },
              "attributes": {
                "startLine": 554,
                "endLine": 554
              }
            },
            "attributes": {
              "startLine": 554,
              "endLine": 554
            }
          }
        ],
        "attributes": {
          "startLine": 547,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Returns first matched extension from Mime-type,\n\t * as mapped from wp_get_mime_types()\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $mime_type\n\t * @return string|false\n\t */",
              "line": 538,
              "filePos": 13603,
              "tokenPos": 2030,
              "endLine": 546,
              "endFilePos": 13780,
              "endTokenPos": 2030
            }
          ],
          "endLine": 555
        }
      }
    ],
    "attributes": {
      "startLine": 14,
      "comments": [
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * Base WordPress Image Editor\n *\n * @package WordPress\n * @subpackage Image_Editor\n */",
          "line": 2,
          "filePos": 6,
          "tokenPos": 1,
          "endLine": 7,
          "endFilePos": 96,
          "endTokenPos": 1
        },
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * Base image editor class from which implementations extend\n *\n * @since 3.5.0\n */",
          "line": 9,
          "filePos": 99,
          "tokenPos": 3,
          "endLine": 13,
          "endFilePos": 185,
          "endTokenPos": 3
        }
      ],
      "endLine": 556
    }
  }
]