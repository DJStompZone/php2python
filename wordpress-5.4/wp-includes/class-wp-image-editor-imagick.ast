[
  {
    "nodeType": "Stmt_Class",
    "flags": 0,
    "extends": {
      "nodeType": "Name",
      "parts": [
        "WP_Image_Editor"
      ],
      "attributes": {
        "startLine": 16,
        "endLine": 16
      }
    },
    "implements": [],
    "name": {
      "nodeType": "Identifier",
      "name": "WP_Image_Editor_Imagick",
      "attributes": {
        "startLine": 16,
        "endLine": 16
      }
    },
    "stmts": [
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "image",
              "attributes": {
                "startLine": 22,
                "endLine": 22
              }
            },
            "default": null,
            "attributes": {
              "startLine": 22,
              "endLine": 22
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 22,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Imagick object.\n\t *\n\t * @var Imagick\n\t */",
              "line": 17,
              "filePos": 295,
              "tokenPos": 15,
              "endLine": 21,
              "endFilePos": 343,
              "endTokenPos": 15
            }
          ],
          "endLine": 22
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "__destruct",
          "attributes": {
            "startLine": 24,
            "endLine": 24
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Instanceof",
              "expr": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 25,
                    "endLine": 25
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "image",
                  "attributes": {
                    "startLine": 25,
                    "endLine": 25
                  }
                },
                "attributes": {
                  "startLine": 25,
                  "endLine": 25
                }
              },
              "class": {
                "nodeType": "Name",
                "parts": [
                  "Imagick"
                ],
                "attributes": {
                  "startLine": 25,
                  "endLine": 25
                }
              },
              "attributes": {
                "startLine": 25,
                "endLine": 25
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 27,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// We don't need the original in memory anymore.\n",
                            "line": 26,
                            "filePos": 443,
                            "tokenPos": 48,
                            "endLine": 27,
                            "endFilePos": 491,
                            "endTokenPos": 48
                          }
                        ],
                        "endLine": 27
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 27,
                        "endLine": 27
                      }
                    },
                    "attributes": {
                      "startLine": 27,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// We don't need the original in memory anymore.\n",
                          "line": 26,
                          "filePos": 443,
                          "tokenPos": 48,
                          "endLine": 27,
                          "endFilePos": 491,
                          "endTokenPos": 48
                        }
                      ],
                      "endLine": 27
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "clear",
                    "attributes": {
                      "startLine": 27,
                      "endLine": 27
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 27,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// We don't need the original in memory anymore.\n",
                        "line": 26,
                        "filePos": 443,
                        "tokenPos": 48,
                        "endLine": 27,
                        "endFilePos": 491,
                        "endTokenPos": 48
                      }
                    ],
                    "endLine": 27
                  }
                },
                "attributes": {
                  "startLine": 27,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// We don't need the original in memory anymore.\n",
                      "line": 26,
                      "filePos": 443,
                      "tokenPos": 48,
                      "endLine": 27,
                      "endFilePos": 491,
                      "endTokenPos": 48
                    }
                  ],
                  "endLine": 27
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 28,
                        "endLine": 28
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 28,
                        "endLine": 28
                      }
                    },
                    "attributes": {
                      "startLine": 28,
                      "endLine": 28
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "destroy",
                    "attributes": {
                      "startLine": 28,
                      "endLine": 28
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 28,
                    "endLine": 28
                  }
                },
                "attributes": {
                  "startLine": 28,
                  "endLine": 28
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 25,
              "endLine": 29
            }
          }
        ],
        "attributes": {
          "startLine": 24,
          "endLine": 30
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 9,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "test",
          "attributes": {
            "startLine": 43,
            "endLine": 43
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "args",
              "attributes": {
                "startLine": 43,
                "endLine": 43
              }
            },
            "default": {
              "nodeType": "Expr_Array",
              "items": [],
              "attributes": {
                "startLine": 43,
                "endLine": 43,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 43,
              "endLine": 43
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanOr",
              "left": {
                "nodeType": "Expr_BinaryOp_BooleanOr",
                "left": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "extension_loaded"
                      ],
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "imagick",
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 46,
                      "endLine": 46
                    }
                  },
                  "attributes": {
                    "startLine": 46,
                    "endLine": 46
                  }
                },
                "right": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "class_exists"
                      ],
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Imagick",
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "false"
                            ],
                            "attributes": {
                              "startLine": 46,
                              "endLine": 46
                            }
                          },
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 46,
                      "endLine": 46
                    }
                  },
                  "attributes": {
                    "startLine": 46,
                    "endLine": 46
                  }
                },
                "attributes": {
                  "startLine": 46,
                  "endLine": 46
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "class_exists"
                    ],
                    "attributes": {
                      "startLine": 46,
                      "endLine": 46
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "ImagickPixel",
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "false"
                          ],
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46
                          }
                        },
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 46,
                    "endLine": 46
                  }
                },
                "attributes": {
                  "startLine": 46,
                  "endLine": 46
                }
              },
              "attributes": {
                "startLine": 46,
                "endLine": 46
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 47,
                      "endLine": 47
                    }
                  },
                  "attributes": {
                    "startLine": 47,
                    "endLine": 47
                  }
                },
                "attributes": {
                  "startLine": 47,
                  "endLine": 47
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 46,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// First, test Imagick's extension and classes.\n",
                  "line": 45,
                  "filePos": 859,
                  "tokenPos": 95,
                  "endLine": 46,
                  "endFilePos": 906,
                  "endTokenPos": 95
                }
              ],
              "endLine": 48
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "version_compare"
                ],
                "attributes": {
                  "startLine": 50,
                  "endLine": 50
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "phpversion"
                      ],
                      "attributes": {
                        "startLine": 50,
                        "endLine": 50
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "imagick",
                          "attributes": {
                            "startLine": 50,
                            "endLine": 50,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 50,
                          "endLine": 50
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 50,
                      "endLine": 50
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 50,
                    "endLine": 50
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "2.2.0",
                    "attributes": {
                      "startLine": 50,
                      "endLine": 50,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 50,
                    "endLine": 50
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "<",
                    "attributes": {
                      "startLine": 50,
                      "endLine": 50,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 50,
                    "endLine": 50
                  }
                }
              ],
              "attributes": {
                "startLine": 50,
                "endLine": 50
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 51,
                      "endLine": 51
                    }
                  },
                  "attributes": {
                    "startLine": 51,
                    "endLine": 51
                  }
                },
                "attributes": {
                  "startLine": 51,
                  "endLine": 51
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 50,
              "endLine": 52
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "required_methods",
                "attributes": {
                  "startLine": 54,
                  "endLine": 54
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "clear",
                      "attributes": {
                        "startLine": 55,
                        "endLine": 55,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 55,
                      "endLine": 55
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "destroy",
                      "attributes": {
                        "startLine": 56,
                        "endLine": 56,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 56,
                      "endLine": 56
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "valid",
                      "attributes": {
                        "startLine": 57,
                        "endLine": 57,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 57,
                      "endLine": 57
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "getimage",
                      "attributes": {
                        "startLine": 58,
                        "endLine": 58,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 58,
                      "endLine": 58
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "writeimage",
                      "attributes": {
                        "startLine": 59,
                        "endLine": 59,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 59,
                      "endLine": 59
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "getimageblob",
                      "attributes": {
                        "startLine": 60,
                        "endLine": 60,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 60,
                      "endLine": 60
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "getimagegeometry",
                      "attributes": {
                        "startLine": 61,
                        "endLine": 61,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 61,
                      "endLine": 61
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "getimageformat",
                      "attributes": {
                        "startLine": 62,
                        "endLine": 62,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 62,
                      "endLine": 62
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "setimageformat",
                      "attributes": {
                        "startLine": 63,
                        "endLine": 63,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 63,
                      "endLine": 63
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "setimagecompression",
                      "attributes": {
                        "startLine": 64,
                        "endLine": 64,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 64,
                      "endLine": 64
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "setimagecompressionquality",
                      "attributes": {
                        "startLine": 65,
                        "endLine": 65,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 65,
                      "endLine": 65
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "setimagepage",
                      "attributes": {
                        "startLine": 66,
                        "endLine": 66,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 66,
                      "endLine": 66
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "setoption",
                      "attributes": {
                        "startLine": 67,
                        "endLine": 67,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 67,
                      "endLine": 67
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "scaleimage",
                      "attributes": {
                        "startLine": 68,
                        "endLine": 68,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 68,
                      "endLine": 68
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "cropimage",
                      "attributes": {
                        "startLine": 69,
                        "endLine": 69,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 69,
                      "endLine": 69
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "rotateimage",
                      "attributes": {
                        "startLine": 70,
                        "endLine": 70,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 70,
                      "endLine": 70
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "flipimage",
                      "attributes": {
                        "startLine": 71,
                        "endLine": 71,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 71,
                      "endLine": 71
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "flopimage",
                      "attributes": {
                        "startLine": 72,
                        "endLine": 72,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 72,
                      "endLine": 72
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "readimage",
                      "attributes": {
                        "startLine": 73,
                        "endLine": 73,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 73,
                      "endLine": 73
                    }
                  }
                ],
                "attributes": {
                  "startLine": 54,
                  "endLine": 74,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 54,
                "endLine": 74
              }
            },
            "attributes": {
              "startLine": 54,
              "endLine": 74
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "defined"
                  ],
                  "attributes": {
                    "startLine": 77,
                    "endLine": 77
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "imagick::COMPRESSION_JPEG",
                      "attributes": {
                        "startLine": 77,
                        "endLine": 77,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 77,
                      "endLine": 77
                    }
                  }
                ],
                "attributes": {
                  "startLine": 77,
                  "endLine": 77
                }
              },
              "attributes": {
                "startLine": 77,
                "endLine": 77
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 78,
                      "endLine": 78
                    }
                  },
                  "attributes": {
                    "startLine": 78,
                    "endLine": 78
                  }
                },
                "attributes": {
                  "startLine": 78,
                  "endLine": 78
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 77,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Now, test for deep requirements within Imagick.\n",
                  "line": 76,
                  "filePos": 1527,
                  "tokenPos": 249,
                  "endLine": 77,
                  "endFilePos": 1577,
                  "endTokenPos": 249
                }
              ],
              "endLine": 79
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "class_methods",
                "attributes": {
                  "startLine": 81,
                  "endLine": 81
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "array_map"
                  ],
                  "attributes": {
                    "startLine": 81,
                    "endLine": 81
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "strtolower",
                      "attributes": {
                        "startLine": 81,
                        "endLine": 81,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 81,
                      "endLine": 81
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "get_class_methods"
                        ],
                        "attributes": {
                          "startLine": 81,
                          "endLine": 81
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "Imagick",
                            "attributes": {
                              "startLine": 81,
                              "endLine": 81,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 81,
                            "endLine": 81
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 81,
                        "endLine": 81
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 81,
                      "endLine": 81
                    }
                  }
                ],
                "attributes": {
                  "startLine": 81,
                  "endLine": 81
                }
              },
              "attributes": {
                "startLine": 81,
                "endLine": 81
              }
            },
            "attributes": {
              "startLine": 81,
              "endLine": 81
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "array_diff"
                ],
                "attributes": {
                  "startLine": 82,
                  "endLine": 82
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "required_methods",
                    "attributes": {
                      "startLine": 82,
                      "endLine": 82
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 82,
                    "endLine": 82
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "class_methods",
                    "attributes": {
                      "startLine": 82,
                      "endLine": 82
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 82,
                    "endLine": 82
                  }
                }
              ],
              "attributes": {
                "startLine": 82,
                "endLine": 82
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 83,
                      "endLine": 83
                    }
                  },
                  "attributes": {
                    "startLine": 83,
                    "endLine": 83
                  }
                },
                "attributes": {
                  "startLine": 83,
                  "endLine": 83
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 82,
              "endLine": 84
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 86,
                  "endLine": 86
                }
              },
              "attributes": {
                "startLine": 86,
                "endLine": 86
              }
            },
            "attributes": {
              "startLine": 86,
              "endLine": 86
            }
          }
        ],
        "attributes": {
          "startLine": 43,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Checks to see if current environment supports Imagick.\n\t *\n\t * We require Imagick 2.2.0 or greater, based on whether the queryFormats()\n\t * method can be called statically.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param array $args\n\t * @return bool\n\t */",
              "line": 32,
              "filePos": 555,
              "tokenPos": 72,
              "endLine": 42,
              "endFilePos": 804,
              "endTokenPos": 72
            }
          ],
          "endLine": 87
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 9,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "supports_mime_type",
          "attributes": {
            "startLine": 97,
            "endLine": 97
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 97,
                "endLine": 97
              }
            },
            "default": null,
            "attributes": {
              "startLine": 97,
              "endLine": 97
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "imagick_extension",
                "attributes": {
                  "startLine": 98,
                  "endLine": 98
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "strtoupper"
                  ],
                  "attributes": {
                    "startLine": 98,
                    "endLine": 98
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_StaticCall",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "self"
                        ],
                        "attributes": {
                          "startLine": 98,
                          "endLine": 98
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "get_extension",
                        "attributes": {
                          "startLine": 98,
                          "endLine": 98
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "mime_type",
                            "attributes": {
                              "startLine": 98,
                              "endLine": 98
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 98,
                            "endLine": 98
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 98,
                        "endLine": 98
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 98,
                      "endLine": 98
                    }
                  }
                ],
                "attributes": {
                  "startLine": 98,
                  "endLine": 98
                }
              },
              "attributes": {
                "startLine": 98,
                "endLine": 98
              }
            },
            "attributes": {
              "startLine": 98,
              "endLine": 98
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "imagick_extension",
                "attributes": {
                  "startLine": 100,
                  "endLine": 100
                }
              },
              "attributes": {
                "startLine": 100,
                "endLine": 100
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 101,
                      "endLine": 101
                    }
                  },
                  "attributes": {
                    "startLine": 101,
                    "endLine": 101
                  }
                },
                "attributes": {
                  "startLine": 101,
                  "endLine": 101
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 100,
              "endLine": 102
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "method_exists"
                    ],
                    "attributes": {
                      "startLine": 106,
                      "endLine": 106
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "Imagick",
                        "attributes": {
                          "startLine": 106,
                          "endLine": 106,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 106,
                        "endLine": 106
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "setIteratorIndex",
                        "attributes": {
                          "startLine": 106,
                          "endLine": 106,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 106,
                        "endLine": 106
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 106,
                    "endLine": 106
                  }
                },
                "attributes": {
                  "startLine": 106,
                  "endLine": 106
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_NotIdentical",
                "left": {
                  "nodeType": "Scalar_String",
                  "value": "image/jpeg",
                  "attributes": {
                    "startLine": 106,
                    "endLine": 106,
                    "kind": 1
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "mime_type",
                  "attributes": {
                    "startLine": 106,
                    "endLine": 106
                  }
                },
                "attributes": {
                  "startLine": 106,
                  "endLine": 106
                }
              },
              "attributes": {
                "startLine": 106,
                "endLine": 106
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 107,
                      "endLine": 107
                    }
                  },
                  "attributes": {
                    "startLine": 107,
                    "endLine": 107
                  }
                },
                "attributes": {
                  "startLine": 107,
                  "endLine": 107
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 106,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// setIteratorIndex is optional unless mime is an animated format.\n",
                  "line": 104,
                  "filePos": 2161,
                  "tokenPos": 382,
                  "endLine": 105,
                  "endFilePos": 2227,
                  "endTokenPos": 382
                },
                {
                  "nodeType": "Comment",
                  "text": "// Here, we just say no if you are missing it and aren't loading a jpeg.\n",
                  "line": 105,
                  "filePos": 2230,
                  "tokenPos": 384,
                  "endLine": 106,
                  "endFilePos": 2302,
                  "endTokenPos": 384
                }
              ],
              "endLine": 108
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Cast_Bool",
                  "expr": {
                    "nodeType": "Expr_ErrorSuppress",
                    "expr": {
                      "nodeType": "Expr_StaticCall",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "Imagick"
                        ],
                        "attributes": {
                          "startLine": 112,
                          "endLine": 112
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "queryFormats",
                        "attributes": {
                          "startLine": 112,
                          "endLine": 112
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "imagick_extension",
                            "attributes": {
                              "startLine": 112,
                              "endLine": 112
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 112,
                            "endLine": 112
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 112,
                        "endLine": 112
                      }
                    },
                    "attributes": {
                      "startLine": 112,
                      "endLine": 112
                    }
                  },
                  "attributes": {
                    "startLine": 112,
                    "endLine": 112
                  }
                },
                "attributes": {
                  "startLine": 112,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// phpcs:ignore WordPress.PHP.NoSilencedErrors.Discouraged\n",
                      "line": 111,
                      "filePos": 2428,
                      "tokenPos": 425,
                      "endLine": 112,
                      "endFilePos": 2486,
                      "endTokenPos": 425
                    }
                  ],
                  "endLine": 112
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 113,
                      "endLine": 113
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 113,
                    "endLine": 113
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "false"
                        ],
                        "attributes": {
                          "startLine": 114,
                          "endLine": 114
                        }
                      },
                      "attributes": {
                        "startLine": 114,
                        "endLine": 114
                      }
                    },
                    "attributes": {
                      "startLine": 114,
                      "endLine": 114
                    }
                  }
                ],
                "attributes": {
                  "startLine": 113,
                  "endLine": 115
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 110,
              "endLine": 115
            }
          }
        ],
        "attributes": {
          "startLine": 97,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Checks to see if editor supports the mime-type specified.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $mime_type\n\t * @return bool\n\t */",
              "line": 89,
              "filePos": 1831,
              "tokenPos": 327,
              "endLine": 96,
              "endFilePos": 1971,
              "endTokenPos": 327
            }
          ],
          "endLine": 116
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "load",
          "attributes": {
            "startLine": 125,
            "endLine": 125
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Instanceof",
              "expr": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 126,
                    "endLine": 126
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "image",
                  "attributes": {
                    "startLine": 126,
                    "endLine": 126
                  }
                },
                "attributes": {
                  "startLine": 126,
                  "endLine": 126
                }
              },
              "class": {
                "nodeType": "Name",
                "parts": [
                  "Imagick"
                ],
                "attributes": {
                  "startLine": 126,
                  "endLine": 126
                }
              },
              "attributes": {
                "startLine": 126,
                "endLine": 126
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 127,
                      "endLine": 127
                    }
                  },
                  "attributes": {
                    "startLine": 127,
                    "endLine": 127
                  }
                },
                "attributes": {
                  "startLine": 127,
                  "endLine": 127
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 126,
              "endLine": 128
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_file"
                    ],
                    "attributes": {
                      "startLine": 130,
                      "endLine": 130
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 130,
                            "endLine": 130
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 130,
                            "endLine": 130
                          }
                        },
                        "attributes": {
                          "startLine": 130,
                          "endLine": 130
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 130,
                        "endLine": 130
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 130,
                    "endLine": 130
                  }
                },
                "attributes": {
                  "startLine": 130,
                  "endLine": 130
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "preg_match"
                    ],
                    "attributes": {
                      "startLine": 130,
                      "endLine": 130
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "|^https?://|",
                        "attributes": {
                          "startLine": 130,
                          "endLine": 130,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 130,
                        "endLine": 130
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 130,
                            "endLine": 130
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 130,
                            "endLine": 130
                          }
                        },
                        "attributes": {
                          "startLine": 130,
                          "endLine": 130
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 130,
                        "endLine": 130
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 130,
                    "endLine": 130
                  }
                },
                "attributes": {
                  "startLine": 130,
                  "endLine": 130
                }
              },
              "attributes": {
                "startLine": 130,
                "endLine": 130
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 131,
                      "endLine": 131
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "error_loading_image",
                        "attributes": {
                          "startLine": 131,
                          "endLine": 131,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 131,
                        "endLine": 131
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 131,
                            "endLine": 131
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "File doesn&#8217;t exist?",
                              "attributes": {
                                "startLine": 131,
                                "endLine": 131,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 131,
                              "endLine": 131
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 131,
                          "endLine": 131
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 131,
                        "endLine": 131
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 131,
                            "endLine": 131
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 131,
                            "endLine": 131
                          }
                        },
                        "attributes": {
                          "startLine": 131,
                          "endLine": 131
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 131,
                        "endLine": 131
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 131,
                    "endLine": 131
                  }
                },
                "attributes": {
                  "startLine": 131,
                  "endLine": 131
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 130,
              "endLine": 132
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "wp_raise_memory_limit"
                ],
                "attributes": {
                  "startLine": 138,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t * Even though Imagick uses less PHP memory than GD, set higher limit\n\t\t * for users that have low PHP.ini limits.\n\t\t */",
                      "line": 134,
                      "filePos": 3041,
                      "tokenPos": 566,
                      "endLine": 137,
                      "endFilePos": 3165,
                      "endTokenPos": 566
                    }
                  ],
                  "endLine": 138
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image",
                    "attributes": {
                      "startLine": 138,
                      "endLine": 138,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 138,
                    "endLine": 138
                  }
                }
              ],
              "attributes": {
                "startLine": 138,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "/*\n\t\t * Even though Imagick uses less PHP memory than GD, set higher limit\n\t\t * for users that have low PHP.ini limits.\n\t\t */",
                    "line": 134,
                    "filePos": 3041,
                    "tokenPos": 566,
                    "endLine": 137,
                    "endFilePos": 3165,
                    "endTokenPos": 566
                  }
                ],
                "endLine": 138
              }
            },
            "attributes": {
              "startLine": 138,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "/*\n\t\t * Even though Imagick uses less PHP memory than GD, set higher limit\n\t\t * for users that have low PHP.ini limits.\n\t\t */",
                  "line": 134,
                  "filePos": 3041,
                  "tokenPos": 566,
                  "endLine": 137,
                  "endFilePos": 3165,
                  "endTokenPos": 566
                }
              ],
              "endLine": 138
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 141,
                        "endLine": 141
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 141,
                        "endLine": 141
                      }
                    },
                    "attributes": {
                      "startLine": 141,
                      "endLine": 141
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_New",
                    "class": {
                      "nodeType": "Name",
                      "parts": [
                        "Imagick"
                      ],
                      "attributes": {
                        "startLine": 141,
                        "endLine": 141
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 141,
                      "endLine": 141
                    }
                  },
                  "attributes": {
                    "startLine": 141,
                    "endLine": 141
                  }
                },
                "attributes": {
                  "startLine": 141,
                  "endLine": 141
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "file_extension",
                    "attributes": {
                      "startLine": 142,
                      "endLine": 142
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "strtolower"
                      ],
                      "attributes": {
                        "startLine": 142,
                        "endLine": 142
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "pathinfo"
                            ],
                            "attributes": {
                              "startLine": 142,
                              "endLine": 142
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 142,
                                    "endLine": 142
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "file",
                                  "attributes": {
                                    "startLine": 142,
                                    "endLine": 142
                                  }
                                },
                                "attributes": {
                                  "startLine": 142,
                                  "endLine": 142
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 142,
                                "endLine": 142
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_ConstFetch",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "PATHINFO_EXTENSION"
                                  ],
                                  "attributes": {
                                    "startLine": 142,
                                    "endLine": 142
                                  }
                                },
                                "attributes": {
                                  "startLine": 142,
                                  "endLine": 142
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 142,
                                "endLine": 142
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 142,
                            "endLine": 142
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 142,
                          "endLine": 142
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 142,
                      "endLine": 142
                    }
                  },
                  "attributes": {
                    "startLine": 142,
                    "endLine": 142
                  }
                },
                "attributes": {
                  "startLine": 142,
                  "endLine": 142
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 143,
                      "endLine": 143
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 143,
                        "endLine": 143
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 143,
                        "endLine": 143
                      }
                    },
                    "attributes": {
                      "startLine": 143,
                      "endLine": 143
                    }
                  },
                  "attributes": {
                    "startLine": 143,
                    "endLine": 143
                  }
                },
                "attributes": {
                  "startLine": 143,
                  "endLine": 143
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Identical",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "pdf",
                    "attributes": {
                      "startLine": 145,
                      "endLine": 145,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "file_extension",
                    "attributes": {
                      "startLine": 145,
                      "endLine": 145
                    }
                  },
                  "attributes": {
                    "startLine": 145,
                    "endLine": 145
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "filename",
                        "attributes": {
                          "startLine": 146,
                          "endLine": 146
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 146,
                            "endLine": 146
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "pdf_setup",
                          "attributes": {
                            "startLine": 146,
                            "endLine": 146
                          }
                        },
                        "args": [],
                        "attributes": {
                          "startLine": 146,
                          "endLine": 146
                        }
                      },
                      "attributes": {
                        "startLine": 146,
                        "endLine": 146
                      }
                    },
                    "attributes": {
                      "startLine": 146,
                      "endLine": 146
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 145,
                  "endLine": 147
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 151,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Reading image after Imagick instantiation because `setResolution`\n",
                            "line": 149,
                            "filePos": 3446,
                            "tokenPos": 651,
                            "endLine": 150,
                            "endFilePos": 3514,
                            "endTokenPos": 651
                          },
                          {
                            "nodeType": "Comment",
                            "text": "// only applies correctly before the image is read.\n",
                            "line": 150,
                            "filePos": 3518,
                            "tokenPos": 653,
                            "endLine": 151,
                            "endFilePos": 3569,
                            "endTokenPos": 653
                          }
                        ],
                        "endLine": 151
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 151,
                        "endLine": 151
                      }
                    },
                    "attributes": {
                      "startLine": 151,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Reading image after Imagick instantiation because `setResolution`\n",
                          "line": 149,
                          "filePos": 3446,
                          "tokenPos": 651,
                          "endLine": 150,
                          "endFilePos": 3514,
                          "endTokenPos": 651
                        },
                        {
                          "nodeType": "Comment",
                          "text": "// only applies correctly before the image is read.\n",
                          "line": 150,
                          "filePos": 3518,
                          "tokenPos": 653,
                          "endLine": 151,
                          "endFilePos": 3569,
                          "endTokenPos": 653
                        }
                      ],
                      "endLine": 151
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "readImage",
                    "attributes": {
                      "startLine": 151,
                      "endLine": 151
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "filename",
                        "attributes": {
                          "startLine": 151,
                          "endLine": 151
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 151,
                        "endLine": 151
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 151,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Reading image after Imagick instantiation because `setResolution`\n",
                        "line": 149,
                        "filePos": 3446,
                        "tokenPos": 651,
                        "endLine": 150,
                        "endFilePos": 3514,
                        "endTokenPos": 651
                      },
                      {
                        "nodeType": "Comment",
                        "text": "// only applies correctly before the image is read.\n",
                        "line": 150,
                        "filePos": 3518,
                        "tokenPos": 653,
                        "endLine": 151,
                        "endFilePos": 3569,
                        "endTokenPos": 653
                      }
                    ],
                    "endLine": 151
                  }
                },
                "attributes": {
                  "startLine": 151,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Reading image after Imagick instantiation because `setResolution`\n",
                      "line": 149,
                      "filePos": 3446,
                      "tokenPos": 651,
                      "endLine": 150,
                      "endFilePos": 3514,
                      "endTokenPos": 651
                    },
                    {
                      "nodeType": "Comment",
                      "text": "// only applies correctly before the image is read.\n",
                      "line": 150,
                      "filePos": 3518,
                      "tokenPos": 653,
                      "endLine": 151,
                      "endFilePos": 3569,
                      "endTokenPos": 653
                    }
                  ],
                  "endLine": 151
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 153,
                          "endLine": 153
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 153,
                          "endLine": 153
                        }
                      },
                      "attributes": {
                        "startLine": 153,
                        "endLine": 153
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "valid",
                      "attributes": {
                        "startLine": 153,
                        "endLine": 153
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 153,
                      "endLine": 153
                    }
                  },
                  "attributes": {
                    "startLine": 153,
                    "endLine": 153
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 154,
                          "endLine": 154
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "invalid_image",
                            "attributes": {
                              "startLine": 154,
                              "endLine": 154,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 154,
                            "endLine": 154
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_FuncCall",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "__"
                              ],
                              "attributes": {
                                "startLine": 154,
                                "endLine": 154
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Scalar_String",
                                  "value": "File is not an image.",
                                  "attributes": {
                                    "startLine": 154,
                                    "endLine": 154,
                                    "kind": 1
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 154,
                                  "endLine": 154
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 154,
                              "endLine": 154
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 154,
                            "endLine": 154
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 154,
                                "endLine": 154
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "file",
                              "attributes": {
                                "startLine": 154,
                                "endLine": 154
                              }
                            },
                            "attributes": {
                              "startLine": 154,
                              "endLine": 154
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 154,
                            "endLine": 154
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 154,
                        "endLine": 154
                      }
                    },
                    "attributes": {
                      "startLine": 154,
                      "endLine": 154
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 153,
                  "endLine": 155
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_callable"
                    ],
                    "attributes": {
                      "startLine": 158,
                      "endLine": 158
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Array",
                        "items": [
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 158,
                                  "endLine": 158
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "image",
                                "attributes": {
                                  "startLine": 158,
                                  "endLine": 158
                                }
                              },
                              "attributes": {
                                "startLine": 158,
                                "endLine": 158
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 158,
                              "endLine": 158
                            }
                          },
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "setIteratorIndex",
                              "attributes": {
                                "startLine": 158,
                                "endLine": 158,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 158,
                              "endLine": 158
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 158,
                          "endLine": 158,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 158,
                        "endLine": 158
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 158,
                    "endLine": 158
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 159,
                            "endLine": 159
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 159,
                            "endLine": 159
                          }
                        },
                        "attributes": {
                          "startLine": 159,
                          "endLine": 159
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setIteratorIndex",
                        "attributes": {
                          "startLine": 159,
                          "endLine": 159
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_LNumber",
                            "value": 0,
                            "attributes": {
                              "startLine": 159,
                              "endLine": 159,
                              "kind": 10
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 159,
                            "endLine": 159
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 159,
                        "endLine": 159
                      }
                    },
                    "attributes": {
                      "startLine": 159,
                      "endLine": 159
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 158,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Select the first frame to handle animated images properly.\n",
                      "line": 157,
                      "filePos": 3745,
                      "tokenPos": 712,
                      "endLine": 158,
                      "endFilePos": 3806,
                      "endTokenPos": 712
                    }
                  ],
                  "endLine": 160
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 162,
                        "endLine": 162
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 162,
                        "endLine": 162
                      }
                    },
                    "attributes": {
                      "startLine": 162,
                      "endLine": 162
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 162,
                        "endLine": 162
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "get_mime_type",
                      "attributes": {
                        "startLine": 162,
                        "endLine": 162
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 162,
                                "endLine": 162
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 162,
                                "endLine": 162
                              }
                            },
                            "attributes": {
                              "startLine": 162,
                              "endLine": 162
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "getImageFormat",
                            "attributes": {
                              "startLine": 162,
                              "endLine": 162
                            }
                          },
                          "args": [],
                          "attributes": {
                            "startLine": 162,
                            "endLine": 162
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 162,
                          "endLine": 162
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 162,
                      "endLine": 162
                    }
                  },
                  "attributes": {
                    "startLine": 162,
                    "endLine": 162
                  }
                },
                "attributes": {
                  "startLine": 162,
                  "endLine": 162
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 163,
                      "endLine": 163
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 163,
                    "endLine": 163
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 164,
                          "endLine": 164
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "invalid_image",
                            "attributes": {
                              "startLine": 164,
                              "endLine": 164,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 164,
                            "endLine": 164
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 164,
                                "endLine": 164
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 164,
                                "endLine": 164
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 164,
                              "endLine": 164
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 164,
                            "endLine": 164
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 164,
                                "endLine": 164
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "file",
                              "attributes": {
                                "startLine": 164,
                                "endLine": 164
                              }
                            },
                            "attributes": {
                              "startLine": 164,
                              "endLine": 164
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 164,
                            "endLine": 164
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 164,
                        "endLine": 164
                      }
                    },
                    "attributes": {
                      "startLine": 164,
                      "endLine": 164
                    }
                  }
                ],
                "attributes": {
                  "startLine": 163,
                  "endLine": 165
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 140,
              "endLine": 165
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "updated_size",
                "attributes": {
                  "startLine": 167,
                  "endLine": 167
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 167,
                    "endLine": 167
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "update_size",
                  "attributes": {
                    "startLine": 167,
                    "endLine": 167
                  }
                },
                "args": [],
                "attributes": {
                  "startLine": 167,
                  "endLine": 167
                }
              },
              "attributes": {
                "startLine": 167,
                "endLine": 167
              }
            },
            "attributes": {
              "startLine": 167,
              "endLine": 167
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_wp_error"
                ],
                "attributes": {
                  "startLine": 168,
                  "endLine": 168
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "updated_size",
                    "attributes": {
                      "startLine": 168,
                      "endLine": 168
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 168,
                    "endLine": 168
                  }
                }
              ],
              "attributes": {
                "startLine": 168,
                "endLine": 168
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "updated_size",
                  "attributes": {
                    "startLine": 169,
                    "endLine": 169
                  }
                },
                "attributes": {
                  "startLine": 169,
                  "endLine": 169
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 168,
              "endLine": 170
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_MethodCall",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 172,
                  "endLine": 172
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "set_quality",
                "attributes": {
                  "startLine": 172,
                  "endLine": 172
                }
              },
              "args": [],
              "attributes": {
                "startLine": 172,
                "endLine": 172
              }
            },
            "attributes": {
              "startLine": 172,
              "endLine": 172
            }
          }
        ],
        "attributes": {
          "startLine": 125,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Loads image from $this->file into new Imagick Object.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @return true|WP_Error True if loaded; WP_Error on failure.\n\t */",
              "line": 118,
              "filePos": 2609,
              "tokenPos": 469,
              "endLine": 124,
              "endFilePos": 2762,
              "endTokenPos": 469
            }
          ],
          "endLine": 173
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "set_quality",
          "attributes": {
            "startLine": 183,
            "endLine": 183
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "quality",
              "attributes": {
                "startLine": 183,
                "endLine": 183
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 183,
                  "endLine": 183
                }
              },
              "attributes": {
                "startLine": 183,
                "endLine": 183
              }
            },
            "attributes": {
              "startLine": 183,
              "endLine": 183
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "quality_result",
                "attributes": {
                  "startLine": 184,
                  "endLine": 184
                }
              },
              "expr": {
                "nodeType": "Expr_StaticCall",
                "class": {
                  "nodeType": "Name",
                  "parts": [
                    "parent"
                  ],
                  "attributes": {
                    "startLine": 184,
                    "endLine": 184
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "set_quality",
                  "attributes": {
                    "startLine": 184,
                    "endLine": 184
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "quality",
                      "attributes": {
                        "startLine": 184,
                        "endLine": 184
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 184,
                      "endLine": 184
                    }
                  }
                ],
                "attributes": {
                  "startLine": 184,
                  "endLine": 184
                }
              },
              "attributes": {
                "startLine": 184,
                "endLine": 184
              }
            },
            "attributes": {
              "startLine": 184,
              "endLine": 184
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_wp_error"
                ],
                "attributes": {
                  "startLine": 185,
                  "endLine": 185
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "quality_result",
                    "attributes": {
                      "startLine": 185,
                      "endLine": 185
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 185,
                    "endLine": 185
                  }
                }
              ],
              "attributes": {
                "startLine": 185,
                "endLine": 185
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "quality_result",
                  "attributes": {
                    "startLine": 186,
                    "endLine": 186
                  }
                },
                "attributes": {
                  "startLine": 186,
                  "endLine": 186
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "quality",
                      "attributes": {
                        "startLine": 188,
                        "endLine": 188
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 188,
                          "endLine": 188
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "get_quality",
                        "attributes": {
                          "startLine": 188,
                          "endLine": 188
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 188,
                        "endLine": 188
                      }
                    },
                    "attributes": {
                      "startLine": 188,
                      "endLine": 188
                    }
                  },
                  "attributes": {
                    "startLine": 188,
                    "endLine": 188
                  }
                }
              ],
              "attributes": {
                "startLine": 187,
                "endLine": 189
              }
            },
            "attributes": {
              "startLine": 185,
              "endLine": 189
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Identical",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "image/jpeg",
                    "attributes": {
                      "startLine": 192,
                      "endLine": 192,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 192,
                        "endLine": 192
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 192,
                        "endLine": 192
                      }
                    },
                    "attributes": {
                      "startLine": 192,
                      "endLine": 192
                    }
                  },
                  "attributes": {
                    "startLine": 192,
                    "endLine": 192
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 193,
                            "endLine": 193
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 193,
                            "endLine": 193
                          }
                        },
                        "attributes": {
                          "startLine": 193,
                          "endLine": 193
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setImageCompressionQuality",
                        "attributes": {
                          "startLine": 193,
                          "endLine": 193
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "quality",
                            "attributes": {
                              "startLine": 193,
                              "endLine": 193
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 193,
                            "endLine": 193
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 193,
                        "endLine": 193
                      }
                    },
                    "attributes": {
                      "startLine": 193,
                      "endLine": 193
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 194,
                            "endLine": 194
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 194,
                            "endLine": 194
                          }
                        },
                        "attributes": {
                          "startLine": 194,
                          "endLine": 194
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setImageCompression",
                        "attributes": {
                          "startLine": 194,
                          "endLine": 194
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ClassConstFetch",
                            "class": {
                              "nodeType": "Name",
                              "parts": [
                                "imagick"
                              ],
                              "attributes": {
                                "startLine": 194,
                                "endLine": 194
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "COMPRESSION_JPEG",
                              "attributes": {
                                "startLine": 194,
                                "endLine": 194
                              }
                            },
                            "attributes": {
                              "startLine": 194,
                              "endLine": 194
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 194,
                            "endLine": 194
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 194,
                        "endLine": 194
                      }
                    },
                    "attributes": {
                      "startLine": 194,
                      "endLine": 194
                    }
                  }
                ],
                "elseifs": [],
                "else": {
                  "nodeType": "Stmt_Else",
                  "stmts": [
                    {
                      "nodeType": "Stmt_Expression",
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 196,
                              "endLine": 196
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 196,
                              "endLine": 196
                            }
                          },
                          "attributes": {
                            "startLine": 196,
                            "endLine": 196
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "setImageCompressionQuality",
                          "attributes": {
                            "startLine": 196,
                            "endLine": 196
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "quality",
                              "attributes": {
                                "startLine": 196,
                                "endLine": 196
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 196,
                              "endLine": 196
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 196,
                          "endLine": 196
                        }
                      },
                      "attributes": {
                        "startLine": 196,
                        "endLine": 196
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 195,
                    "endLine": 197
                  }
                },
                "attributes": {
                  "startLine": 192,
                  "endLine": 197
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 198,
                      "endLine": 198
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 198,
                    "endLine": 198
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 199,
                          "endLine": 199
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_quality_error",
                            "attributes": {
                              "startLine": 199,
                              "endLine": 199,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 199,
                            "endLine": 199
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 199,
                                "endLine": 199
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 199,
                                "endLine": 199
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 199,
                              "endLine": 199
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 199,
                            "endLine": 199
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 199,
                        "endLine": 199
                      }
                    },
                    "attributes": {
                      "startLine": 199,
                      "endLine": 199
                    }
                  }
                ],
                "attributes": {
                  "startLine": 198,
                  "endLine": 200
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 191,
              "endLine": 200
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 202,
                  "endLine": 202
                }
              },
              "attributes": {
                "startLine": 202,
                "endLine": 202
              }
            },
            "attributes": {
              "startLine": 202,
              "endLine": 202
            }
          }
        ],
        "attributes": {
          "startLine": 183,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Sets Image Compression quality on a 1-100% scale.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int $quality Compression Quality. Range: [1,100]\n\t * @return true|WP_Error True if set successfully; WP_Error on failure.\n\t */",
              "line": 175,
              "filePos": 4255,
              "tokenPos": 859,
              "endLine": 182,
              "endFilePos": 4474,
              "endTokenPos": 859
            }
          ],
          "endLine": 203
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "update_size",
          "attributes": {
            "startLine": 215,
            "endLine": 215
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "width",
              "attributes": {
                "startLine": 215,
                "endLine": 215
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 215,
                  "endLine": 215
                }
              },
              "attributes": {
                "startLine": 215,
                "endLine": 215
              }
            },
            "attributes": {
              "startLine": 215,
              "endLine": 215
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "height",
              "attributes": {
                "startLine": 215,
                "endLine": 215
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 215,
                  "endLine": 215
                }
              },
              "attributes": {
                "startLine": 215,
                "endLine": 215
              }
            },
            "attributes": {
              "startLine": 215,
              "endLine": 215
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "size",
                "attributes": {
                  "startLine": 216,
                  "endLine": 216
                }
              },
              "expr": {
                "nodeType": "Expr_ConstFetch",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "null"
                  ],
                  "attributes": {
                    "startLine": 216,
                    "endLine": 216
                  }
                },
                "attributes": {
                  "startLine": 216,
                  "endLine": 216
                }
              },
              "attributes": {
                "startLine": 216,
                "endLine": 216
              }
            },
            "attributes": {
              "startLine": 216,
              "endLine": 216
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanOr",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "width",
                  "attributes": {
                    "startLine": 217,
                    "endLine": 217
                  }
                },
                "attributes": {
                  "startLine": 217,
                  "endLine": 217
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "height",
                  "attributes": {
                    "startLine": 217,
                    "endLine": 217
                  }
                },
                "attributes": {
                  "startLine": 217,
                  "endLine": 217
                }
              },
              "attributes": {
                "startLine": 217,
                "endLine": 217
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_TryCatch",
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size",
                        "attributes": {
                          "startLine": 219,
                          "endLine": 219
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 219,
                              "endLine": 219
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 219,
                              "endLine": 219
                            }
                          },
                          "attributes": {
                            "startLine": 219,
                            "endLine": 219
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "getImageGeometry",
                          "attributes": {
                            "startLine": 219,
                            "endLine": 219
                          }
                        },
                        "args": [],
                        "attributes": {
                          "startLine": 219,
                          "endLine": 219
                        }
                      },
                      "attributes": {
                        "startLine": 219,
                        "endLine": 219
                      }
                    },
                    "attributes": {
                      "startLine": 219,
                      "endLine": 219
                    }
                  }
                ],
                "catches": [
                  {
                    "nodeType": "Stmt_Catch",
                    "types": [
                      {
                        "nodeType": "Name",
                        "parts": [
                          "Exception"
                        ],
                        "attributes": {
                          "startLine": 220,
                          "endLine": 220
                        }
                      }
                    ],
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "e",
                      "attributes": {
                        "startLine": 220,
                        "endLine": 220
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_New",
                          "class": {
                            "nodeType": "Name",
                            "parts": [
                              "WP_Error"
                            ],
                            "attributes": {
                              "startLine": 221,
                              "endLine": 221
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "invalid_image",
                                "attributes": {
                                  "startLine": 221,
                                  "endLine": 221,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 221,
                                "endLine": 221
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_FuncCall",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "__"
                                  ],
                                  "attributes": {
                                    "startLine": 221,
                                    "endLine": 221
                                  }
                                },
                                "args": [
                                  {
                                    "nodeType": "Arg",
                                    "value": {
                                      "nodeType": "Scalar_String",
                                      "value": "Could not read image size.",
                                      "attributes": {
                                        "startLine": 221,
                                        "endLine": 221,
                                        "kind": 1
                                      }
                                    },
                                    "byRef": false,
                                    "unpack": false,
                                    "attributes": {
                                      "startLine": 221,
                                      "endLine": 221
                                    }
                                  }
                                ],
                                "attributes": {
                                  "startLine": 221,
                                  "endLine": 221
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 221,
                                "endLine": 221
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 221,
                                    "endLine": 221
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "file",
                                  "attributes": {
                                    "startLine": 221,
                                    "endLine": 221
                                  }
                                },
                                "attributes": {
                                  "startLine": 221,
                                  "endLine": 221
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 221,
                                "endLine": 221
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 221,
                            "endLine": 221
                          }
                        },
                        "attributes": {
                          "startLine": 221,
                          "endLine": 221
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 220,
                      "endLine": 222
                    }
                  }
                ],
                "finally": null,
                "attributes": {
                  "startLine": 218,
                  "endLine": 222
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 217,
              "endLine": 223
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "width",
                "attributes": {
                  "startLine": 225,
                  "endLine": 225
                }
              },
              "attributes": {
                "startLine": 225,
                "endLine": 225
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "width",
                    "attributes": {
                      "startLine": 226,
                      "endLine": 226
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size",
                      "attributes": {
                        "startLine": 226,
                        "endLine": 226
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 226,
                        "endLine": 226,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 226,
                      "endLine": 226
                    }
                  },
                  "attributes": {
                    "startLine": 226,
                    "endLine": 226
                  }
                },
                "attributes": {
                  "startLine": 226,
                  "endLine": 226
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 225,
              "endLine": 227
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "height",
                "attributes": {
                  "startLine": 229,
                  "endLine": 229
                }
              },
              "attributes": {
                "startLine": 229,
                "endLine": 229
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "height",
                    "attributes": {
                      "startLine": 230,
                      "endLine": 230
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size",
                      "attributes": {
                        "startLine": 230,
                        "endLine": 230
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 230,
                        "endLine": 230,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 230,
                      "endLine": 230
                    }
                  },
                  "attributes": {
                    "startLine": 230,
                    "endLine": 230
                  }
                },
                "attributes": {
                  "startLine": 230,
                  "endLine": 230
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 229,
              "endLine": 231
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_StaticCall",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "parent"
                ],
                "attributes": {
                  "startLine": 233,
                  "endLine": 233
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "update_size",
                "attributes": {
                  "startLine": 233,
                  "endLine": 233
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "width",
                    "attributes": {
                      "startLine": 233,
                      "endLine": 233
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 233,
                    "endLine": 233
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "height",
                    "attributes": {
                      "startLine": 233,
                      "endLine": 233
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 233,
                    "endLine": 233
                  }
                }
              ],
              "attributes": {
                "startLine": 233,
                "endLine": 233
              }
            },
            "attributes": {
              "startLine": 233,
              "endLine": 233
            }
          }
        ],
        "attributes": {
          "startLine": 215,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Sets or updates current image size.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int $width\n\t * @param int $height\n\t *\n\t * @return true|WP_Error\n\t */",
              "line": 205,
              "filePos": 5076,
              "tokenPos": 1039,
              "endLine": 214,
              "endFilePos": 5223,
              "endTokenPos": 1039
            }
          ],
          "endLine": 234
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "resize",
          "attributes": {
            "startLine": 250,
            "endLine": 250
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_w",
              "attributes": {
                "startLine": 250,
                "endLine": 250
              }
            },
            "default": null,
            "attributes": {
              "startLine": 250,
              "endLine": 250
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_h",
              "attributes": {
                "startLine": 250,
                "endLine": 250
              }
            },
            "default": null,
            "attributes": {
              "startLine": 250,
              "endLine": 250
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "crop",
              "attributes": {
                "startLine": 250,
                "endLine": 250
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 250,
                  "endLine": 250
                }
              },
              "attributes": {
                "startLine": 250,
                "endLine": 250
              }
            },
            "attributes": {
              "startLine": 250,
              "endLine": 250
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BinaryOp_Equal",
                "left": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 251,
                        "endLine": 251
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "size",
                      "attributes": {
                        "startLine": 251,
                        "endLine": 251
                      }
                    },
                    "attributes": {
                      "startLine": 251,
                      "endLine": 251
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "width",
                    "attributes": {
                      "startLine": 251,
                      "endLine": 251,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 251,
                    "endLine": 251
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "max_w",
                  "attributes": {
                    "startLine": 251,
                    "endLine": 251
                  }
                },
                "attributes": {
                  "startLine": 251,
                  "endLine": 251
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_Equal",
                "left": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 251,
                        "endLine": 251
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "size",
                      "attributes": {
                        "startLine": 251,
                        "endLine": 251
                      }
                    },
                    "attributes": {
                      "startLine": 251,
                      "endLine": 251
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "height",
                    "attributes": {
                      "startLine": 251,
                      "endLine": 251,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 251,
                    "endLine": 251
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "max_h",
                  "attributes": {
                    "startLine": 251,
                    "endLine": 251
                  }
                },
                "attributes": {
                  "startLine": 251,
                  "endLine": 251
                }
              },
              "attributes": {
                "startLine": 251,
                "endLine": 251
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 252,
                      "endLine": 252
                    }
                  },
                  "attributes": {
                    "startLine": 252,
                    "endLine": 252
                  }
                },
                "attributes": {
                  "startLine": 252,
                  "endLine": 252
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 251,
              "endLine": 253
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "dims",
                "attributes": {
                  "startLine": 255,
                  "endLine": 255
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "image_resize_dimensions"
                  ],
                  "attributes": {
                    "startLine": 255,
                    "endLine": 255
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 255,
                            "endLine": 255
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "size",
                          "attributes": {
                            "startLine": 255,
                            "endLine": 255
                          }
                        },
                        "attributes": {
                          "startLine": 255,
                          "endLine": 255
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "width",
                        "attributes": {
                          "startLine": 255,
                          "endLine": 255,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 255,
                        "endLine": 255
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 255,
                      "endLine": 255
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 255,
                            "endLine": 255
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "size",
                          "attributes": {
                            "startLine": 255,
                            "endLine": 255
                          }
                        },
                        "attributes": {
                          "startLine": 255,
                          "endLine": 255
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "height",
                        "attributes": {
                          "startLine": 255,
                          "endLine": 255,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 255,
                        "endLine": 255
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 255,
                      "endLine": 255
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "max_w",
                      "attributes": {
                        "startLine": 255,
                        "endLine": 255
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 255,
                      "endLine": 255
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "max_h",
                      "attributes": {
                        "startLine": 255,
                        "endLine": 255
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 255,
                      "endLine": 255
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "crop",
                      "attributes": {
                        "startLine": 255,
                        "endLine": 255
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 255,
                      "endLine": 255
                    }
                  }
                ],
                "attributes": {
                  "startLine": 255,
                  "endLine": 255
                }
              },
              "attributes": {
                "startLine": 255,
                "endLine": 255
              }
            },
            "attributes": {
              "startLine": 255,
              "endLine": 255
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "dims",
                "attributes": {
                  "startLine": 256,
                  "endLine": 256
                }
              },
              "attributes": {
                "startLine": 256,
                "endLine": 256
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 257,
                      "endLine": 257
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "error_getting_dimensions",
                        "attributes": {
                          "startLine": 257,
                          "endLine": 257,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 257,
                            "endLine": 257
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "Could not calculate resized image dimensions",
                              "attributes": {
                                "startLine": 257,
                                "endLine": 257,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 257,
                              "endLine": 257
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 257,
                          "endLine": 257
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 257,
                        "endLine": 257
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 257,
                    "endLine": 257
                  }
                },
                "attributes": {
                  "startLine": 257,
                  "endLine": 257
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 256,
              "endLine": 258
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_x",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_y",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_x",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_y",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_w",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_h",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_w",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_h",
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  }
                ],
                "attributes": {
                  "startLine": 260,
                  "endLine": 260
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "dims",
                "attributes": {
                  "startLine": 260,
                  "endLine": 260
                }
              },
              "attributes": {
                "startLine": 260,
                "endLine": 260
              }
            },
            "attributes": {
              "startLine": 260,
              "endLine": 260
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "crop",
              "attributes": {
                "startLine": 262,
                "endLine": 262
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 263,
                      "endLine": 263
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "crop",
                    "attributes": {
                      "startLine": 263,
                      "endLine": 263
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_x",
                        "attributes": {
                          "startLine": 263,
                          "endLine": 263
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_y",
                        "attributes": {
                          "startLine": 263,
                          "endLine": 263
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_w",
                        "attributes": {
                          "startLine": 263,
                          "endLine": 263
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_h",
                        "attributes": {
                          "startLine": 263,
                          "endLine": 263
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "dst_w",
                        "attributes": {
                          "startLine": 263,
                          "endLine": 263
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "dst_h",
                        "attributes": {
                          "startLine": 263,
                          "endLine": 263
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 263,
                        "endLine": 263
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 263,
                    "endLine": 263
                  }
                },
                "attributes": {
                  "startLine": 263,
                  "endLine": 263
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 262,
              "endLine": 264
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "thumb_result",
                "attributes": {
                  "startLine": 267,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Execute the resize.\n",
                      "line": 266,
                      "filePos": 6651,
                      "tokenPos": 1427,
                      "endLine": 267,
                      "endFilePos": 6673,
                      "endTokenPos": 1427
                    }
                  ],
                  "endLine": 267
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 267,
                    "endLine": 267
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "thumbnail_image",
                  "attributes": {
                    "startLine": 267,
                    "endLine": 267
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_w",
                      "attributes": {
                        "startLine": 267,
                        "endLine": 267
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 267,
                      "endLine": 267
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_h",
                      "attributes": {
                        "startLine": 267,
                        "endLine": 267
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 267,
                      "endLine": 267
                    }
                  }
                ],
                "attributes": {
                  "startLine": 267,
                  "endLine": 267
                }
              },
              "attributes": {
                "startLine": 267,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// Execute the resize.\n",
                    "line": 266,
                    "filePos": 6651,
                    "tokenPos": 1427,
                    "endLine": 267,
                    "endFilePos": 6673,
                    "endTokenPos": 1427
                  }
                ],
                "endLine": 267
              }
            },
            "attributes": {
              "startLine": 267,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Execute the resize.\n",
                  "line": 266,
                  "filePos": 6651,
                  "tokenPos": 1427,
                  "endLine": 267,
                  "endFilePos": 6673,
                  "endTokenPos": 1427
                }
              ],
              "endLine": 267
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_wp_error"
                ],
                "attributes": {
                  "startLine": 268,
                  "endLine": 268
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "thumb_result",
                    "attributes": {
                      "startLine": 268,
                      "endLine": 268
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 268,
                    "endLine": 268
                  }
                }
              ],
              "attributes": {
                "startLine": 268,
                "endLine": 268
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "thumb_result",
                  "attributes": {
                    "startLine": 269,
                    "endLine": 269
                  }
                },
                "attributes": {
                  "startLine": 269,
                  "endLine": 269
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 268,
              "endLine": 270
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_MethodCall",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 272,
                  "endLine": 272
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "update_size",
                "attributes": {
                  "startLine": 272,
                  "endLine": 272
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_w",
                    "attributes": {
                      "startLine": 272,
                      "endLine": 272
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 272,
                    "endLine": 272
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_h",
                    "attributes": {
                      "startLine": 272,
                      "endLine": 272
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 272,
                    "endLine": 272
                  }
                }
              ],
              "attributes": {
                "startLine": 272,
                "endLine": 272
              }
            },
            "attributes": {
              "startLine": 272,
              "endLine": 272
            }
          }
        ],
        "attributes": {
          "startLine": 250,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Resizes current image.\n\t *\n\t * At minimum, either a height or width must be provided.\n\t * If one of the two is set to null, the resize will\n\t * maintain aspect ratio according to the provided dimension.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param  int|null $max_w Image width.\n\t * @param  int|null $max_h Image height.\n\t * @param  bool     $crop\n\t * @return bool|WP_Error\n\t */",
              "line": 236,
              "filePos": 5692,
              "tokenPos": 1215,
              "endLine": 249,
              "endFilePos": 6067,
              "endTokenPos": 1215
            }
          ],
          "endLine": 273
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "thumbnail_image",
          "attributes": {
            "startLine": 289,
            "endLine": 289
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_w",
              "attributes": {
                "startLine": 289,
                "endLine": 289
              }
            },
            "default": null,
            "attributes": {
              "startLine": 289,
              "endLine": 289
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_h",
              "attributes": {
                "startLine": 289,
                "endLine": 289
              }
            },
            "default": null,
            "attributes": {
              "startLine": 289,
              "endLine": 289
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filter_name",
              "attributes": {
                "startLine": 289,
                "endLine": 289
              }
            },
            "default": {
              "nodeType": "Scalar_String",
              "value": "FILTER_TRIANGLE",
              "attributes": {
                "startLine": 289,
                "endLine": 289,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 289,
              "endLine": 289
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "strip_meta",
              "attributes": {
                "startLine": 289,
                "endLine": 289
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 289,
                  "endLine": 289
                }
              },
              "attributes": {
                "startLine": 289,
                "endLine": 289
              }
            },
            "attributes": {
              "startLine": 289,
              "endLine": 289
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "allowed_filters",
                "attributes": {
                  "startLine": 290,
                  "endLine": 290
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_POINT",
                      "attributes": {
                        "startLine": 291,
                        "endLine": 291,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 291,
                      "endLine": 291
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_BOX",
                      "attributes": {
                        "startLine": 292,
                        "endLine": 292,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 292,
                      "endLine": 292
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_TRIANGLE",
                      "attributes": {
                        "startLine": 293,
                        "endLine": 293,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 293,
                      "endLine": 293
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_HERMITE",
                      "attributes": {
                        "startLine": 294,
                        "endLine": 294,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 294,
                      "endLine": 294
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_HANNING",
                      "attributes": {
                        "startLine": 295,
                        "endLine": 295,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 295,
                      "endLine": 295
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_HAMMING",
                      "attributes": {
                        "startLine": 296,
                        "endLine": 296,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 296,
                      "endLine": 296
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_BLACKMAN",
                      "attributes": {
                        "startLine": 297,
                        "endLine": 297,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 297,
                      "endLine": 297
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_GAUSSIAN",
                      "attributes": {
                        "startLine": 298,
                        "endLine": 298,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 298,
                      "endLine": 298
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_QUADRATIC",
                      "attributes": {
                        "startLine": 299,
                        "endLine": 299,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 299,
                      "endLine": 299
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_CUBIC",
                      "attributes": {
                        "startLine": 300,
                        "endLine": 300,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 300,
                      "endLine": 300
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_CATROM",
                      "attributes": {
                        "startLine": 301,
                        "endLine": 301,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 301,
                      "endLine": 301
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_MITCHELL",
                      "attributes": {
                        "startLine": 302,
                        "endLine": 302,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 302,
                      "endLine": 302
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_LANCZOS",
                      "attributes": {
                        "startLine": 303,
                        "endLine": 303,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 303,
                      "endLine": 303
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_BESSEL",
                      "attributes": {
                        "startLine": 304,
                        "endLine": 304,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 304,
                      "endLine": 304
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "FILTER_SINC",
                      "attributes": {
                        "startLine": 305,
                        "endLine": 305,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 305,
                      "endLine": 305
                    }
                  }
                ],
                "attributes": {
                  "startLine": 290,
                  "endLine": 306,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 290,
                "endLine": 306
              }
            },
            "attributes": {
              "startLine": 290,
              "endLine": 306
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "in_array"
                  ],
                  "attributes": {
                    "startLine": 312,
                    "endLine": 312
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filter_name",
                      "attributes": {
                        "startLine": 312,
                        "endLine": 312
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 312,
                      "endLine": 312
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "allowed_filters",
                      "attributes": {
                        "startLine": 312,
                        "endLine": 312
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 312,
                      "endLine": 312
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 312,
                          "endLine": 312
                        }
                      },
                      "attributes": {
                        "startLine": 312,
                        "endLine": 312
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 312,
                      "endLine": 312
                    }
                  }
                ],
                "attributes": {
                  "startLine": 312,
                  "endLine": 312
                }
              },
              "right": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "defined"
                  ],
                  "attributes": {
                    "startLine": 312,
                    "endLine": 312
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_BinaryOp_Concat",
                      "left": {
                        "nodeType": "Scalar_String",
                        "value": "Imagick::",
                        "attributes": {
                          "startLine": 312,
                          "endLine": 312,
                          "kind": 1
                        }
                      },
                      "right": {
                        "nodeType": "Expr_Variable",
                        "name": "filter_name",
                        "attributes": {
                          "startLine": 312,
                          "endLine": 312
                        }
                      },
                      "attributes": {
                        "startLine": 312,
                        "endLine": 312
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 312,
                      "endLine": 312
                    }
                  }
                ],
                "attributes": {
                  "startLine": 312,
                  "endLine": 312
                }
              },
              "attributes": {
                "startLine": 312,
                "endLine": 312
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "filter",
                    "attributes": {
                      "startLine": 313,
                      "endLine": 313
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "constant"
                      ],
                      "attributes": {
                        "startLine": 313,
                        "endLine": 313
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_BinaryOp_Concat",
                          "left": {
                            "nodeType": "Scalar_String",
                            "value": "Imagick::",
                            "attributes": {
                              "startLine": 313,
                              "endLine": 313,
                              "kind": 1
                            }
                          },
                          "right": {
                            "nodeType": "Expr_Variable",
                            "name": "filter_name",
                            "attributes": {
                              "startLine": 313,
                              "endLine": 313
                            }
                          },
                          "attributes": {
                            "startLine": 313,
                            "endLine": 313
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 313,
                          "endLine": 313
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 313,
                      "endLine": 313
                    }
                  },
                  "attributes": {
                    "startLine": 313,
                    "endLine": 313
                  }
                },
                "attributes": {
                  "startLine": 313,
                  "endLine": 313
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "filter",
                      "attributes": {
                        "startLine": 315,
                        "endLine": 315
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_Ternary",
                      "cond": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "defined"
                          ],
                          "attributes": {
                            "startLine": 315,
                            "endLine": 315
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "Imagick::FILTER_TRIANGLE",
                              "attributes": {
                                "startLine": 315,
                                "endLine": 315,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 315,
                              "endLine": 315
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 315,
                          "endLine": 315
                        }
                      },
                      "if": {
                        "nodeType": "Expr_ClassConstFetch",
                        "class": {
                          "nodeType": "Name",
                          "parts": [
                            "Imagick"
                          ],
                          "attributes": {
                            "startLine": 315,
                            "endLine": 315
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "FILTER_TRIANGLE",
                          "attributes": {
                            "startLine": 315,
                            "endLine": 315
                          }
                        },
                        "attributes": {
                          "startLine": 315,
                          "endLine": 315
                        }
                      },
                      "else": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "false"
                          ],
                          "attributes": {
                            "startLine": 315,
                            "endLine": 315
                          }
                        },
                        "attributes": {
                          "startLine": 315,
                          "endLine": 315
                        }
                      },
                      "attributes": {
                        "startLine": 315,
                        "endLine": 315
                      }
                    },
                    "attributes": {
                      "startLine": 315,
                      "endLine": 315
                    }
                  },
                  "attributes": {
                    "startLine": 315,
                    "endLine": 315
                  }
                }
              ],
              "attributes": {
                "startLine": 314,
                "endLine": 316
              }
            },
            "attributes": {
              "startLine": 312,
              "comments": [
                {
                  "nodeType": "Comment_Doc",
                  "text": "/**\n\t\t * Set the filter value if '$filter_name' name is in our whitelist and the related\n\t\t * Imagick constant is defined or fall back to our default filter.\n\t\t */",
                  "line": 308,
                  "filePos": 7912,
                  "tokenPos": 1572,
                  "endLine": 311,
                  "endFilePos": 8074,
                  "endTokenPos": 1572
                }
              ],
              "endLine": 316
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "apply_filters"
                ],
                "attributes": {
                  "startLine": 328,
                  "endLine": 328
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image_strip_meta",
                    "attributes": {
                      "startLine": 328,
                      "endLine": 328,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 328,
                    "endLine": 328
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "strip_meta",
                    "attributes": {
                      "startLine": 328,
                      "endLine": 328
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 328,
                    "endLine": 328
                  }
                }
              ],
              "attributes": {
                "startLine": 328,
                "endLine": 328
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 329,
                      "endLine": 329
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "strip_meta",
                    "attributes": {
                      "startLine": 329,
                      "endLine": 329
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 329,
                    "endLine": 329
                  }
                },
                "attributes": {
                  "startLine": 329,
                  "endLine": 329
                }
              },
              {
                "nodeType": "Stmt_Nop",
                "attributes": {
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Fail silently if not supported.\n",
                      "line": 329,
                      "filePos": 8745,
                      "tokenPos": 1681,
                      "endLine": 330,
                      "endFilePos": 8779,
                      "endTokenPos": 1681
                    }
                  ],
                  "startLine": 330,
                  "endLine": 330,
                  "startFilePos": 8780,
                  "endFilePos": 8779,
                  "startTokenPos": 1682,
                  "endTokenPos": 1681
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 328,
              "comments": [
                {
                  "nodeType": "Comment_Doc",
                  "text": "/**\n\t\t * Filters whether to strip metadata from images when they're resized.\n\t\t *\n\t\t * This filter only applies when resizing using the Imagick editor since GD\n\t\t * always strips profiles by default.\n\t\t *\n\t\t * @since 4.5.0\n\t\t *\n\t\t * @param bool $strip_meta Whether to strip image metadata during resizing. Default true.\n\t\t */",
                  "line": 318,
                  "filePos": 8335,
                  "tokenPos": 1654,
                  "endLine": 327,
                  "endFilePos": 8659,
                  "endTokenPos": 1654
                }
              ],
              "endLine": 330
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_callable"
                    ],
                    "attributes": {
                      "startLine": 338,
                      "endLine": 338
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Array",
                        "items": [
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 338,
                                  "endLine": 338
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "image",
                                "attributes": {
                                  "startLine": 338,
                                  "endLine": 338
                                }
                              },
                              "attributes": {
                                "startLine": 338,
                                "endLine": 338
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 338,
                              "endLine": 338
                            }
                          },
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "sampleImage",
                              "attributes": {
                                "startLine": 338,
                                "endLine": 338,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 338,
                              "endLine": 338
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 338,
                          "endLine": 338,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 338,
                        "endLine": 338
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 338,
                    "endLine": 338
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "resize_ratio",
                        "attributes": {
                          "startLine": 339,
                          "endLine": 339
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_BinaryOp_Mul",
                        "left": {
                          "nodeType": "Expr_BinaryOp_Div",
                          "left": {
                            "nodeType": "Expr_Variable",
                            "name": "dst_w",
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          },
                          "right": {
                            "nodeType": "Expr_ArrayDimFetch",
                            "var": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 339,
                                  "endLine": 339
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "size",
                                "attributes": {
                                  "startLine": 339,
                                  "endLine": 339
                                }
                              },
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339
                              }
                            },
                            "dim": {
                              "nodeType": "Scalar_String",
                              "value": "width",
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339,
                                "kind": 1
                              }
                            },
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          },
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339
                          }
                        },
                        "right": {
                          "nodeType": "Expr_BinaryOp_Div",
                          "left": {
                            "nodeType": "Expr_Variable",
                            "name": "dst_h",
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          },
                          "right": {
                            "nodeType": "Expr_ArrayDimFetch",
                            "var": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 339,
                                  "endLine": 339
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "size",
                                "attributes": {
                                  "startLine": 339,
                                  "endLine": 339
                                }
                              },
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339
                              }
                            },
                            "dim": {
                              "nodeType": "Scalar_String",
                              "value": "height",
                              "attributes": {
                                "startLine": 339,
                                "endLine": 339,
                                "kind": 1
                              }
                            },
                            "attributes": {
                              "startLine": 339,
                              "endLine": 339
                            }
                          },
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339
                          }
                        },
                        "attributes": {
                          "startLine": 339,
                          "endLine": 339
                        }
                      },
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339
                      }
                    },
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "sample_factor",
                        "attributes": {
                          "startLine": 340,
                          "endLine": 340
                        }
                      },
                      "expr": {
                        "nodeType": "Scalar_LNumber",
                        "value": 5,
                        "attributes": {
                          "startLine": 340,
                          "endLine": 340,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 340,
                        "endLine": 340
                      }
                    },
                    "attributes": {
                      "startLine": 340,
                      "endLine": 340
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_BooleanAnd",
                      "left": {
                        "nodeType": "Expr_BinaryOp_Smaller",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "resize_ratio",
                          "attributes": {
                            "startLine": 342,
                            "endLine": 342
                          }
                        },
                        "right": {
                          "nodeType": "Scalar_DNumber",
                          "value": 0.111,
                          "attributes": {
                            "startLine": 342,
                            "endLine": 342
                          }
                        },
                        "attributes": {
                          "startLine": 342,
                          "endLine": 342
                        }
                      },
                      "right": {
                        "nodeType": "Expr_BinaryOp_BooleanAnd",
                        "left": {
                          "nodeType": "Expr_BinaryOp_Greater",
                          "left": {
                            "nodeType": "Expr_BinaryOp_Mul",
                            "left": {
                              "nodeType": "Expr_Variable",
                              "name": "dst_w",
                              "attributes": {
                                "startLine": 342,
                                "endLine": 342
                              }
                            },
                            "right": {
                              "nodeType": "Expr_Variable",
                              "name": "sample_factor",
                              "attributes": {
                                "startLine": 342,
                                "endLine": 342
                              }
                            },
                            "attributes": {
                              "startLine": 342,
                              "endLine": 342
                            }
                          },
                          "right": {
                            "nodeType": "Scalar_LNumber",
                            "value": 128,
                            "attributes": {
                              "startLine": 342,
                              "endLine": 342,
                              "kind": 10
                            }
                          },
                          "attributes": {
                            "startLine": 342,
                            "endLine": 342
                          }
                        },
                        "right": {
                          "nodeType": "Expr_BinaryOp_Greater",
                          "left": {
                            "nodeType": "Expr_BinaryOp_Mul",
                            "left": {
                              "nodeType": "Expr_Variable",
                              "name": "dst_h",
                              "attributes": {
                                "startLine": 342,
                                "endLine": 342
                              }
                            },
                            "right": {
                              "nodeType": "Expr_Variable",
                              "name": "sample_factor",
                              "attributes": {
                                "startLine": 342,
                                "endLine": 342
                              }
                            },
                            "attributes": {
                              "startLine": 342,
                              "endLine": 342
                            }
                          },
                          "right": {
                            "nodeType": "Scalar_LNumber",
                            "value": 128,
                            "attributes": {
                              "startLine": 342,
                              "endLine": 342,
                              "kind": 10
                            }
                          },
                          "attributes": {
                            "startLine": 342,
                            "endLine": 342
                          }
                        },
                        "attributes": {
                          "startLine": 342,
                          "endLine": 342
                        }
                      },
                      "attributes": {
                        "startLine": 342,
                        "endLine": 342
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 343,
                                "endLine": 343
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 343,
                                "endLine": 343
                              }
                            },
                            "attributes": {
                              "startLine": 343,
                              "endLine": 343
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "sampleImage",
                            "attributes": {
                              "startLine": 343,
                              "endLine": 343
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_BinaryOp_Mul",
                                "left": {
                                  "nodeType": "Expr_Variable",
                                  "name": "dst_w",
                                  "attributes": {
                                    "startLine": 343,
                                    "endLine": 343
                                  }
                                },
                                "right": {
                                  "nodeType": "Expr_Variable",
                                  "name": "sample_factor",
                                  "attributes": {
                                    "startLine": 343,
                                    "endLine": 343
                                  }
                                },
                                "attributes": {
                                  "startLine": 343,
                                  "endLine": 343
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 343,
                                "endLine": 343
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_BinaryOp_Mul",
                                "left": {
                                  "nodeType": "Expr_Variable",
                                  "name": "dst_h",
                                  "attributes": {
                                    "startLine": 343,
                                    "endLine": 343
                                  }
                                },
                                "right": {
                                  "nodeType": "Expr_Variable",
                                  "name": "sample_factor",
                                  "attributes": {
                                    "startLine": 343,
                                    "endLine": 343
                                  }
                                },
                                "attributes": {
                                  "startLine": 343,
                                  "endLine": 343
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 343,
                                "endLine": 343
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 343,
                            "endLine": 343
                          }
                        },
                        "attributes": {
                          "startLine": 343,
                          "endLine": 343
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 342,
                      "endLine": 344
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 338,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t\t * To be more efficient, resample large images to 5x the destination size before resizing\n\t\t\t * whenever the output size is less that 1/3 of the original image size (1/3^2 ~= .111),\n\t\t\t * unless we would be resampling to a scale smaller than 128x128.\n\t\t\t */",
                      "line": 333,
                      "filePos": 8796,
                      "tokenPos": 1689,
                      "endLine": 337,
                      "endFilePos": 9058,
                      "endTokenPos": 1689
                    }
                  ],
                  "endLine": 345
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_callable"
                      ],
                      "attributes": {
                        "startLine": 353,
                        "endLine": 353
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 353,
                                    "endLine": 353
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "image",
                                  "attributes": {
                                    "startLine": 353,
                                    "endLine": 353
                                  }
                                },
                                "attributes": {
                                  "startLine": 353,
                                  "endLine": 353
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 353,
                                "endLine": 353
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "resizeImage",
                                "attributes": {
                                  "startLine": 353,
                                  "endLine": 353,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 353,
                                "endLine": 353
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 353,
                            "endLine": 353,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 353,
                          "endLine": 353
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 353,
                      "endLine": 353
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "filter",
                    "attributes": {
                      "startLine": 353,
                      "endLine": 353
                    }
                  },
                  "attributes": {
                    "startLine": 353,
                    "endLine": 353
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        "attributes": {
                          "startLine": 354,
                          "endLine": 354
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setOption",
                        "attributes": {
                          "startLine": 354,
                          "endLine": 354
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "filter:support",
                            "attributes": {
                              "startLine": 354,
                              "endLine": 354,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "2.0",
                            "attributes": {
                              "startLine": 354,
                              "endLine": 354,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 354,
                        "endLine": 354
                      }
                    },
                    "attributes": {
                      "startLine": 354,
                      "endLine": 354
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 355,
                            "endLine": 355
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 355,
                            "endLine": 355
                          }
                        },
                        "attributes": {
                          "startLine": 355,
                          "endLine": 355
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "resizeImage",
                        "attributes": {
                          "startLine": 355,
                          "endLine": 355
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "dst_w",
                            "attributes": {
                              "startLine": 355,
                              "endLine": 355
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 355,
                            "endLine": 355
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "dst_h",
                            "attributes": {
                              "startLine": 355,
                              "endLine": 355
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 355,
                            "endLine": 355
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "filter",
                            "attributes": {
                              "startLine": 355,
                              "endLine": 355
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 355,
                            "endLine": 355
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_LNumber",
                            "value": 1,
                            "attributes": {
                              "startLine": 355,
                              "endLine": 355,
                              "kind": 10
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 355,
                            "endLine": 355
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 355,
                        "endLine": 355
                      }
                    },
                    "attributes": {
                      "startLine": 355,
                      "endLine": 355
                    }
                  }
                ],
                "elseifs": [],
                "else": {
                  "nodeType": "Stmt_Else",
                  "stmts": [
                    {
                      "nodeType": "Stmt_Expression",
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 357,
                              "endLine": 357
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 357,
                              "endLine": 357
                            }
                          },
                          "attributes": {
                            "startLine": 357,
                            "endLine": 357
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "scaleImage",
                          "attributes": {
                            "startLine": 357,
                            "endLine": 357
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "dst_w",
                              "attributes": {
                                "startLine": 357,
                                "endLine": 357
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 357,
                              "endLine": 357
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "dst_h",
                              "attributes": {
                                "startLine": 357,
                                "endLine": 357
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 357,
                              "endLine": 357
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 357,
                          "endLine": 357
                        }
                      },
                      "attributes": {
                        "startLine": 357,
                        "endLine": 357
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 356,
                    "endLine": 358
                  }
                },
                "attributes": {
                  "startLine": 353,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t\t * Use resizeImage() when it's available and a valid filter value is set.\n\t\t\t * Otherwise, fall back to the scaleImage() method for resizing, which\n\t\t\t * results in better image quality over resizeImage() with default filter\n\t\t\t * settings and retains backward compatibility with pre 4.5 functionality.\n\t\t\t */",
                      "line": 347,
                      "filePos": 9445,
                      "tokenPos": 1829,
                      "endLine": 352,
                      "endFilePos": 9759,
                      "endTokenPos": 1829
                    }
                  ],
                  "endLine": 358
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Identical",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "image/jpeg",
                    "attributes": {
                      "startLine": 361,
                      "endLine": 361,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 361,
                        "endLine": 361
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 361,
                        "endLine": 361
                      }
                    },
                    "attributes": {
                      "startLine": 361,
                      "endLine": 361
                    }
                  },
                  "attributes": {
                    "startLine": 361,
                    "endLine": 361
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "is_callable"
                        ],
                        "attributes": {
                          "startLine": 362,
                          "endLine": 362
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Array",
                            "items": [
                              {
                                "nodeType": "Expr_ArrayItem",
                                "key": null,
                                "value": {
                                  "nodeType": "Expr_PropertyFetch",
                                  "var": {
                                    "nodeType": "Expr_Variable",
                                    "name": "this",
                                    "attributes": {
                                      "startLine": 362,
                                      "endLine": 362
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "image",
                                    "attributes": {
                                      "startLine": 362,
                                      "endLine": 362
                                    }
                                  },
                                  "attributes": {
                                    "startLine": 362,
                                    "endLine": 362
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 362,
                                  "endLine": 362
                                }
                              },
                              {
                                "nodeType": "Expr_ArrayItem",
                                "key": null,
                                "value": {
                                  "nodeType": "Scalar_String",
                                  "value": "unsharpMaskImage",
                                  "attributes": {
                                    "startLine": 362,
                                    "endLine": 362,
                                    "kind": 1
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 362,
                                  "endLine": 362
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 362,
                              "endLine": 362,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 362,
                            "endLine": 362
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 362,
                        "endLine": 362
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 363,
                                "endLine": 363
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 363,
                                "endLine": 363
                              }
                            },
                            "attributes": {
                              "startLine": 363,
                              "endLine": 363
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "unsharpMaskImage",
                            "attributes": {
                              "startLine": 363,
                              "endLine": 363
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_DNumber",
                                "value": 0.25,
                                "attributes": {
                                  "startLine": 363,
                                  "endLine": 363
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 363,
                                "endLine": 363
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_DNumber",
                                "value": 0.25,
                                "attributes": {
                                  "startLine": 363,
                                  "endLine": 363
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 363,
                                "endLine": 363
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_LNumber",
                                "value": 8,
                                "attributes": {
                                  "startLine": 363,
                                  "endLine": 363,
                                  "kind": 10
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 363,
                                "endLine": 363
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_DNumber",
                                "value": 0.065,
                                "attributes": {
                                  "startLine": 363,
                                  "endLine": 363
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 363,
                                "endLine": 363
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 363,
                            "endLine": 363
                          }
                        },
                        "attributes": {
                          "startLine": 363,
                          "endLine": 363
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 362,
                      "endLine": 364
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 366,
                            "endLine": 366
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 366,
                            "endLine": 366
                          }
                        },
                        "attributes": {
                          "startLine": 366,
                          "endLine": 366
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setOption",
                        "attributes": {
                          "startLine": 366,
                          "endLine": 366
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "jpeg:fancy-upsampling",
                            "attributes": {
                              "startLine": 366,
                              "endLine": 366,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 366,
                            "endLine": 366
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "off",
                            "attributes": {
                              "startLine": 366,
                              "endLine": 366,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 366,
                            "endLine": 366
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 366,
                        "endLine": 366
                      }
                    },
                    "attributes": {
                      "startLine": 366,
                      "endLine": 366
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 361,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Set appropriate quality settings after resizing.\n",
                      "line": 360,
                      "filePos": 10022,
                      "tokenPos": 1919,
                      "endLine": 361,
                      "endFilePos": 10073,
                      "endTokenPos": 1919
                    }
                  ],
                  "endLine": 367
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Identical",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "image/png",
                    "attributes": {
                      "startLine": 369,
                      "endLine": 369,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 369,
                        "endLine": 369
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 369,
                        "endLine": 369
                      }
                    },
                    "attributes": {
                      "startLine": 369,
                      "endLine": 369
                    }
                  },
                  "attributes": {
                    "startLine": 369,
                    "endLine": 369
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 370,
                            "endLine": 370
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 370,
                            "endLine": 370
                          }
                        },
                        "attributes": {
                          "startLine": 370,
                          "endLine": 370
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setOption",
                        "attributes": {
                          "startLine": 370,
                          "endLine": 370
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "png:compression-filter",
                            "attributes": {
                              "startLine": 370,
                              "endLine": 370,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 370,
                            "endLine": 370
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "5",
                            "attributes": {
                              "startLine": 370,
                              "endLine": 370,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 370,
                            "endLine": 370
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 370,
                        "endLine": 370
                      }
                    },
                    "attributes": {
                      "startLine": 370,
                      "endLine": 370
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 371,
                            "endLine": 371
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 371,
                            "endLine": 371
                          }
                        },
                        "attributes": {
                          "startLine": 371,
                          "endLine": 371
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setOption",
                        "attributes": {
                          "startLine": 371,
                          "endLine": 371
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "png:compression-level",
                            "attributes": {
                              "startLine": 371,
                              "endLine": 371,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 371,
                            "endLine": 371
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "9",
                            "attributes": {
                              "startLine": 371,
                              "endLine": 371,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 371,
                            "endLine": 371
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 371,
                        "endLine": 371
                      }
                    },
                    "attributes": {
                      "startLine": 371,
                      "endLine": 371
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        "attributes": {
                          "startLine": 372,
                          "endLine": 372
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setOption",
                        "attributes": {
                          "startLine": 372,
                          "endLine": 372
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "png:compression-strategy",
                            "attributes": {
                              "startLine": 372,
                              "endLine": 372,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "1",
                            "attributes": {
                              "startLine": 372,
                              "endLine": 372,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 372,
                            "endLine": 372
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 372,
                        "endLine": 372
                      }
                    },
                    "attributes": {
                      "startLine": 372,
                      "endLine": 372
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 373,
                            "endLine": 373
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 373,
                            "endLine": 373
                          }
                        },
                        "attributes": {
                          "startLine": 373,
                          "endLine": 373
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setOption",
                        "attributes": {
                          "startLine": 373,
                          "endLine": 373
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "png:exclude-chunk",
                            "attributes": {
                              "startLine": 373,
                              "endLine": 373,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 373,
                            "endLine": 373
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "all",
                            "attributes": {
                              "startLine": 373,
                              "endLine": 373,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 373,
                            "endLine": 373
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 373,
                        "endLine": 373
                      }
                    },
                    "attributes": {
                      "startLine": 373,
                      "endLine": 373
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 369,
                  "endLine": 374
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_BinaryOp_BooleanAnd",
                    "left": {
                      "nodeType": "Expr_BinaryOp_BooleanAnd",
                      "left": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "is_callable"
                          ],
                          "attributes": {
                            "startLine": 382,
                            "endLine": 382
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Array",
                              "items": [
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_PropertyFetch",
                                    "var": {
                                      "nodeType": "Expr_Variable",
                                      "name": "this",
                                      "attributes": {
                                        "startLine": 382,
                                        "endLine": 382
                                      }
                                    },
                                    "name": {
                                      "nodeType": "Identifier",
                                      "name": "image",
                                      "attributes": {
                                        "startLine": 382,
                                        "endLine": 382
                                      }
                                    },
                                    "attributes": {
                                      "startLine": 382,
                                      "endLine": 382
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 382,
                                    "endLine": 382
                                  }
                                },
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Scalar_String",
                                    "value": "getImageAlphaChannel",
                                    "attributes": {
                                      "startLine": 382,
                                      "endLine": 382,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 382,
                                    "endLine": 382
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 382,
                                "endLine": 382,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 382,
                              "endLine": 382
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 382,
                          "endLine": 382
                        }
                      },
                      "right": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "is_callable"
                          ],
                          "attributes": {
                            "startLine": 383,
                            "endLine": 383
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Array",
                              "items": [
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_PropertyFetch",
                                    "var": {
                                      "nodeType": "Expr_Variable",
                                      "name": "this",
                                      "attributes": {
                                        "startLine": 383,
                                        "endLine": 383
                                      }
                                    },
                                    "name": {
                                      "nodeType": "Identifier",
                                      "name": "image",
                                      "attributes": {
                                        "startLine": 383,
                                        "endLine": 383
                                      }
                                    },
                                    "attributes": {
                                      "startLine": 383,
                                      "endLine": 383
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 383,
                                    "endLine": 383
                                  }
                                },
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Scalar_String",
                                    "value": "setImageAlphaChannel",
                                    "attributes": {
                                      "startLine": 383,
                                      "endLine": 383,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 383,
                                    "endLine": 383
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 383,
                                "endLine": 383,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 383,
                              "endLine": 383
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 383,
                          "endLine": 383
                        }
                      },
                      "attributes": {
                        "startLine": 382,
                        "endLine": 383
                      }
                    },
                    "right": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "defined"
                        ],
                        "attributes": {
                          "startLine": 384,
                          "endLine": 384
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "Imagick::ALPHACHANNEL_UNDEFINED",
                            "attributes": {
                              "startLine": 384,
                              "endLine": 384,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 384,
                            "endLine": 384
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 384,
                        "endLine": 384
                      }
                    },
                    "attributes": {
                      "startLine": 382,
                      "endLine": 384
                    }
                  },
                  "right": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "defined"
                      ],
                      "attributes": {
                        "startLine": 385,
                        "endLine": 385
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Imagick::ALPHACHANNEL_OPAQUE",
                          "attributes": {
                            "startLine": 385,
                            "endLine": 385,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 385,
                          "endLine": 385
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 385,
                      "endLine": 385
                    }
                  },
                  "attributes": {
                    "startLine": 382,
                    "endLine": 385
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Identical",
                      "left": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 387,
                              "endLine": 387
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 387,
                              "endLine": 387
                            }
                          },
                          "attributes": {
                            "startLine": 387,
                            "endLine": 387
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "getImageAlphaChannel",
                          "attributes": {
                            "startLine": 387,
                            "endLine": 387
                          }
                        },
                        "args": [],
                        "attributes": {
                          "startLine": 387,
                          "endLine": 387
                        }
                      },
                      "right": {
                        "nodeType": "Expr_ClassConstFetch",
                        "class": {
                          "nodeType": "Name",
                          "parts": [
                            "Imagick"
                          ],
                          "attributes": {
                            "startLine": 387,
                            "endLine": 387
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "ALPHACHANNEL_UNDEFINED",
                          "attributes": {
                            "startLine": 387,
                            "endLine": 387
                          }
                        },
                        "attributes": {
                          "startLine": 387,
                          "endLine": 387
                        }
                      },
                      "attributes": {
                        "startLine": 387,
                        "endLine": 387
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 388,
                                "endLine": 388
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 388,
                                "endLine": 388
                              }
                            },
                            "attributes": {
                              "startLine": 388,
                              "endLine": 388
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "setImageAlphaChannel",
                            "attributes": {
                              "startLine": 388,
                              "endLine": 388
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_ClassConstFetch",
                                "class": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "Imagick"
                                  ],
                                  "attributes": {
                                    "startLine": 388,
                                    "endLine": 388
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "ALPHACHANNEL_OPAQUE",
                                  "attributes": {
                                    "startLine": 388,
                                    "endLine": 388
                                  }
                                },
                                "attributes": {
                                  "startLine": 388,
                                  "endLine": 388
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 388,
                                "endLine": 388
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 388,
                            "endLine": 388
                          }
                        },
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 387,
                      "endLine": 389
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 382,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t\t * If alpha channel is not defined, set it opaque.\n\t\t\t *\n\t\t\t * Note that Imagick::getImageAlphaChannel() is only available if Imagick\n\t\t\t * has been compiled against ImageMagick version 6.4.0 or newer.\n\t\t\t */",
                      "line": 376,
                      "filePos": 10627,
                      "tokenPos": 2080,
                      "endLine": 381,
                      "endFilePos": 10840,
                      "endTokenPos": 2080
                    }
                  ],
                  "endLine": 390
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_callable"
                      ],
                      "attributes": {
                        "startLine": 393,
                        "endLine": 393
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 393,
                                    "endLine": 393
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "image",
                                  "attributes": {
                                    "startLine": 393,
                                    "endLine": 393
                                  }
                                },
                                "attributes": {
                                  "startLine": 393,
                                  "endLine": 393
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 393,
                                "endLine": 393
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "getImageDepth",
                                "attributes": {
                                  "startLine": 393,
                                  "endLine": 393,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 393,
                                "endLine": 393
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 393,
                            "endLine": 393,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 393,
                          "endLine": 393
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 393,
                      "endLine": 393
                    }
                  },
                  "right": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_callable"
                      ],
                      "attributes": {
                        "startLine": 393,
                        "endLine": 393
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 393,
                                    "endLine": 393
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "image",
                                  "attributes": {
                                    "startLine": 393,
                                    "endLine": 393
                                  }
                                },
                                "attributes": {
                                  "startLine": 393,
                                  "endLine": 393
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 393,
                                "endLine": 393
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "setImageDepth",
                                "attributes": {
                                  "startLine": 393,
                                  "endLine": 393,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 393,
                                "endLine": 393
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 393,
                            "endLine": 393,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 393,
                          "endLine": 393
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 393,
                      "endLine": 393
                    }
                  },
                  "attributes": {
                    "startLine": 393,
                    "endLine": 393
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_Smaller",
                      "left": {
                        "nodeType": "Scalar_LNumber",
                        "value": 8,
                        "attributes": {
                          "startLine": 394,
                          "endLine": 394,
                          "kind": 10
                        }
                      },
                      "right": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 394,
                              "endLine": 394
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 394,
                              "endLine": 394
                            }
                          },
                          "attributes": {
                            "startLine": 394,
                            "endLine": 394
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "getImageDepth",
                          "attributes": {
                            "startLine": 394,
                            "endLine": 394
                          }
                        },
                        "args": [],
                        "attributes": {
                          "startLine": 394,
                          "endLine": 394
                        }
                      },
                      "attributes": {
                        "startLine": 394,
                        "endLine": 394
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 395,
                                "endLine": 395
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 395,
                                "endLine": 395
                              }
                            },
                            "attributes": {
                              "startLine": 395,
                              "endLine": 395
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "setImageDepth",
                            "attributes": {
                              "startLine": 395,
                              "endLine": 395
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_LNumber",
                                "value": 8,
                                "attributes": {
                                  "startLine": 395,
                                  "endLine": 395,
                                  "kind": 10
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 395,
                                "endLine": 395
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 395,
                            "endLine": 395
                          }
                        },
                        "attributes": {
                          "startLine": 395,
                          "endLine": 395
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 394,
                      "endLine": 396
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 393,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Limit the bit depth of resized images to 8 bits per channel.\n",
                      "line": 392,
                      "filePos": 11261,
                      "tokenPos": 2184,
                      "endLine": 393,
                      "endFilePos": 11324,
                      "endTokenPos": 2184
                    }
                  ],
                  "endLine": 397
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_callable"
                      ],
                      "attributes": {
                        "startLine": 399,
                        "endLine": 399
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 399,
                                    "endLine": 399
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "image",
                                  "attributes": {
                                    "startLine": 399,
                                    "endLine": 399
                                  }
                                },
                                "attributes": {
                                  "startLine": 399,
                                  "endLine": 399
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 399,
                                "endLine": 399
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "setInterlaceScheme",
                                "attributes": {
                                  "startLine": 399,
                                  "endLine": 399,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 399,
                                "endLine": 399
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 399,
                            "endLine": 399,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 399,
                          "endLine": 399
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 399,
                      "endLine": 399
                    }
                  },
                  "right": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "defined"
                      ],
                      "attributes": {
                        "startLine": 399,
                        "endLine": 399
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Imagick::INTERLACE_NO",
                          "attributes": {
                            "startLine": 399,
                            "endLine": 399,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 399,
                          "endLine": 399
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 399,
                      "endLine": 399
                    }
                  },
                  "attributes": {
                    "startLine": 399,
                    "endLine": 399
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 400,
                            "endLine": 400
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 400,
                            "endLine": 400
                          }
                        },
                        "attributes": {
                          "startLine": 400,
                          "endLine": 400
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setInterlaceScheme",
                        "attributes": {
                          "startLine": 400,
                          "endLine": 400
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ClassConstFetch",
                            "class": {
                              "nodeType": "Name",
                              "parts": [
                                "Imagick"
                              ],
                              "attributes": {
                                "startLine": 400,
                                "endLine": 400
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "INTERLACE_NO",
                              "attributes": {
                                "startLine": 400,
                                "endLine": 400
                              }
                            },
                            "attributes": {
                              "startLine": 400,
                              "endLine": 400
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 400,
                            "endLine": 400
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 400,
                        "endLine": 400
                      }
                    },
                    "attributes": {
                      "startLine": 400,
                      "endLine": 400
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 399,
                  "endLine": 401
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 402,
                      "endLine": 402
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 402,
                    "endLine": 402
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 403,
                          "endLine": 403
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_resize_error",
                            "attributes": {
                              "startLine": 403,
                              "endLine": 403,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 403,
                            "endLine": 403
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 403,
                                "endLine": 403
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 403,
                                "endLine": 403
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 403,
                              "endLine": 403
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 403,
                            "endLine": 403
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 403,
                        "endLine": 403
                      }
                    },
                    "attributes": {
                      "startLine": 403,
                      "endLine": 403
                    }
                  }
                ],
                "attributes": {
                  "startLine": 402,
                  "endLine": 404
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 332,
              "endLine": 404
            }
          }
        ],
        "attributes": {
          "startLine": 289,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Efficiently resize the current image\n\t *\n\t * This is a WordPress specific implementation of Imagick::thumbnailImage(),\n\t * which resizes an image to given dimensions and removes any associated profiles.\n\t *\n\t * @since 4.5.0\n\t *\n\t * @param int    $dst_w       The destination width.\n\t * @param int    $dst_h       The destination height.\n\t * @param string $filter_name Optional. The Imagick filter to use when resizing. Default 'FILTER_TRIANGLE'.\n\t * @param bool   $strip_meta  Optional. Strip all profiles, excluding color profiles, from the image. Default true.\n\t * @return bool|WP_Error\n\t */",
              "line": 275,
              "filePos": 6856,
              "tokenPos": 1485,
              "endLine": 288,
              "endFilePos": 7456,
              "endTokenPos": 1485
            }
          ],
          "endLine": 405
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "multi_resize",
          "attributes": {
            "startLine": 437,
            "endLine": 437
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "sizes",
              "attributes": {
                "startLine": 437,
                "endLine": 437
              }
            },
            "default": null,
            "attributes": {
              "startLine": 437,
              "endLine": 437
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "metadata",
                "attributes": {
                  "startLine": 438,
                  "endLine": 438
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [],
                "attributes": {
                  "startLine": 438,
                  "endLine": 438,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 438,
                "endLine": 438
              }
            },
            "attributes": {
              "startLine": 438,
              "endLine": 438
            }
          },
          {
            "nodeType": "Stmt_Foreach",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "sizes",
              "attributes": {
                "startLine": 440,
                "endLine": 440
              }
            },
            "keyVar": {
              "nodeType": "Expr_Variable",
              "name": "size",
              "attributes": {
                "startLine": 440,
                "endLine": 440
              }
            },
            "byRef": false,
            "valueVar": {
              "nodeType": "Expr_Variable",
              "name": "size_data",
              "attributes": {
                "startLine": 440,
                "endLine": 440
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "meta",
                    "attributes": {
                      "startLine": 441,
                      "endLine": 441
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 441,
                        "endLine": 441
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "make_subsize",
                      "attributes": {
                        "startLine": 441,
                        "endLine": 441
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "size_data",
                          "attributes": {
                            "startLine": 441,
                            "endLine": 441
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 441,
                          "endLine": 441
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 441,
                      "endLine": 441
                    }
                  },
                  "attributes": {
                    "startLine": 441,
                    "endLine": 441
                  }
                },
                "attributes": {
                  "startLine": 441,
                  "endLine": 441
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_wp_error"
                      ],
                      "attributes": {
                        "startLine": 443,
                        "endLine": 443
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "meta",
                          "attributes": {
                            "startLine": 443,
                            "endLine": 443
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 443,
                          "endLine": 443
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 443,
                      "endLine": 443
                    }
                  },
                  "attributes": {
                    "startLine": 443,
                    "endLine": 443
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "metadata",
                          "attributes": {
                            "startLine": 444,
                            "endLine": 444
                          }
                        },
                        "dim": {
                          "nodeType": "Expr_Variable",
                          "name": "size",
                          "attributes": {
                            "startLine": 444,
                            "endLine": 444
                          }
                        },
                        "attributes": {
                          "startLine": 444,
                          "endLine": 444
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "meta",
                        "attributes": {
                          "startLine": 444,
                          "endLine": 444
                        }
                      },
                      "attributes": {
                        "startLine": 444,
                        "endLine": 444
                      }
                    },
                    "attributes": {
                      "startLine": 444,
                      "endLine": 444
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 443,
                  "endLine": 445
                }
              }
            ],
            "attributes": {
              "startLine": 440,
              "endLine": 446
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "metadata",
              "attributes": {
                "startLine": 448,
                "endLine": 448
              }
            },
            "attributes": {
              "startLine": 448,
              "endLine": 448
            }
          }
        ],
        "attributes": {
          "startLine": 437,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Create multiple smaller images from a single source.\n\t *\n\t * Attempts to create all sub-sizes and returns the meta data at the end. This\n\t * may result in the server running out of resources. When it fails there may be few\n\t * \"orphaned\" images left over as the meta data is never returned and saved.\n\t *\n\t * As of 5.3.0 the preferred way to do this is with `make_subsize()`. It creates\n\t * the new images one at a time and allows for the meta data to be saved after\n\t * each new image is created.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param array $sizes {\n\t *     An array of image size data arrays.\n\t *\n\t *     Either a height or width must be provided.\n\t *     If one of the two is set to null, the resize will\n\t *     maintain aspect ratio according to the provided dimension.\n\t *\n\t *     @type array $size {\n\t *         Array of height, width values, and whether to crop.\n\t *\n\t *         @type int  $width  Image width. Optional if `$height` is specified.\n\t *         @type int  $height Image height. Optional if `$width` is specified.\n\t *         @type bool $crop   Optional. Whether to crop the image. Default false.\n\t *     }\n\t * }\n\t * @return array An array of resized images' metadata by size.\n\t */",
              "line": 407,
              "filePos": 11827,
              "tokenPos": 2353,
              "endLine": 436,
              "endFilePos": 13034,
              "endTokenPos": 2353
            }
          ],
          "endLine": 449
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "make_subsize",
          "attributes": {
            "startLine": 466,
            "endLine": 466
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "size_data",
              "attributes": {
                "startLine": 466,
                "endLine": 466
              }
            },
            "default": null,
            "attributes": {
              "startLine": 466,
              "endLine": 466
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 467,
                          "endLine": 467
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "width",
                        "attributes": {
                          "startLine": 467,
                          "endLine": 467,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 467,
                        "endLine": 467
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 467,
                    "endLine": 467
                  }
                },
                "attributes": {
                  "startLine": 467,
                  "endLine": 467
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 467,
                          "endLine": 467
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "height",
                        "attributes": {
                          "startLine": 467,
                          "endLine": 467,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 467,
                        "endLine": 467
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 467,
                    "endLine": 467
                  }
                },
                "attributes": {
                  "startLine": 467,
                  "endLine": 467
                }
              },
              "attributes": {
                "startLine": 467,
                "endLine": 467
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 468,
                      "endLine": 468
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "image_subsize_create_error",
                        "attributes": {
                          "startLine": 468,
                          "endLine": 468,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 468,
                        "endLine": 468
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 468,
                            "endLine": 468
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "Cannot resize the image. Both width and height are not set.",
                              "attributes": {
                                "startLine": 468,
                                "endLine": 468,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 468,
                              "endLine": 468
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 468,
                          "endLine": 468
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 468,
                        "endLine": 468
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 468,
                    "endLine": 468
                  }
                },
                "attributes": {
                  "startLine": 468,
                  "endLine": 468
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 467,
              "endLine": 469
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "orig_size",
                "attributes": {
                  "startLine": 471,
                  "endLine": 471
                }
              },
              "expr": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 471,
                    "endLine": 471
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "size",
                  "attributes": {
                    "startLine": 471,
                    "endLine": 471
                  }
                },
                "attributes": {
                  "startLine": 471,
                  "endLine": 471
                }
              },
              "attributes": {
                "startLine": 471,
                "endLine": 471
              }
            },
            "attributes": {
              "startLine": 471,
              "endLine": 471
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "orig_image",
                "attributes": {
                  "startLine": 472,
                  "endLine": 472
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 472,
                      "endLine": 472
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "image",
                    "attributes": {
                      "startLine": 472,
                      "endLine": 472
                    }
                  },
                  "attributes": {
                    "startLine": 472,
                    "endLine": 472
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "getImage",
                  "attributes": {
                    "startLine": 472,
                    "endLine": 472
                  }
                },
                "args": [],
                "attributes": {
                  "startLine": 472,
                  "endLine": 472
                }
              },
              "attributes": {
                "startLine": 472,
                "endLine": 472
              }
            },
            "attributes": {
              "startLine": 472,
              "endLine": 472
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Isset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 474,
                        "endLine": 474
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 474,
                        "endLine": 474,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 474,
                      "endLine": 474
                    }
                  }
                ],
                "attributes": {
                  "startLine": 474,
                  "endLine": 474
                }
              },
              "attributes": {
                "startLine": 474,
                "endLine": 474
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 475,
                        "endLine": 475
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 475,
                        "endLine": 475,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 475,
                      "endLine": 475
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "null"
                      ],
                      "attributes": {
                        "startLine": 475,
                        "endLine": 475
                      }
                    },
                    "attributes": {
                      "startLine": 475,
                      "endLine": 475
                    }
                  },
                  "attributes": {
                    "startLine": 475,
                    "endLine": 475
                  }
                },
                "attributes": {
                  "startLine": 475,
                  "endLine": 475
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 474,
              "endLine": 476
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Isset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 478,
                        "endLine": 478
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 478,
                        "endLine": 478,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 478,
                      "endLine": 478
                    }
                  }
                ],
                "attributes": {
                  "startLine": 478,
                  "endLine": 478
                }
              },
              "attributes": {
                "startLine": 478,
                "endLine": 478
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 479,
                        "endLine": 479
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 479,
                        "endLine": 479,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 479,
                      "endLine": 479
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "null"
                      ],
                      "attributes": {
                        "startLine": 479,
                        "endLine": 479
                      }
                    },
                    "attributes": {
                      "startLine": 479,
                      "endLine": 479
                    }
                  },
                  "attributes": {
                    "startLine": 479,
                    "endLine": 479
                  }
                },
                "attributes": {
                  "startLine": 479,
                  "endLine": 479
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 478,
              "endLine": 480
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Isset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 482,
                        "endLine": 482
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "crop",
                      "attributes": {
                        "startLine": 482,
                        "endLine": 482,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 482,
                      "endLine": 482
                    }
                  }
                ],
                "attributes": {
                  "startLine": 482,
                  "endLine": 482
                }
              },
              "attributes": {
                "startLine": 482,
                "endLine": 482
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 483,
                        "endLine": 483
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "crop",
                      "attributes": {
                        "startLine": 483,
                        "endLine": 483,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 483,
                      "endLine": 483
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "false"
                      ],
                      "attributes": {
                        "startLine": 483,
                        "endLine": 483
                      }
                    },
                    "attributes": {
                      "startLine": 483,
                      "endLine": 483
                    }
                  },
                  "attributes": {
                    "startLine": 483,
                    "endLine": 483
                  }
                },
                "attributes": {
                  "startLine": 483,
                  "endLine": 483
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 482,
              "endLine": 484
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "resized",
                "attributes": {
                  "startLine": 486,
                  "endLine": 486
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 486,
                    "endLine": 486
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "resize",
                  "attributes": {
                    "startLine": 486,
                    "endLine": 486
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "width",
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 486,
                        "endLine": 486
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 486,
                      "endLine": 486
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "height",
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 486,
                        "endLine": 486
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 486,
                      "endLine": 486
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "crop",
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 486,
                        "endLine": 486
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 486,
                      "endLine": 486
                    }
                  }
                ],
                "attributes": {
                  "startLine": 486,
                  "endLine": 486
                }
              },
              "attributes": {
                "startLine": 486,
                "endLine": 486
              }
            },
            "attributes": {
              "startLine": 486,
              "endLine": 486
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_wp_error"
                ],
                "attributes": {
                  "startLine": 488,
                  "endLine": 488
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 488,
                      "endLine": 488
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 488,
                    "endLine": 488
                  }
                }
              ],
              "attributes": {
                "startLine": 488,
                "endLine": 488
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "saved",
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  },
                  "attributes": {
                    "startLine": 489,
                    "endLine": 489
                  }
                },
                "attributes": {
                  "startLine": 489,
                  "endLine": 489
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 491,
                        "endLine": 491
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 491,
                          "endLine": 491
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "_save",
                        "attributes": {
                          "startLine": 491,
                          "endLine": 491
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 491,
                                "endLine": 491
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 491,
                                "endLine": 491
                              }
                            },
                            "attributes": {
                              "startLine": 491,
                              "endLine": 491
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 491,
                            "endLine": 491
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 491,
                        "endLine": 491
                      }
                    },
                    "attributes": {
                      "startLine": 491,
                      "endLine": 491
                    }
                  },
                  "attributes": {
                    "startLine": 491,
                    "endLine": 491
                  }
                },
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 493,
                          "endLine": 493
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 493,
                          "endLine": 493
                        }
                      },
                      "attributes": {
                        "startLine": 493,
                        "endLine": 493
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "clear",
                      "attributes": {
                        "startLine": 493,
                        "endLine": 493
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 493,
                      "endLine": 493
                    }
                  },
                  "attributes": {
                    "startLine": 493,
                    "endLine": 493
                  }
                },
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 494,
                          "endLine": 494
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 494,
                          "endLine": 494
                        }
                      },
                      "attributes": {
                        "startLine": 494,
                        "endLine": 494
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "destroy",
                      "attributes": {
                        "startLine": 494,
                        "endLine": 494
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 494,
                      "endLine": 494
                    }
                  },
                  "attributes": {
                    "startLine": 494,
                    "endLine": 494
                  }
                },
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 495,
                          "endLine": 495
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 495,
                          "endLine": 495
                        }
                      },
                      "attributes": {
                        "startLine": 495,
                        "endLine": 495
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "null"
                        ],
                        "attributes": {
                          "startLine": 495,
                          "endLine": 495
                        }
                      },
                      "attributes": {
                        "startLine": 495,
                        "endLine": 495
                      }
                    },
                    "attributes": {
                      "startLine": 495,
                      "endLine": 495
                    }
                  },
                  "attributes": {
                    "startLine": 495,
                    "endLine": 495
                  }
                }
              ],
              "attributes": {
                "startLine": 490,
                "endLine": 496
              }
            },
            "attributes": {
              "startLine": 488,
              "endLine": 496
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 498,
                    "endLine": 498
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "size",
                  "attributes": {
                    "startLine": 498,
                    "endLine": 498
                  }
                },
                "attributes": {
                  "startLine": 498,
                  "endLine": 498
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "orig_size",
                "attributes": {
                  "startLine": 498,
                  "endLine": 498
                }
              },
              "attributes": {
                "startLine": 498,
                "endLine": 498
              }
            },
            "attributes": {
              "startLine": 498,
              "endLine": 498
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 499,
                    "endLine": 499
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "image",
                  "attributes": {
                    "startLine": 499,
                    "endLine": 499
                  }
                },
                "attributes": {
                  "startLine": 499,
                  "endLine": 499
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "orig_image",
                "attributes": {
                  "startLine": 499,
                  "endLine": 499
                }
              },
              "attributes": {
                "startLine": 499,
                "endLine": 499
              }
            },
            "attributes": {
              "startLine": 499,
              "endLine": 499
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_wp_error"
                  ],
                  "attributes": {
                    "startLine": 501,
                    "endLine": 501
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 501,
                        "endLine": 501
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 501,
                      "endLine": 501
                    }
                  }
                ],
                "attributes": {
                  "startLine": 501,
                  "endLine": 501
                }
              },
              "attributes": {
                "startLine": 501,
                "endLine": 501
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Unset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 502,
                        "endLine": 502
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "path",
                      "attributes": {
                        "startLine": 502,
                        "endLine": 502,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 502,
                      "endLine": 502
                    }
                  }
                ],
                "attributes": {
                  "startLine": 502,
                  "endLine": 502
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 501,
              "endLine": 503
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "saved",
              "attributes": {
                "startLine": 505,
                "endLine": 505
              }
            },
            "attributes": {
              "startLine": 505,
              "endLine": 505
            }
          }
        ],
        "attributes": {
          "startLine": 466,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Create an image sub-size and return the image meta data value for it.\n\t *\n\t * @since 5.3.0\n\t *\n\t * @param array $size_data {\n\t *     Array of size data.\n\t *\n\t *     @type int  $width  The maximum width in pixels.\n\t *     @type int  $height The maximum height in pixels.\n\t *     @type bool $crop   Whether to crop the image to exact dimensions.\n\t * }\n\t * @return array|WP_Error The image data array for inclusion in the `sizes` array in the image meta,\n\t *                        WP_Error object on error.\n\t */",
              "line": 451,
              "filePos": 13297,
              "tokenPos": 2449,
              "endLine": 465,
              "endFilePos": 13813,
              "endTokenPos": 2449
            }
          ],
          "endLine": 506
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "crop",
          "attributes": {
            "startLine": 522,
            "endLine": 522
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_x",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": null,
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_y",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": null,
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_w",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": null,
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_h",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": null,
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_w",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 522,
                  "endLine": 522
                }
              },
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_h",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 522,
                  "endLine": 522
                }
              },
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_abs",
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 522,
                  "endLine": 522
                }
              },
              "attributes": {
                "startLine": 522,
                "endLine": 522
              }
            },
            "attributes": {
              "startLine": 522,
              "endLine": 522
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "src_abs",
              "attributes": {
                "startLine": 523,
                "endLine": 523
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_AssignOp_Minus",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "src_w",
                    "attributes": {
                      "startLine": 524,
                      "endLine": 524
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "src_x",
                    "attributes": {
                      "startLine": 524,
                      "endLine": 524
                    }
                  },
                  "attributes": {
                    "startLine": 524,
                    "endLine": 524
                  }
                },
                "attributes": {
                  "startLine": 524,
                  "endLine": 524
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_AssignOp_Minus",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "src_h",
                    "attributes": {
                      "startLine": 525,
                      "endLine": 525
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "src_y",
                    "attributes": {
                      "startLine": 525,
                      "endLine": 525
                    }
                  },
                  "attributes": {
                    "startLine": 525,
                    "endLine": 525
                  }
                },
                "attributes": {
                  "startLine": 525,
                  "endLine": 525
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 523,
              "endLine": 526
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 529,
                        "endLine": 529
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 529,
                        "endLine": 529
                      }
                    },
                    "attributes": {
                      "startLine": 529,
                      "endLine": 529
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "cropImage",
                    "attributes": {
                      "startLine": 529,
                      "endLine": 529
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_w",
                        "attributes": {
                          "startLine": 529,
                          "endLine": 529
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 529,
                        "endLine": 529
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_h",
                        "attributes": {
                          "startLine": 529,
                          "endLine": 529
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 529,
                        "endLine": 529
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_x",
                        "attributes": {
                          "startLine": 529,
                          "endLine": 529
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 529,
                        "endLine": 529
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_y",
                        "attributes": {
                          "startLine": 529,
                          "endLine": 529
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 529,
                        "endLine": 529
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 529,
                    "endLine": 529
                  }
                },
                "attributes": {
                  "startLine": 529,
                  "endLine": 529
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    },
                    "attributes": {
                      "startLine": 530,
                      "endLine": 530
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setImagePage",
                    "attributes": {
                      "startLine": 530,
                      "endLine": 530
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_w",
                        "attributes": {
                          "startLine": 530,
                          "endLine": 530
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "src_h",
                        "attributes": {
                          "startLine": 530,
                          "endLine": 530
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 530,
                          "endLine": 530,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 530,
                          "endLine": 530,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 530,
                        "endLine": 530
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 530,
                    "endLine": 530
                  }
                },
                "attributes": {
                  "startLine": 530,
                  "endLine": 530
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanOr",
                  "left": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_w",
                    "attributes": {
                      "startLine": 532,
                      "endLine": 532
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_h",
                    "attributes": {
                      "startLine": 532,
                      "endLine": 532
                    }
                  },
                  "attributes": {
                    "startLine": 532,
                    "endLine": 532
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "dst_w",
                        "attributes": {
                          "startLine": 535,
                          "endLine": 535
                        }
                      },
                      "attributes": {
                        "startLine": 535,
                        "endLine": 535
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "dst_w",
                            "attributes": {
                              "startLine": 536,
                              "endLine": 536
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_Variable",
                            "name": "src_w",
                            "attributes": {
                              "startLine": 536,
                              "endLine": 536
                            }
                          },
                          "attributes": {
                            "startLine": 536,
                            "endLine": 536
                          }
                        },
                        "attributes": {
                          "startLine": 536,
                          "endLine": 536
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 535,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// If destination width/height isn't specified,\n",
                          "line": 533,
                          "filePos": 15611,
                          "tokenPos": 2926,
                          "endLine": 534,
                          "endFilePos": 15658,
                          "endTokenPos": 2926
                        },
                        {
                          "nodeType": "Comment",
                          "text": "// use same as width/height from source.\n",
                          "line": 534,
                          "filePos": 15663,
                          "tokenPos": 2928,
                          "endLine": 535,
                          "endFilePos": 15703,
                          "endTokenPos": 2928
                        }
                      ],
                      "endLine": 537
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "dst_h",
                        "attributes": {
                          "startLine": 538,
                          "endLine": 538
                        }
                      },
                      "attributes": {
                        "startLine": 538,
                        "endLine": 538
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_Assign",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "dst_h",
                            "attributes": {
                              "startLine": 539,
                              "endLine": 539
                            }
                          },
                          "expr": {
                            "nodeType": "Expr_Variable",
                            "name": "src_h",
                            "attributes": {
                              "startLine": 539,
                              "endLine": 539
                            }
                          },
                          "attributes": {
                            "startLine": 539,
                            "endLine": 539
                          }
                        },
                        "attributes": {
                          "startLine": 539,
                          "endLine": 539
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 538,
                      "endLine": 540
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "thumb_result",
                        "attributes": {
                          "startLine": 542,
                          "endLine": 542
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 542,
                            "endLine": 542
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "thumbnail_image",
                          "attributes": {
                            "startLine": 542,
                            "endLine": 542
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "dst_w",
                              "attributes": {
                                "startLine": 542,
                                "endLine": 542
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 542,
                              "endLine": 542
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "dst_h",
                              "attributes": {
                                "startLine": 542,
                                "endLine": 542
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 542,
                              "endLine": 542
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 542,
                          "endLine": 542
                        }
                      },
                      "attributes": {
                        "startLine": 542,
                        "endLine": 542
                      }
                    },
                    "attributes": {
                      "startLine": 542,
                      "endLine": 542
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "is_wp_error"
                        ],
                        "attributes": {
                          "startLine": 543,
                          "endLine": 543
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "thumb_result",
                            "attributes": {
                              "startLine": 543,
                              "endLine": 543
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 543,
                            "endLine": 543
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 543,
                        "endLine": 543
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_Variable",
                          "name": "thumb_result",
                          "attributes": {
                            "startLine": 544,
                            "endLine": 544
                          }
                        },
                        "attributes": {
                          "startLine": 544,
                          "endLine": 544
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 543,
                      "endLine": 545
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 547,
                          "endLine": 547
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "update_size",
                        "attributes": {
                          "startLine": 547,
                          "endLine": 547
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 547,
                        "endLine": 547
                      }
                    },
                    "attributes": {
                      "startLine": 547,
                      "endLine": 547
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 532,
                  "endLine": 548
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 549,
                      "endLine": 549
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 549,
                    "endLine": 549
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 550,
                          "endLine": 550
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_crop_error",
                            "attributes": {
                              "startLine": 550,
                              "endLine": 550,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 550,
                            "endLine": 550
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 550,
                                "endLine": 550
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 550,
                                "endLine": 550
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 550,
                              "endLine": 550
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 550,
                            "endLine": 550
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 550,
                        "endLine": 550
                      }
                    },
                    "attributes": {
                      "startLine": 550,
                      "endLine": 550
                    }
                  }
                ],
                "attributes": {
                  "startLine": 549,
                  "endLine": 551
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 528,
              "endLine": 551
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_MethodCall",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 552,
                  "endLine": 552
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "update_size",
                "attributes": {
                  "startLine": 552,
                  "endLine": 552
                }
              },
              "args": [],
              "attributes": {
                "startLine": 552,
                "endLine": 552
              }
            },
            "attributes": {
              "startLine": 552,
              "endLine": 552
            }
          }
        ],
        "attributes": {
          "startLine": 522,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Crops Image.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int  $src_x The start x position to crop from.\n\t * @param int  $src_y The start y position to crop from.\n\t * @param int  $src_w The width to crop.\n\t * @param int  $src_h The height to crop.\n\t * @param int  $dst_w Optional. The destination width.\n\t * @param int  $dst_h Optional. The destination height.\n\t * @param bool $src_abs Optional. If the source crop points are absolute.\n\t * @return bool|WP_Error\n\t */",
              "line": 508,
              "filePos": 14813,
              "tokenPos": 2795,
              "endLine": 521,
              "endFilePos": 15277,
              "endTokenPos": 2795
            }
          ],
          "endLine": 553
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "rotate",
          "attributes": {
            "startLine": 563,
            "endLine": 563
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "angle",
              "attributes": {
                "startLine": 563,
                "endLine": 563
              }
            },
            "default": null,
            "attributes": {
              "startLine": 563,
              "endLine": 563
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 569,
                        "endLine": 569
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 569,
                        "endLine": 569
                      }
                    },
                    "attributes": {
                      "startLine": 569,
                      "endLine": 569
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "rotateImage",
                    "attributes": {
                      "startLine": 569,
                      "endLine": 569
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_New",
                        "class": {
                          "nodeType": "Name",
                          "parts": [
                            "ImagickPixel"
                          ],
                          "attributes": {
                            "startLine": 569,
                            "endLine": 569
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "none",
                              "attributes": {
                                "startLine": 569,
                                "endLine": 569,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 569,
                              "endLine": 569
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 569,
                          "endLine": 569
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 569,
                        "endLine": 569
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_BinaryOp_Minus",
                        "left": {
                          "nodeType": "Scalar_LNumber",
                          "value": 360,
                          "attributes": {
                            "startLine": 569,
                            "endLine": 569,
                            "kind": 10
                          }
                        },
                        "right": {
                          "nodeType": "Expr_Variable",
                          "name": "angle",
                          "attributes": {
                            "startLine": 569,
                            "endLine": 569
                          }
                        },
                        "attributes": {
                          "startLine": 569,
                          "endLine": 569
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 569,
                        "endLine": 569
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 569,
                    "endLine": 569
                  }
                },
                "attributes": {
                  "startLine": 569,
                  "endLine": 569
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_callable"
                      ],
                      "attributes": {
                        "startLine": 572,
                        "endLine": 572
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 572,
                                    "endLine": 572
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "image",
                                  "attributes": {
                                    "startLine": 572,
                                    "endLine": 572
                                  }
                                },
                                "attributes": {
                                  "startLine": 572,
                                  "endLine": 572
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 572,
                                "endLine": 572
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "setImageOrientation",
                                "attributes": {
                                  "startLine": 572,
                                  "endLine": 572,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 572,
                                "endLine": 572
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 572,
                            "endLine": 572,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 572,
                          "endLine": 572
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 572,
                      "endLine": 572
                    }
                  },
                  "right": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "defined"
                      ],
                      "attributes": {
                        "startLine": 572,
                        "endLine": 572
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Imagick::ORIENTATION_TOPLEFT",
                          "attributes": {
                            "startLine": 572,
                            "endLine": 572,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 572,
                          "endLine": 572
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 572,
                      "endLine": 572
                    }
                  },
                  "attributes": {
                    "startLine": 572,
                    "endLine": 572
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 573,
                            "endLine": 573
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 573,
                            "endLine": 573
                          }
                        },
                        "attributes": {
                          "startLine": 573,
                          "endLine": 573
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setImageOrientation",
                        "attributes": {
                          "startLine": 573,
                          "endLine": 573
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ClassConstFetch",
                            "class": {
                              "nodeType": "Name",
                              "parts": [
                                "Imagick"
                              ],
                              "attributes": {
                                "startLine": 573,
                                "endLine": 573
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "ORIENTATION_TOPLEFT",
                              "attributes": {
                                "startLine": 573,
                                "endLine": 573
                              }
                            },
                            "attributes": {
                              "startLine": 573,
                              "endLine": 573
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 573,
                            "endLine": 573
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 573,
                        "endLine": 573
                      }
                    },
                    "attributes": {
                      "startLine": 573,
                      "endLine": 573
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 572,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Normalise EXIF orientation data so that display is consistent across devices.\n",
                      "line": 571,
                      "filePos": 16483,
                      "tokenPos": 3115,
                      "endLine": 572,
                      "endFilePos": 16563,
                      "endTokenPos": 3115
                    }
                  ],
                  "endLine": 574
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "result",
                    "attributes": {
                      "startLine": 577,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Since this changes the dimensions of the image, update the size.\n",
                          "line": 576,
                          "filePos": 16761,
                          "tokenPos": 3167,
                          "endLine": 577,
                          "endFilePos": 16828,
                          "endTokenPos": 3167
                        }
                      ],
                      "endLine": 577
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 577,
                        "endLine": 577
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "update_size",
                      "attributes": {
                        "startLine": 577,
                        "endLine": 577
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 577,
                      "endLine": 577
                    }
                  },
                  "attributes": {
                    "startLine": 577,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Since this changes the dimensions of the image, update the size.\n",
                        "line": 576,
                        "filePos": 16761,
                        "tokenPos": 3167,
                        "endLine": 577,
                        "endFilePos": 16828,
                        "endTokenPos": 3167
                      }
                    ],
                    "endLine": 577
                  }
                },
                "attributes": {
                  "startLine": 577,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Since this changes the dimensions of the image, update the size.\n",
                      "line": 576,
                      "filePos": 16761,
                      "tokenPos": 3167,
                      "endLine": 577,
                      "endFilePos": 16828,
                      "endTokenPos": 3167
                    }
                  ],
                  "endLine": 577
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_wp_error"
                    ],
                    "attributes": {
                      "startLine": 578,
                      "endLine": 578
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "result",
                        "attributes": {
                          "startLine": 578,
                          "endLine": 578
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 578,
                        "endLine": 578
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 578,
                    "endLine": 578
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_Variable",
                      "name": "result",
                      "attributes": {
                        "startLine": 579,
                        "endLine": 579
                      }
                    },
                    "attributes": {
                      "startLine": 579,
                      "endLine": 579
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 578,
                  "endLine": 580
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 582,
                        "endLine": 582
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 582,
                        "endLine": 582
                      }
                    },
                    "attributes": {
                      "startLine": 582,
                      "endLine": 582
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setImagePage",
                    "attributes": {
                      "startLine": 582,
                      "endLine": 582
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 582,
                              "endLine": 582
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "size",
                            "attributes": {
                              "startLine": 582,
                              "endLine": 582
                            }
                          },
                          "attributes": {
                            "startLine": 582,
                            "endLine": 582
                          }
                        },
                        "dim": {
                          "nodeType": "Scalar_String",
                          "value": "width",
                          "attributes": {
                            "startLine": 582,
                            "endLine": 582,
                            "kind": 1
                          }
                        },
                        "attributes": {
                          "startLine": 582,
                          "endLine": 582
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 582,
                        "endLine": 582
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 582,
                              "endLine": 582
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "size",
                            "attributes": {
                              "startLine": 582,
                              "endLine": 582
                            }
                          },
                          "attributes": {
                            "startLine": 582,
                            "endLine": 582
                          }
                        },
                        "dim": {
                          "nodeType": "Scalar_String",
                          "value": "height",
                          "attributes": {
                            "startLine": 582,
                            "endLine": 582,
                            "kind": 1
                          }
                        },
                        "attributes": {
                          "startLine": 582,
                          "endLine": 582
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 582,
                        "endLine": 582
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 582,
                          "endLine": 582,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 582,
                        "endLine": 582
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 582,
                          "endLine": 582,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 582,
                        "endLine": 582
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 582,
                    "endLine": 582
                  }
                },
                "attributes": {
                  "startLine": 582,
                  "endLine": 582
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 583,
                      "endLine": 583
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 583,
                    "endLine": 583
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 584,
                          "endLine": 584
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_rotate_error",
                            "attributes": {
                              "startLine": 584,
                              "endLine": 584,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 584,
                            "endLine": 584
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 584,
                                "endLine": 584
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 584,
                                "endLine": 584
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 584,
                              "endLine": 584
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 584,
                            "endLine": 584
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 584,
                        "endLine": 584
                      }
                    },
                    "attributes": {
                      "startLine": 584,
                      "endLine": 584
                    }
                  }
                ],
                "attributes": {
                  "startLine": 583,
                  "endLine": 585
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 568,
              "comments": [
                {
                  "nodeType": "Comment_Doc",
                  "text": "/**\n\t\t * $angle is 360-$angle because Imagick rotates clockwise\n\t\t * (GD rotates counter-clockwise)\n\t\t */",
                  "line": 564,
                  "filePos": 16291,
                  "tokenPos": 3083,
                  "endLine": 567,
                  "endFilePos": 16395,
                  "endTokenPos": 3083
                }
              ],
              "endLine": 585
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 586,
                  "endLine": 586
                }
              },
              "attributes": {
                "startLine": 586,
                "endLine": 586
              }
            },
            "attributes": {
              "startLine": 586,
              "endLine": 586
            }
          }
        ],
        "attributes": {
          "startLine": 563,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Rotates current image counter-clockwise by $angle.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param float $angle\n\t * @return true|WP_Error\n\t */",
              "line": 555,
              "filePos": 16114,
              "tokenPos": 3068,
              "endLine": 562,
              "endFilePos": 16251,
              "endTokenPos": 3068
            }
          ],
          "endLine": 587
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "flip",
          "attributes": {
            "startLine": 598,
            "endLine": 598
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "horz",
              "attributes": {
                "startLine": 598,
                "endLine": 598
              }
            },
            "default": null,
            "attributes": {
              "startLine": 598,
              "endLine": 598
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "vert",
              "attributes": {
                "startLine": 598,
                "endLine": 598
              }
            },
            "default": null,
            "attributes": {
              "startLine": 598,
              "endLine": 598
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_Variable",
                  "name": "horz",
                  "attributes": {
                    "startLine": 600,
                    "endLine": 600
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 601,
                            "endLine": 601
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 601,
                            "endLine": 601
                          }
                        },
                        "attributes": {
                          "startLine": 601,
                          "endLine": 601
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "flipImage",
                        "attributes": {
                          "startLine": 601,
                          "endLine": 601
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 601,
                        "endLine": 601
                      }
                    },
                    "attributes": {
                      "startLine": 601,
                      "endLine": 601
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 600,
                  "endLine": 602
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_Variable",
                  "name": "vert",
                  "attributes": {
                    "startLine": 604,
                    "endLine": 604
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 605,
                            "endLine": 605
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 605,
                            "endLine": 605
                          }
                        },
                        "attributes": {
                          "startLine": 605,
                          "endLine": 605
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "flopImage",
                        "attributes": {
                          "startLine": 605,
                          "endLine": 605
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 605,
                        "endLine": 605
                      }
                    },
                    "attributes": {
                      "startLine": 605,
                      "endLine": 605
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 604,
                  "endLine": 606
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BinaryOp_BooleanAnd",
                  "left": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_callable"
                      ],
                      "attributes": {
                        "startLine": 609,
                        "endLine": 609
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 609,
                                    "endLine": 609
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "image",
                                  "attributes": {
                                    "startLine": 609,
                                    "endLine": 609
                                  }
                                },
                                "attributes": {
                                  "startLine": 609,
                                  "endLine": 609
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 609,
                                "endLine": 609
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "setImageOrientation",
                                "attributes": {
                                  "startLine": 609,
                                  "endLine": 609,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 609,
                                "endLine": 609
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 609,
                            "endLine": 609,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 609,
                          "endLine": 609
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 609,
                      "endLine": 609
                    }
                  },
                  "right": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "defined"
                      ],
                      "attributes": {
                        "startLine": 609,
                        "endLine": 609
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Imagick::ORIENTATION_TOPLEFT",
                          "attributes": {
                            "startLine": 609,
                            "endLine": 609,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 609,
                          "endLine": 609
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 609,
                      "endLine": 609
                    }
                  },
                  "attributes": {
                    "startLine": 609,
                    "endLine": 609
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 610,
                            "endLine": 610
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 610,
                            "endLine": 610
                          }
                        },
                        "attributes": {
                          "startLine": 610,
                          "endLine": 610
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setImageOrientation",
                        "attributes": {
                          "startLine": 610,
                          "endLine": 610
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ClassConstFetch",
                            "class": {
                              "nodeType": "Name",
                              "parts": [
                                "Imagick"
                              ],
                              "attributes": {
                                "startLine": 610,
                                "endLine": 610
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "ORIENTATION_TOPLEFT",
                              "attributes": {
                                "startLine": 610,
                                "endLine": 610
                              }
                            },
                            "attributes": {
                              "startLine": 610,
                              "endLine": 610
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 610,
                            "endLine": 610
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 610,
                        "endLine": 610
                      }
                    },
                    "attributes": {
                      "startLine": 610,
                      "endLine": 610
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 609,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Normalise EXIF orientation data so that display is consistent across devices.\n",
                      "line": 608,
                      "filePos": 17470,
                      "tokenPos": 3339,
                      "endLine": 609,
                      "endFilePos": 17550,
                      "endTokenPos": 3339
                    }
                  ],
                  "endLine": 611
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 612,
                      "endLine": 612
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 612,
                    "endLine": 612
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 613,
                          "endLine": 613
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_flip_error",
                            "attributes": {
                              "startLine": 613,
                              "endLine": 613,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 613,
                            "endLine": 613
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 613,
                                "endLine": 613
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 613,
                                "endLine": 613
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 613,
                              "endLine": 613
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 613,
                            "endLine": 613
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 613,
                        "endLine": 613
                      }
                    },
                    "attributes": {
                      "startLine": 613,
                      "endLine": 613
                    }
                  }
                ],
                "attributes": {
                  "startLine": 612,
                  "endLine": 614
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 599,
              "endLine": 614
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 616,
                  "endLine": 616
                }
              },
              "attributes": {
                "startLine": 616,
                "endLine": 616
              }
            },
            "attributes": {
              "startLine": 616,
              "endLine": 616
            }
          }
        ],
        "attributes": {
          "startLine": 598,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Flips current image.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param bool $horz Flip along Horizontal Axis\n\t * @param bool $vert Flip along Vertical Axis\n\t * @return true|WP_Error\n\t */",
              "line": 589,
              "filePos": 17128,
              "tokenPos": 3275,
              "endLine": 597,
              "endFilePos": 17307,
              "endTokenPos": 3275
            }
          ],
          "endLine": 617
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "maybe_exif_rotate",
          "attributes": {
            "startLine": 630,
            "endLine": 630
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_callable"
                  ],
                  "attributes": {
                    "startLine": 631,
                    "endLine": 631
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Array",
                      "items": [
                        {
                          "nodeType": "Expr_ArrayItem",
                          "key": null,
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 631,
                                "endLine": 631
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 631,
                                "endLine": 631
                              }
                            },
                            "attributes": {
                              "startLine": 631,
                              "endLine": 631
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 631,
                            "endLine": 631
                          }
                        },
                        {
                          "nodeType": "Expr_ArrayItem",
                          "key": null,
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "setImageOrientation",
                            "attributes": {
                              "startLine": 631,
                              "endLine": 631,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 631,
                            "endLine": 631
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 631,
                        "endLine": 631,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 631,
                      "endLine": 631
                    }
                  }
                ],
                "attributes": {
                  "startLine": 631,
                  "endLine": 631
                }
              },
              "right": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "defined"
                  ],
                  "attributes": {
                    "startLine": 631,
                    "endLine": 631
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "Imagick::ORIENTATION_TOPLEFT",
                      "attributes": {
                        "startLine": 631,
                        "endLine": 631,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 631,
                      "endLine": 631
                    }
                  }
                ],
                "attributes": {
                  "startLine": 631,
                  "endLine": 631
                }
              },
              "attributes": {
                "startLine": 631,
                "endLine": 631
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_StaticCall",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "parent"
                    ],
                    "attributes": {
                      "startLine": 632,
                      "endLine": 632
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "maybe_exif_rotate",
                    "attributes": {
                      "startLine": 632,
                      "endLine": 632
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 632,
                    "endLine": 632
                  }
                },
                "attributes": {
                  "startLine": 632,
                  "endLine": 632
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Return",
                  "expr": {
                    "nodeType": "Expr_New",
                    "class": {
                      "nodeType": "Name",
                      "parts": [
                        "WP_Error"
                      ],
                      "attributes": {
                        "startLine": 634,
                        "endLine": 634
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "write_exif_error",
                          "attributes": {
                            "startLine": 634,
                            "endLine": 634,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 634,
                          "endLine": 634
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "__"
                            ],
                            "attributes": {
                              "startLine": 634,
                              "endLine": 634
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "The image cannot be rotated because the embedded meta data cannot be updated.",
                                "attributes": {
                                  "startLine": 634,
                                  "endLine": 634,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 634,
                                "endLine": 634
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 634,
                            "endLine": 634
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 634,
                          "endLine": 634
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 634,
                      "endLine": 634
                    }
                  },
                  "attributes": {
                    "startLine": 634,
                    "endLine": 634
                  }
                }
              ],
              "attributes": {
                "startLine": 633,
                "endLine": 635
              }
            },
            "attributes": {
              "startLine": 631,
              "endLine": 635
            }
          }
        ],
        "attributes": {
          "startLine": 630,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Check if a JPEG image has EXIF Orientation tag and rotate it if needed.\n\t *\n\t * As ImageMagick copies the EXIF data to the flipped/rotated image, proceed only\n\t * if EXIF Orientation can be reset afterwards.\n\t *\n\t * @since 5.3.0\n\t *\n\t * @return bool|WP_Error True if the image was rotated. False if no EXIF data or if the image doesn't need rotation.\n\t *                       WP_Error if error while rotating.\n\t */",
              "line": 619,
              "filePos": 17862,
              "tokenPos": 3433,
              "endLine": 629,
              "endFilePos": 18284,
              "endTokenPos": 3433
            }
          ],
          "endLine": 636
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "save",
          "attributes": {
            "startLine": 647,
            "endLine": 647
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "destfilename",
              "attributes": {
                "startLine": 647,
                "endLine": 647
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 647,
                  "endLine": 647
                }
              },
              "attributes": {
                "startLine": 647,
                "endLine": 647
              }
            },
            "attributes": {
              "startLine": 647,
              "endLine": 647
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 647,
                "endLine": 647
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 647,
                  "endLine": 647
                }
              },
              "attributes": {
                "startLine": 647,
                "endLine": 647
              }
            },
            "attributes": {
              "startLine": 647,
              "endLine": 647
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "saved",
                "attributes": {
                  "startLine": 648,
                  "endLine": 648
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 648,
                    "endLine": 648
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "_save",
                  "attributes": {
                    "startLine": 648,
                    "endLine": 648
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 648,
                          "endLine": 648
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 648,
                          "endLine": 648
                        }
                      },
                      "attributes": {
                        "startLine": 648,
                        "endLine": 648
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 648,
                      "endLine": 648
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "destfilename",
                      "attributes": {
                        "startLine": 648,
                        "endLine": 648
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 648,
                      "endLine": 648
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 648,
                        "endLine": 648
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 648,
                      "endLine": 648
                    }
                  }
                ],
                "attributes": {
                  "startLine": 648,
                  "endLine": 648
                }
              },
              "attributes": {
                "startLine": 648,
                "endLine": 648
              }
            },
            "attributes": {
              "startLine": 648,
              "endLine": 648
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_wp_error"
                  ],
                  "attributes": {
                    "startLine": 650,
                    "endLine": 650
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 650,
                        "endLine": 650
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 650,
                      "endLine": 650
                    }
                  }
                ],
                "attributes": {
                  "startLine": 650,
                  "endLine": 650
                }
              },
              "attributes": {
                "startLine": 650,
                "endLine": 650
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 651,
                        "endLine": 651
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 651,
                        "endLine": 651
                      }
                    },
                    "attributes": {
                      "startLine": 651,
                      "endLine": 651
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 651,
                        "endLine": 651
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "path",
                      "attributes": {
                        "startLine": 651,
                        "endLine": 651,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 651,
                      "endLine": 651
                    }
                  },
                  "attributes": {
                    "startLine": 651,
                    "endLine": 651
                  }
                },
                "attributes": {
                  "startLine": 651,
                  "endLine": 651
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 652,
                        "endLine": 652
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 652,
                        "endLine": 652
                      }
                    },
                    "attributes": {
                      "startLine": 652,
                      "endLine": 652
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 652,
                        "endLine": 652
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "mime-type",
                      "attributes": {
                        "startLine": 652,
                        "endLine": 652,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 652,
                      "endLine": 652
                    }
                  },
                  "attributes": {
                    "startLine": 652,
                    "endLine": 652
                  }
                },
                "attributes": {
                  "startLine": 652,
                  "endLine": 652
                }
              },
              {
                "nodeType": "Stmt_TryCatch",
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 655,
                            "endLine": 655
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 655,
                            "endLine": 655
                          }
                        },
                        "attributes": {
                          "startLine": 655,
                          "endLine": 655
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "setImageFormat",
                        "attributes": {
                          "startLine": 655,
                          "endLine": 655
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_FuncCall",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "strtoupper"
                              ],
                              "attributes": {
                                "startLine": 655,
                                "endLine": 655
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Expr_MethodCall",
                                  "var": {
                                    "nodeType": "Expr_Variable",
                                    "name": "this",
                                    "attributes": {
                                      "startLine": 655,
                                      "endLine": 655
                                    }
                                  },
                                  "name": {
                                    "nodeType": "Identifier",
                                    "name": "get_extension",
                                    "attributes": {
                                      "startLine": 655,
                                      "endLine": 655
                                    }
                                  },
                                  "args": [
                                    {
                                      "nodeType": "Arg",
                                      "value": {
                                        "nodeType": "Expr_PropertyFetch",
                                        "var": {
                                          "nodeType": "Expr_Variable",
                                          "name": "this",
                                          "attributes": {
                                            "startLine": 655,
                                            "endLine": 655
                                          }
                                        },
                                        "name": {
                                          "nodeType": "Identifier",
                                          "name": "mime_type",
                                          "attributes": {
                                            "startLine": 655,
                                            "endLine": 655
                                          }
                                        },
                                        "attributes": {
                                          "startLine": 655,
                                          "endLine": 655
                                        }
                                      },
                                      "byRef": false,
                                      "unpack": false,
                                      "attributes": {
                                        "startLine": 655,
                                        "endLine": 655
                                      }
                                    }
                                  ],
                                  "attributes": {
                                    "startLine": 655,
                                    "endLine": 655
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 655,
                                  "endLine": 655
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 655,
                              "endLine": 655
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 655,
                            "endLine": 655
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 655,
                        "endLine": 655
                      }
                    },
                    "attributes": {
                      "startLine": 655,
                      "endLine": 655
                    }
                  }
                ],
                "catches": [
                  {
                    "nodeType": "Stmt_Catch",
                    "types": [
                      {
                        "nodeType": "Name",
                        "parts": [
                          "Exception"
                        ],
                        "attributes": {
                          "startLine": 656,
                          "endLine": 656
                        }
                      }
                    ],
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "e",
                      "attributes": {
                        "startLine": 656,
                        "endLine": 656
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_New",
                          "class": {
                            "nodeType": "Name",
                            "parts": [
                              "WP_Error"
                            ],
                            "attributes": {
                              "startLine": 657,
                              "endLine": 657
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "image_save_error",
                                "attributes": {
                                  "startLine": 657,
                                  "endLine": 657,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 657,
                                "endLine": 657
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_MethodCall",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "e",
                                  "attributes": {
                                    "startLine": 657,
                                    "endLine": 657
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "getMessage",
                                  "attributes": {
                                    "startLine": 657,
                                    "endLine": 657
                                  }
                                },
                                "args": [],
                                "attributes": {
                                  "startLine": 657,
                                  "endLine": 657
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 657,
                                "endLine": 657
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_PropertyFetch",
                                "var": {
                                  "nodeType": "Expr_Variable",
                                  "name": "this",
                                  "attributes": {
                                    "startLine": 657,
                                    "endLine": 657
                                  }
                                },
                                "name": {
                                  "nodeType": "Identifier",
                                  "name": "file",
                                  "attributes": {
                                    "startLine": 657,
                                    "endLine": 657
                                  }
                                },
                                "attributes": {
                                  "startLine": 657,
                                  "endLine": 657
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 657,
                                "endLine": 657
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 657,
                            "endLine": 657
                          }
                        },
                        "attributes": {
                          "startLine": 657,
                          "endLine": 657
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 656,
                      "endLine": 658
                    }
                  }
                ],
                "finally": null,
                "attributes": {
                  "startLine": 654,
                  "endLine": 658
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 650,
              "endLine": 659
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "saved",
              "attributes": {
                "startLine": 661,
                "endLine": 661
              }
            },
            "attributes": {
              "startLine": 661,
              "endLine": 661
            }
          }
        ],
        "attributes": {
          "startLine": 647,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Saves current image to file.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $destfilename\n\t * @param string $mime_type\n\t * @return array|WP_Error {'path'=>string, 'file'=>string, 'width'=>int, 'height'=>int, 'mime-type'=>string}\n\t */",
              "line": 638,
              "filePos": 18633,
              "tokenPos": 3518,
              "endLine": 646,
              "endFilePos": 18869,
              "endTokenPos": 3518
            }
          ],
          "endLine": 662
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "_save",
          "attributes": {
            "startLine": 670,
            "endLine": 670
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "image",
              "attributes": {
                "startLine": 670,
                "endLine": 670
              }
            },
            "default": null,
            "attributes": {
              "startLine": 670,
              "endLine": 670
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 670,
                "endLine": 670
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 670,
                  "endLine": 670
                }
              },
              "attributes": {
                "startLine": 670,
                "endLine": 670
              }
            },
            "attributes": {
              "startLine": 670,
              "endLine": 670
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 670,
                "endLine": 670
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 670,
                  "endLine": 670
                }
              },
              "attributes": {
                "startLine": 670,
                "endLine": 670
              }
            },
            "attributes": {
              "startLine": 670,
              "endLine": 670
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 671,
                        "endLine": 671
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 671,
                      "endLine": 671
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "extension",
                      "attributes": {
                        "startLine": 671,
                        "endLine": 671
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 671,
                      "endLine": 671
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 671,
                        "endLine": 671
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 671,
                      "endLine": 671
                    }
                  }
                ],
                "attributes": {
                  "startLine": 671,
                  "endLine": 671
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 671,
                    "endLine": 671
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "get_output_format",
                  "attributes": {
                    "startLine": 671,
                    "endLine": 671
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 671,
                        "endLine": 671
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 671,
                      "endLine": 671
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 671,
                        "endLine": 671
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 671,
                      "endLine": 671
                    }
                  }
                ],
                "attributes": {
                  "startLine": 671,
                  "endLine": 671
                }
              },
              "attributes": {
                "startLine": 671,
                "endLine": 671
              }
            },
            "attributes": {
              "startLine": 671,
              "endLine": 671
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "filename",
                "attributes": {
                  "startLine": 673,
                  "endLine": 673
                }
              },
              "attributes": {
                "startLine": 673,
                "endLine": 673
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 674,
                      "endLine": 674
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 674,
                        "endLine": 674
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "generate_filename",
                      "attributes": {
                        "startLine": 674,
                        "endLine": 674
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "null"
                            ],
                            "attributes": {
                              "startLine": 674,
                              "endLine": 674
                            }
                          },
                          "attributes": {
                            "startLine": 674,
                            "endLine": 674
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 674,
                          "endLine": 674
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "null"
                            ],
                            "attributes": {
                              "startLine": 674,
                              "endLine": 674
                            }
                          },
                          "attributes": {
                            "startLine": 674,
                            "endLine": 674
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 674,
                          "endLine": 674
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "extension",
                          "attributes": {
                            "startLine": 674,
                            "endLine": 674
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 674,
                          "endLine": 674
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 674,
                      "endLine": 674
                    }
                  },
                  "attributes": {
                    "startLine": 674,
                    "endLine": 674
                  }
                },
                "attributes": {
                  "startLine": 674,
                  "endLine": 674
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 673,
              "endLine": 675
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "orig_format",
                    "attributes": {
                      "startLine": 679,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Store initial format.\n",
                          "line": 678,
                          "filePos": 19763,
                          "tokenPos": 3781,
                          "endLine": 679,
                          "endFilePos": 19787,
                          "endTokenPos": 3781
                        }
                      ],
                      "endLine": 679
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 679,
                          "endLine": 679
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 679,
                          "endLine": 679
                        }
                      },
                      "attributes": {
                        "startLine": 679,
                        "endLine": 679
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "getImageFormat",
                      "attributes": {
                        "startLine": 679,
                        "endLine": 679
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 679,
                      "endLine": 679
                    }
                  },
                  "attributes": {
                    "startLine": 679,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Store initial format.\n",
                        "line": 678,
                        "filePos": 19763,
                        "tokenPos": 3781,
                        "endLine": 679,
                        "endFilePos": 19787,
                        "endTokenPos": 3781
                      }
                    ],
                    "endLine": 679
                  }
                },
                "attributes": {
                  "startLine": 679,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Store initial format.\n",
                      "line": 678,
                      "filePos": 19763,
                      "tokenPos": 3781,
                      "endLine": 679,
                      "endFilePos": 19787,
                      "endTokenPos": 3781
                    }
                  ],
                  "endLine": 679
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 681,
                        "endLine": 681
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 681,
                        "endLine": 681
                      }
                    },
                    "attributes": {
                      "startLine": 681,
                      "endLine": 681
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setImageFormat",
                    "attributes": {
                      "startLine": 681,
                      "endLine": 681
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "strtoupper"
                          ],
                          "attributes": {
                            "startLine": 681,
                            "endLine": 681
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_MethodCall",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 681,
                                  "endLine": 681
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "get_extension",
                                "attributes": {
                                  "startLine": 681,
                                  "endLine": 681
                                }
                              },
                              "args": [
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "mime_type",
                                    "attributes": {
                                      "startLine": 681,
                                      "endLine": 681
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 681,
                                    "endLine": 681
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 681,
                                "endLine": 681
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 681,
                              "endLine": 681
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 681,
                          "endLine": 681
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 681,
                        "endLine": 681
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 681,
                    "endLine": 681
                  }
                },
                "attributes": {
                  "startLine": 681,
                  "endLine": 681
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 682,
                      "endLine": 682
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "make_image",
                    "attributes": {
                      "startLine": 682,
                      "endLine": 682
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "filename",
                        "attributes": {
                          "startLine": 682,
                          "endLine": 682
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 682,
                        "endLine": 682
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Array",
                        "items": [
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "image",
                              "attributes": {
                                "startLine": 682,
                                "endLine": 682
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 682,
                              "endLine": 682
                            }
                          },
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "writeImage",
                              "attributes": {
                                "startLine": 682,
                                "endLine": 682,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 682,
                              "endLine": 682
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 682,
                          "endLine": 682,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 682,
                        "endLine": 682
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Array",
                        "items": [
                          {
                            "nodeType": "Expr_ArrayItem",
                            "key": null,
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "filename",
                              "attributes": {
                                "startLine": 682,
                                "endLine": 682
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 682,
                              "endLine": 682
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 682,
                          "endLine": 682,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 682,
                        "endLine": 682
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 682,
                    "endLine": 682
                  }
                },
                "attributes": {
                  "startLine": 682,
                  "endLine": 682
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 685,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Reset original format.\n",
                            "line": 684,
                            "filePos": 20014,
                            "tokenPos": 3849,
                            "endLine": 685,
                            "endFilePos": 20039,
                            "endTokenPos": 3849
                          }
                        ],
                        "endLine": 685
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 685,
                        "endLine": 685
                      }
                    },
                    "attributes": {
                      "startLine": 685,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Reset original format.\n",
                          "line": 684,
                          "filePos": 20014,
                          "tokenPos": 3849,
                          "endLine": 685,
                          "endFilePos": 20039,
                          "endTokenPos": 3849
                        }
                      ],
                      "endLine": 685
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setImageFormat",
                    "attributes": {
                      "startLine": 685,
                      "endLine": 685
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "orig_format",
                        "attributes": {
                          "startLine": 685,
                          "endLine": 685
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 685,
                        "endLine": 685
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 685,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Reset original format.\n",
                        "line": 684,
                        "filePos": 20014,
                        "tokenPos": 3849,
                        "endLine": 685,
                        "endFilePos": 20039,
                        "endTokenPos": 3849
                      }
                    ],
                    "endLine": 685
                  }
                },
                "attributes": {
                  "startLine": 685,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Reset original format.\n",
                      "line": 684,
                      "filePos": 20014,
                      "tokenPos": 3849,
                      "endLine": 685,
                      "endFilePos": 20039,
                      "endTokenPos": 3849
                    }
                  ],
                  "endLine": 685
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 686,
                      "endLine": 686
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 686,
                    "endLine": 686
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 687,
                          "endLine": 687
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_save_error",
                            "attributes": {
                              "startLine": 687,
                              "endLine": 687,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 687,
                            "endLine": 687
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 687,
                                "endLine": 687
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 687,
                                "endLine": 687
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 687,
                              "endLine": 687
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 687,
                            "endLine": 687
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "filename",
                            "attributes": {
                              "startLine": 687,
                              "endLine": 687
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 687,
                            "endLine": 687
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 687,
                        "endLine": 687
                      }
                    },
                    "attributes": {
                      "startLine": 687,
                      "endLine": 687
                    }
                  }
                ],
                "attributes": {
                  "startLine": 686,
                  "endLine": 688
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 677,
              "endLine": 688
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "stat",
                "attributes": {
                  "startLine": 691,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Set correct file permissions.\n",
                      "line": 690,
                      "filePos": 20200,
                      "tokenPos": 3901,
                      "endLine": 691,
                      "endFilePos": 20232,
                      "endTokenPos": 3901
                    }
                  ],
                  "endLine": 691
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "stat"
                  ],
                  "attributes": {
                    "startLine": 691,
                    "endLine": 691
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "dirname"
                        ],
                        "attributes": {
                          "startLine": 691,
                          "endLine": 691
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "filename",
                            "attributes": {
                              "startLine": 691,
                              "endLine": 691
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 691,
                            "endLine": 691
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 691,
                        "endLine": 691
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 691,
                      "endLine": 691
                    }
                  }
                ],
                "attributes": {
                  "startLine": 691,
                  "endLine": 691
                }
              },
              "attributes": {
                "startLine": 691,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// Set correct file permissions.\n",
                    "line": 690,
                    "filePos": 20200,
                    "tokenPos": 3901,
                    "endLine": 691,
                    "endFilePos": 20232,
                    "endTokenPos": 3901
                  }
                ],
                "endLine": 691
              }
            },
            "attributes": {
              "startLine": 691,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Set correct file permissions.\n",
                  "line": 690,
                  "filePos": 20200,
                  "tokenPos": 3901,
                  "endLine": 691,
                  "endFilePos": 20232,
                  "endTokenPos": 3901
                }
              ],
              "endLine": 691
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "perms",
                "attributes": {
                  "startLine": 692,
                  "endLine": 692
                }
              },
              "expr": {
                "nodeType": "Expr_BinaryOp_BitwiseAnd",
                "left": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "stat",
                    "attributes": {
                      "startLine": 692,
                      "endLine": 692
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "mode",
                    "attributes": {
                      "startLine": 692,
                      "endLine": 692,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 692,
                    "endLine": 692
                  }
                },
                "right": {
                  "nodeType": "Scalar_LNumber",
                  "value": 438,
                  "attributes": {
                    "startLine": 692,
                    "endLine": 692,
                    "kind": 8
                  }
                },
                "attributes": {
                  "startLine": 692,
                  "endLine": 692
                }
              },
              "attributes": {
                "startLine": 692,
                "endLine": 692
              }
            },
            "attributes": {
              "startLine": 692,
              "endLine": 692
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "chmod"
                ],
                "attributes": {
                  "startLine": 693,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Same permissions as parent folder, strip off the executable bits.\n",
                      "line": 692,
                      "filePos": 20310,
                      "tokenPos": 3934,
                      "endLine": 693,
                      "endFilePos": 20378,
                      "endTokenPos": 3934
                    }
                  ],
                  "endLine": 693
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 693,
                      "endLine": 693
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 693,
                    "endLine": 693
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "perms",
                    "attributes": {
                      "startLine": 693,
                      "endLine": 693
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 693,
                    "endLine": 693
                  }
                }
              ],
              "attributes": {
                "startLine": 693,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// Same permissions as parent folder, strip off the executable bits.\n",
                    "line": 692,
                    "filePos": 20310,
                    "tokenPos": 3934,
                    "endLine": 693,
                    "endFilePos": 20378,
                    "endTokenPos": 3934
                  }
                ],
                "endLine": 693
              }
            },
            "attributes": {
              "startLine": 693,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Same permissions as parent folder, strip off the executable bits.\n",
                  "line": 692,
                  "filePos": 20310,
                  "tokenPos": 3934,
                  "endLine": 693,
                  "endFilePos": 20378,
                  "endTokenPos": 3934
                }
              ],
              "endLine": 693
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Array",
              "items": [
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "path",
                    "attributes": {
                      "startLine": 696,
                      "endLine": 696,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 696,
                      "endLine": 696
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 696,
                    "endLine": 696
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "file",
                    "attributes": {
                      "startLine": 698,
                      "comments": [
                        {
                          "nodeType": "Comment_Doc",
                          "text": "/** This filter is documented in wp-includes/class-wp-image-editor-gd.php */",
                          "line": 697,
                          "filePos": 20458,
                          "tokenPos": 3959,
                          "endLine": 697,
                          "endFilePos": 20533,
                          "endTokenPos": 3959
                        }
                      ],
                      "endLine": 698,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "wp_basename"
                      ],
                      "attributes": {
                        "startLine": 698,
                        "endLine": 698
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "apply_filters"
                            ],
                            "attributes": {
                              "startLine": 698,
                              "endLine": 698
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "image_make_intermediate_size",
                                "attributes": {
                                  "startLine": 698,
                                  "endLine": 698,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 698,
                                "endLine": 698
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "filename",
                                "attributes": {
                                  "startLine": 698,
                                  "endLine": 698
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 698,
                                "endLine": 698
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 698,
                            "endLine": 698
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 698,
                          "endLine": 698
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 698,
                      "endLine": 698
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 698,
                    "comments": [
                      {
                        "nodeType": "Comment_Doc",
                        "text": "/** This filter is documented in wp-includes/class-wp-image-editor-gd.php */",
                        "line": 697,
                        "filePos": 20458,
                        "tokenPos": 3959,
                        "endLine": 697,
                        "endFilePos": 20533,
                        "endTokenPos": 3959
                      }
                    ],
                    "endLine": 698
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "width",
                    "attributes": {
                      "startLine": 699,
                      "endLine": 699,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 699,
                          "endLine": 699
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "size",
                        "attributes": {
                          "startLine": 699,
                          "endLine": 699
                        }
                      },
                      "attributes": {
                        "startLine": 699,
                        "endLine": 699
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 699,
                        "endLine": 699,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 699,
                      "endLine": 699
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 699,
                    "endLine": 699
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "height",
                    "attributes": {
                      "startLine": 700,
                      "endLine": 700,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 700,
                          "endLine": 700
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "size",
                        "attributes": {
                          "startLine": 700,
                          "endLine": 700
                        }
                      },
                      "attributes": {
                        "startLine": 700,
                        "endLine": 700
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 700,
                        "endLine": 700,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 700,
                      "endLine": 700
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 700,
                    "endLine": 700
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "mime-type",
                    "attributes": {
                      "startLine": 701,
                      "endLine": 701,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 701,
                      "endLine": 701
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 701,
                    "endLine": 701
                  }
                }
              ],
              "attributes": {
                "startLine": 695,
                "endLine": 702,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 695,
              "endLine": 702
            }
          }
        ],
        "attributes": {
          "startLine": 670,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * @param Imagick $image\n\t * @param string $filename\n\t * @param string $mime_type\n\t * @return array|WP_Error\n\t */",
              "line": 664,
              "filePos": 19365,
              "tokenPos": 3686,
              "endLine": 669,
              "endFilePos": 19482,
              "endTokenPos": 3686
            }
          ],
          "endLine": 703
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "stream",
          "attributes": {
            "startLine": 713,
            "endLine": 713
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 713,
                "endLine": 713
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 713,
                  "endLine": 713
                }
              },
              "attributes": {
                "startLine": 713,
                "endLine": 713
              }
            },
            "attributes": {
              "startLine": 713,
              "endLine": 713
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 714,
                        "endLine": 714
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 714,
                      "endLine": 714
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "extension",
                      "attributes": {
                        "startLine": 714,
                        "endLine": 714
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 714,
                      "endLine": 714
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 714,
                        "endLine": 714
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 714,
                      "endLine": 714
                    }
                  }
                ],
                "attributes": {
                  "startLine": 714,
                  "endLine": 714
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 714,
                    "endLine": 714
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "get_output_format",
                  "attributes": {
                    "startLine": 714,
                    "endLine": 714
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "null"
                        ],
                        "attributes": {
                          "startLine": 714,
                          "endLine": 714
                        }
                      },
                      "attributes": {
                        "startLine": 714,
                        "endLine": 714
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 714,
                      "endLine": 714
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 714,
                        "endLine": 714
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 714,
                      "endLine": 714
                    }
                  }
                ],
                "attributes": {
                  "startLine": 714,
                  "endLine": 714
                }
              },
              "attributes": {
                "startLine": 714,
                "endLine": 714
              }
            },
            "attributes": {
              "startLine": 714,
              "endLine": 714
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 718,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Temporarily change format for stream.\n",
                            "line": 717,
                            "filePos": 21100,
                            "tokenPos": 4068,
                            "endLine": 718,
                            "endFilePos": 21140,
                            "endTokenPos": 4068
                          }
                        ],
                        "endLine": 718
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 718,
                        "endLine": 718
                      }
                    },
                    "attributes": {
                      "startLine": 718,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Temporarily change format for stream.\n",
                          "line": 717,
                          "filePos": 21100,
                          "tokenPos": 4068,
                          "endLine": 718,
                          "endFilePos": 21140,
                          "endTokenPos": 4068
                        }
                      ],
                      "endLine": 718
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setImageFormat",
                    "attributes": {
                      "startLine": 718,
                      "endLine": 718
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "strtoupper"
                          ],
                          "attributes": {
                            "startLine": 718,
                            "endLine": 718
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "extension",
                              "attributes": {
                                "startLine": 718,
                                "endLine": 718
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 718,
                              "endLine": 718
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 718,
                          "endLine": 718
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 718,
                        "endLine": 718
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 718,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Temporarily change format for stream.\n",
                        "line": 717,
                        "filePos": 21100,
                        "tokenPos": 4068,
                        "endLine": 718,
                        "endFilePos": 21140,
                        "endTokenPos": 4068
                      }
                    ],
                    "endLine": 718
                  }
                },
                "attributes": {
                  "startLine": 718,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Temporarily change format for stream.\n",
                      "line": 717,
                      "filePos": 21100,
                      "tokenPos": 4068,
                      "endLine": 718,
                      "endFilePos": 21140,
                      "endTokenPos": 4068
                    }
                  ],
                  "endLine": 718
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "header"
                    ],
                    "attributes": {
                      "startLine": 721,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Output stream of image content.\n",
                          "line": 720,
                          "filePos": 21206,
                          "tokenPos": 4087,
                          "endLine": 721,
                          "endFilePos": 21240,
                          "endTokenPos": 4087
                        }
                      ],
                      "endLine": 721
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_Encapsed",
                        "parts": [
                          {
                            "nodeType": "Scalar_EncapsedStringPart",
                            "value": "Content-Type: ",
                            "attributes": {
                              "startLine": 721,
                              "endLine": 721
                            }
                          },
                          {
                            "nodeType": "Expr_Variable",
                            "name": "mime_type",
                            "attributes": {
                              "startLine": 721,
                              "endLine": 721
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 721,
                          "endLine": 721,
                          "kind": 2
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 721,
                        "endLine": 721
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 721,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Output stream of image content.\n",
                        "line": 720,
                        "filePos": 21206,
                        "tokenPos": 4087,
                        "endLine": 721,
                        "endFilePos": 21240,
                        "endTokenPos": 4087
                      }
                    ],
                    "endLine": 721
                  }
                },
                "attributes": {
                  "startLine": 721,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Output stream of image content.\n",
                      "line": 720,
                      "filePos": 21206,
                      "tokenPos": 4087,
                      "endLine": 721,
                      "endFilePos": 21240,
                      "endTokenPos": 4087
                    }
                  ],
                  "endLine": 721
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Print",
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 722,
                          "endLine": 722
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 722,
                          "endLine": 722
                        }
                      },
                      "attributes": {
                        "startLine": 722,
                        "endLine": 722
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "getImageBlob",
                      "attributes": {
                        "startLine": 722,
                        "endLine": 722
                      }
                    },
                    "args": [],
                    "attributes": {
                      "startLine": 722,
                      "endLine": 722
                    }
                  },
                  "attributes": {
                    "startLine": 722,
                    "endLine": 722
                  }
                },
                "attributes": {
                  "startLine": 722,
                  "endLine": 722
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 725,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// Reset image to original format.\n",
                            "line": 724,
                            "filePos": 21325,
                            "tokenPos": 4111,
                            "endLine": 725,
                            "endFilePos": 21359,
                            "endTokenPos": 4111
                          }
                        ],
                        "endLine": 725
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 725,
                        "endLine": 725
                      }
                    },
                    "attributes": {
                      "startLine": 725,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Reset image to original format.\n",
                          "line": 724,
                          "filePos": 21325,
                          "tokenPos": 4111,
                          "endLine": 725,
                          "endFilePos": 21359,
                          "endTokenPos": 4111
                        }
                      ],
                      "endLine": 725
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setImageFormat",
                    "attributes": {
                      "startLine": 725,
                      "endLine": 725
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 725,
                            "endLine": 725
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "get_extension",
                          "attributes": {
                            "startLine": 725,
                            "endLine": 725
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 725,
                                  "endLine": 725
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "mime_type",
                                "attributes": {
                                  "startLine": 725,
                                  "endLine": 725
                                }
                              },
                              "attributes": {
                                "startLine": 725,
                                "endLine": 725
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 725,
                              "endLine": 725
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 725,
                          "endLine": 725
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 725,
                        "endLine": 725
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 725,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// Reset image to original format.\n",
                        "line": 724,
                        "filePos": 21325,
                        "tokenPos": 4111,
                        "endLine": 725,
                        "endFilePos": 21359,
                        "endTokenPos": 4111
                      }
                    ],
                    "endLine": 725
                  }
                },
                "attributes": {
                  "startLine": 725,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Reset image to original format.\n",
                      "line": 724,
                      "filePos": 21325,
                      "tokenPos": 4111,
                      "endLine": 725,
                      "endFilePos": 21359,
                      "endTokenPos": 4111
                    }
                  ],
                  "endLine": 725
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 726,
                      "endLine": 726
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 726,
                    "endLine": 726
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 727,
                          "endLine": 727
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_stream_error",
                            "attributes": {
                              "startLine": 727,
                              "endLine": 727,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 727,
                            "endLine": 727
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 727,
                                "endLine": 727
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 727,
                                "endLine": 727
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 727,
                              "endLine": 727
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 727,
                            "endLine": 727
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 727,
                        "endLine": 727
                      }
                    },
                    "attributes": {
                      "startLine": 727,
                      "endLine": 727
                    }
                  }
                ],
                "attributes": {
                  "startLine": 726,
                  "endLine": 728
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 716,
              "endLine": 728
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 730,
                  "endLine": 730
                }
              },
              "attributes": {
                "startLine": 730,
                "endLine": 730
              }
            },
            "attributes": {
              "startLine": 730,
              "endLine": 730
            }
          }
        ],
        "attributes": {
          "startLine": 713,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Streams current image to browser.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $mime_type The mime type of the image.\n\t * @return bool|WP_Error True on success, WP_Error object on failure.\n\t */",
              "line": 705,
              "filePos": 20749,
              "tokenPos": 4017,
              "endLine": 712,
              "endFilePos": 20947,
              "endTokenPos": 4017
            }
          ],
          "endLine": 731
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "strip_meta",
          "attributes": {
            "startLine": 740,
            "endLine": 740
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_callable"
                  ],
                  "attributes": {
                    "startLine": 742,
                    "endLine": 742
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Array",
                      "items": [
                        {
                          "nodeType": "Expr_ArrayItem",
                          "key": null,
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 742,
                                "endLine": 742
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 742,
                                "endLine": 742
                              }
                            },
                            "attributes": {
                              "startLine": 742,
                              "endLine": 742
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 742,
                            "endLine": 742
                          }
                        },
                        {
                          "nodeType": "Expr_ArrayItem",
                          "key": null,
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "getImageProfiles",
                            "attributes": {
                              "startLine": 742,
                              "endLine": 742,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 742,
                            "endLine": 742
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 742,
                        "endLine": 742,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 742,
                      "endLine": 742
                    }
                  }
                ],
                "attributes": {
                  "startLine": 742,
                  "endLine": 742
                }
              },
              "attributes": {
                "startLine": 742,
                "endLine": 742
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 744,
                      "endLine": 744
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "image_strip_meta_error",
                        "attributes": {
                          "startLine": 744,
                          "endLine": 744,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 744,
                        "endLine": 744
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "sprintf"
                          ],
                          "attributes": {
                            "startLine": 744,
                            "endLine": 744
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_FuncCall",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "__"
                                ],
                                "attributes": {
                                  "startLine": 744,
                                  "endLine": 744
                                }
                              },
                              "args": [
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Scalar_String",
                                    "value": "%s is required to strip image meta.",
                                    "attributes": {
                                      "startLine": 744,
                                      "endLine": 744,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 744,
                                    "endLine": 744
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 744,
                                "endLine": 744
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 744,
                              "endLine": 744
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "<code>Imagick::getImageProfiles()</code>",
                              "attributes": {
                                "startLine": 744,
                                "endLine": 744,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 744,
                              "endLine": 744
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 744,
                          "endLine": 744
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 744,
                        "endLine": 744
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 744,
                    "endLine": 744
                  }
                },
                "attributes": {
                  "startLine": 744,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/* translators: %s: ImageMagick method name. */",
                      "line": 743,
                      "filePos": 21858,
                      "tokenPos": 4215,
                      "endLine": 743,
                      "endFilePos": 21904,
                      "endTokenPos": 4215
                    }
                  ],
                  "endLine": 744
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 742,
              "endLine": 745
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_callable"
                  ],
                  "attributes": {
                    "startLine": 747,
                    "endLine": 747
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Array",
                      "items": [
                        {
                          "nodeType": "Expr_ArrayItem",
                          "key": null,
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 747,
                                "endLine": 747
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 747,
                                "endLine": 747
                              }
                            },
                            "attributes": {
                              "startLine": 747,
                              "endLine": 747
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 747,
                            "endLine": 747
                          }
                        },
                        {
                          "nodeType": "Expr_ArrayItem",
                          "key": null,
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "removeImageProfile",
                            "attributes": {
                              "startLine": 747,
                              "endLine": 747,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 747,
                            "endLine": 747
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 747,
                        "endLine": 747,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 747,
                      "endLine": 747
                    }
                  }
                ],
                "attributes": {
                  "startLine": 747,
                  "endLine": 747
                }
              },
              "attributes": {
                "startLine": 747,
                "endLine": 747
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 749,
                      "endLine": 749
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "image_strip_meta_error",
                        "attributes": {
                          "startLine": 749,
                          "endLine": 749,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 749,
                        "endLine": 749
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "sprintf"
                          ],
                          "attributes": {
                            "startLine": 749,
                            "endLine": 749
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_FuncCall",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "__"
                                ],
                                "attributes": {
                                  "startLine": 749,
                                  "endLine": 749
                                }
                              },
                              "args": [
                                {
                                  "nodeType": "Arg",
                                  "value": {
                                    "nodeType": "Scalar_String",
                                    "value": "%s is required to strip image meta.",
                                    "attributes": {
                                      "startLine": 749,
                                      "endLine": 749,
                                      "kind": 1
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 749,
                                    "endLine": 749
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 749,
                                "endLine": 749
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 749,
                              "endLine": 749
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "<code>Imagick::removeImageProfile()</code>",
                              "attributes": {
                                "startLine": 749,
                                "endLine": 749,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 749,
                              "endLine": 749
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 749,
                          "endLine": 749
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 749,
                        "endLine": 749
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 749,
                    "endLine": 749
                  }
                },
                "attributes": {
                  "startLine": 749,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/* translators: %s: ImageMagick method name. */",
                      "line": 748,
                      "filePos": 22138,
                      "tokenPos": 4274,
                      "endLine": 748,
                      "endFilePos": 22184,
                      "endTokenPos": 4274
                    }
                  ],
                  "endLine": 749
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 747,
              "endLine": 750
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "protected_profiles",
                "attributes": {
                  "startLine": 761,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "/*\n\t\t * Protect a few profiles from being stripped for the following reasons:\n\t\t *\n\t\t * - icc:  Color profile information\n\t\t * - icm:  Color profile information\n\t\t * - iptc: Copyright data\n\t\t * - exif: Orientation data\n\t\t * - xmp:  Rights usage data\n\t\t */",
                      "line": 752,
                      "filePos": 22347,
                      "tokenPos": 4306,
                      "endLine": 760,
                      "endFilePos": 22601,
                      "endTokenPos": 4306
                    }
                  ],
                  "endLine": 761
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "icc",
                      "attributes": {
                        "startLine": 762,
                        "endLine": 762,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 762,
                      "endLine": 762
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "icm",
                      "attributes": {
                        "startLine": 763,
                        "endLine": 763,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 763,
                      "endLine": 763
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "iptc",
                      "attributes": {
                        "startLine": 764,
                        "endLine": 764,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 764,
                      "endLine": 764
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "exif",
                      "attributes": {
                        "startLine": 765,
                        "endLine": 765,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 765,
                      "endLine": 765
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "xmp",
                      "attributes": {
                        "startLine": 766,
                        "endLine": 766,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 766,
                      "endLine": 766
                    }
                  }
                ],
                "attributes": {
                  "startLine": 761,
                  "endLine": 767,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 761,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "/*\n\t\t * Protect a few profiles from being stripped for the following reasons:\n\t\t *\n\t\t * - icc:  Color profile information\n\t\t * - icm:  Color profile information\n\t\t * - iptc: Copyright data\n\t\t * - exif: Orientation data\n\t\t * - xmp:  Rights usage data\n\t\t */",
                    "line": 752,
                    "filePos": 22347,
                    "tokenPos": 4306,
                    "endLine": 760,
                    "endFilePos": 22601,
                    "endTokenPos": 4306
                  }
                ],
                "endLine": 767
              }
            },
            "attributes": {
              "startLine": 761,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "/*\n\t\t * Protect a few profiles from being stripped for the following reasons:\n\t\t *\n\t\t * - icc:  Color profile information\n\t\t * - icm:  Color profile information\n\t\t * - iptc: Copyright data\n\t\t * - exif: Orientation data\n\t\t * - xmp:  Rights usage data\n\t\t */",
                  "line": 752,
                  "filePos": 22347,
                  "tokenPos": 4306,
                  "endLine": 760,
                  "endFilePos": 22601,
                  "endTokenPos": 4306
                }
              ],
              "endLine": 767
            }
          },
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Foreach",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 771,
                        "endLine": 771
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 771,
                        "endLine": 771
                      }
                    },
                    "attributes": {
                      "startLine": 771,
                      "endLine": 771
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "getImageProfiles",
                    "attributes": {
                      "startLine": 771,
                      "endLine": 771
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "*",
                        "attributes": {
                          "startLine": 771,
                          "endLine": 771,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 771,
                        "endLine": 771
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "true"
                          ],
                          "attributes": {
                            "startLine": 771,
                            "endLine": 771
                          }
                        },
                        "attributes": {
                          "startLine": 771,
                          "endLine": 771
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 771,
                        "endLine": 771
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 771,
                    "endLine": 771
                  }
                },
                "keyVar": {
                  "nodeType": "Expr_Variable",
                  "name": "key",
                  "attributes": {
                    "startLine": 771,
                    "endLine": 771
                  }
                },
                "byRef": false,
                "valueVar": {
                  "nodeType": "Expr_Variable",
                  "name": "value",
                  "attributes": {
                    "startLine": 771,
                    "endLine": 771
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "in_array"
                          ],
                          "attributes": {
                            "startLine": 772,
                            "endLine": 772
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "key",
                              "attributes": {
                                "startLine": 772,
                                "endLine": 772
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 772,
                              "endLine": 772
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "protected_profiles",
                              "attributes": {
                                "startLine": 772,
                                "endLine": 772
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 772,
                              "endLine": 772
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_ConstFetch",
                              "name": {
                                "nodeType": "Name",
                                "parts": [
                                  "true"
                                ],
                                "attributes": {
                                  "startLine": 772,
                                  "endLine": 772
                                }
                              },
                              "attributes": {
                                "startLine": 772,
                                "endLine": 772
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 772,
                              "endLine": 772
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 772,
                          "endLine": 772
                        }
                      },
                      "attributes": {
                        "startLine": 772,
                        "endLine": 772
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_MethodCall",
                          "var": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 773,
                                "endLine": 773
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 773,
                                "endLine": 773
                              }
                            },
                            "attributes": {
                              "startLine": 773,
                              "endLine": 773
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "removeImageProfile",
                            "attributes": {
                              "startLine": 773,
                              "endLine": 773
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "key",
                                "attributes": {
                                  "startLine": 773,
                                  "endLine": 773
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 773,
                                "endLine": 773
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 773,
                            "endLine": 773
                          }
                        },
                        "attributes": {
                          "startLine": 773,
                          "endLine": 773
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 772,
                      "endLine": 774
                    }
                  }
                ],
                "attributes": {
                  "startLine": 771,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Strip profiles.\n",
                      "line": 770,
                      "filePos": 22703,
                      "tokenPos": 4337,
                      "endLine": 771,
                      "endFilePos": 22721,
                      "endTokenPos": 4337
                    }
                  ],
                  "endLine": 775
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 776,
                      "endLine": 776
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 776,
                    "endLine": 776
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 777,
                          "endLine": 777
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_strip_meta_error",
                            "attributes": {
                              "startLine": 777,
                              "endLine": 777,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 777,
                            "endLine": 777
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 777,
                                "endLine": 777
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 777,
                                "endLine": 777
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 777,
                              "endLine": 777
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 777,
                            "endLine": 777
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 777,
                        "endLine": 777
                      }
                    },
                    "attributes": {
                      "startLine": 777,
                      "endLine": 777
                    }
                  }
                ],
                "attributes": {
                  "startLine": 776,
                  "endLine": 778
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 769,
              "endLine": 778
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 780,
                  "endLine": 780
                }
              },
              "attributes": {
                "startLine": 780,
                "endLine": 780
              }
            },
            "attributes": {
              "startLine": 780,
              "endLine": 780
            }
          }
        ],
        "attributes": {
          "startLine": 740,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Strips all image meta except color profiles from an image.\n\t *\n\t * @since 4.5.0\n\t *\n\t * @return true|WP_Error True if stripping metadata was successful. WP_Error object on error.\n\t */",
              "line": 733,
              "filePos": 21557,
              "tokenPos": 4176,
              "endLine": 739,
              "endFilePos": 21747,
              "endTokenPos": 4176
            }
          ],
          "endLine": 781
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "pdf_setup",
          "attributes": {
            "startLine": 791,
            "endLine": 791
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_TryCatch",
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 795,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// By default, PDFs are rendered in a very low resolution.\n",
                            "line": 793,
                            "filePos": 23281,
                            "tokenPos": 4466,
                            "endLine": 794,
                            "endFilePos": 23339,
                            "endTokenPos": 4466
                          },
                          {
                            "nodeType": "Comment",
                            "text": "// We want the thumbnail to be readable, so increase the rendering DPI.\n",
                            "line": 794,
                            "filePos": 23343,
                            "tokenPos": 4468,
                            "endLine": 795,
                            "endFilePos": 23414,
                            "endTokenPos": 4468
                          }
                        ],
                        "endLine": 795
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 795,
                        "endLine": 795
                      }
                    },
                    "attributes": {
                      "startLine": 795,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// By default, PDFs are rendered in a very low resolution.\n",
                          "line": 793,
                          "filePos": 23281,
                          "tokenPos": 4466,
                          "endLine": 794,
                          "endFilePos": 23339,
                          "endTokenPos": 4466
                        },
                        {
                          "nodeType": "Comment",
                          "text": "// We want the thumbnail to be readable, so increase the rendering DPI.\n",
                          "line": 794,
                          "filePos": 23343,
                          "tokenPos": 4468,
                          "endLine": 795,
                          "endFilePos": 23414,
                          "endTokenPos": 4468
                        }
                      ],
                      "endLine": 795
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setResolution",
                    "attributes": {
                      "startLine": 795,
                      "endLine": 795
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 128,
                        "attributes": {
                          "startLine": 795,
                          "endLine": 795,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 795,
                        "endLine": 795
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 128,
                        "attributes": {
                          "startLine": 795,
                          "endLine": 795,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 795,
                        "endLine": 795
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 795,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// By default, PDFs are rendered in a very low resolution.\n",
                        "line": 793,
                        "filePos": 23281,
                        "tokenPos": 4466,
                        "endLine": 794,
                        "endFilePos": 23339,
                        "endTokenPos": 4466
                      },
                      {
                        "nodeType": "Comment",
                        "text": "// We want the thumbnail to be readable, so increase the rendering DPI.\n",
                        "line": 794,
                        "filePos": 23343,
                        "tokenPos": 4468,
                        "endLine": 795,
                        "endFilePos": 23414,
                        "endTokenPos": 4468
                      }
                    ],
                    "endLine": 795
                  }
                },
                "attributes": {
                  "startLine": 795,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// By default, PDFs are rendered in a very low resolution.\n",
                      "line": 793,
                      "filePos": 23281,
                      "tokenPos": 4466,
                      "endLine": 794,
                      "endFilePos": 23339,
                      "endTokenPos": 4466
                    },
                    {
                      "nodeType": "Comment",
                      "text": "// We want the thumbnail to be readable, so increase the rendering DPI.\n",
                      "line": 794,
                      "filePos": 23343,
                      "tokenPos": 4468,
                      "endLine": 795,
                      "endFilePos": 23414,
                      "endTokenPos": 4468
                    }
                  ],
                  "endLine": 795
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 799,
                        "comments": [
                          {
                            "nodeType": "Comment",
                            "text": "// When generating thumbnails from cropped PDF pages, Imagemagick uses the uncropped\n",
                            "line": 797,
                            "filePos": 23463,
                            "tokenPos": 4485,
                            "endLine": 798,
                            "endFilePos": 23547,
                            "endTokenPos": 4485
                          },
                          {
                            "nodeType": "Comment",
                            "text": "// area (resulting in unnecessary whitespace) unless the following option is set.\n",
                            "line": 798,
                            "filePos": 23551,
                            "tokenPos": 4487,
                            "endLine": 799,
                            "endFilePos": 23632,
                            "endTokenPos": 4487
                          }
                        ],
                        "endLine": 799
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 799,
                        "endLine": 799
                      }
                    },
                    "attributes": {
                      "startLine": 799,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// When generating thumbnails from cropped PDF pages, Imagemagick uses the uncropped\n",
                          "line": 797,
                          "filePos": 23463,
                          "tokenPos": 4485,
                          "endLine": 798,
                          "endFilePos": 23547,
                          "endTokenPos": 4485
                        },
                        {
                          "nodeType": "Comment",
                          "text": "// area (resulting in unnecessary whitespace) unless the following option is set.\n",
                          "line": 798,
                          "filePos": 23551,
                          "tokenPos": 4487,
                          "endLine": 799,
                          "endFilePos": 23632,
                          "endTokenPos": 4487
                        }
                      ],
                      "endLine": 799
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "setOption",
                    "attributes": {
                      "startLine": 799,
                      "endLine": 799
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "pdf:use-cropbox",
                        "attributes": {
                          "startLine": 799,
                          "endLine": 799,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 799,
                        "endLine": 799
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "true"
                          ],
                          "attributes": {
                            "startLine": 799,
                            "endLine": 799
                          }
                        },
                        "attributes": {
                          "startLine": 799,
                          "endLine": 799
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 799,
                        "endLine": 799
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 799,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// When generating thumbnails from cropped PDF pages, Imagemagick uses the uncropped\n",
                        "line": 797,
                        "filePos": 23463,
                        "tokenPos": 4485,
                        "endLine": 798,
                        "endFilePos": 23547,
                        "endTokenPos": 4485
                      },
                      {
                        "nodeType": "Comment",
                        "text": "// area (resulting in unnecessary whitespace) unless the following option is set.\n",
                        "line": 798,
                        "filePos": 23551,
                        "tokenPos": 4487,
                        "endLine": 799,
                        "endFilePos": 23632,
                        "endTokenPos": 4487
                      }
                    ],
                    "endLine": 799
                  }
                },
                "attributes": {
                  "startLine": 799,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// When generating thumbnails from cropped PDF pages, Imagemagick uses the uncropped\n",
                      "line": 797,
                      "filePos": 23463,
                      "tokenPos": 4485,
                      "endLine": 798,
                      "endFilePos": 23547,
                      "endTokenPos": 4485
                    },
                    {
                      "nodeType": "Comment",
                      "text": "// area (resulting in unnecessary whitespace) unless the following option is set.\n",
                      "line": 798,
                      "filePos": 23551,
                      "tokenPos": 4487,
                      "endLine": 799,
                      "endFilePos": 23632,
                      "endTokenPos": 4487
                    }
                  ],
                  "endLine": 799
                }
              },
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_BinaryOp_Concat",
                  "left": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 802,
                        "endLine": 802
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 802,
                        "endLine": 802
                      }
                    },
                    "attributes": {
                      "startLine": 802,
                      "endLine": 802
                    }
                  },
                  "right": {
                    "nodeType": "Scalar_String",
                    "value": "[0]",
                    "attributes": {
                      "startLine": 802,
                      "endLine": 802,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 802,
                    "endLine": 802
                  }
                },
                "attributes": {
                  "startLine": 802,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Only load the first page.\n",
                      "line": 801,
                      "filePos": 23692,
                      "tokenPos": 4504,
                      "endLine": 802,
                      "endFilePos": 23720,
                      "endTokenPos": 4504
                    }
                  ],
                  "endLine": 802
                }
              }
            ],
            "catches": [
              {
                "nodeType": "Stmt_Catch",
                "types": [
                  {
                    "nodeType": "Name",
                    "parts": [
                      "Exception"
                    ],
                    "attributes": {
                      "startLine": 803,
                      "endLine": 803
                    }
                  }
                ],
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "e",
                  "attributes": {
                    "startLine": 803,
                    "endLine": 803
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 804,
                          "endLine": 804
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "pdf_setup_failed",
                            "attributes": {
                              "startLine": 804,
                              "endLine": 804,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 804,
                            "endLine": 804
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "e",
                              "attributes": {
                                "startLine": 804,
                                "endLine": 804
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "getMessage",
                              "attributes": {
                                "startLine": 804,
                                "endLine": 804
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 804,
                              "endLine": 804
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 804,
                            "endLine": 804
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 804,
                                "endLine": 804
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "file",
                              "attributes": {
                                "startLine": 804,
                                "endLine": 804
                              }
                            },
                            "attributes": {
                              "startLine": 804,
                              "endLine": 804
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 804,
                            "endLine": 804
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 804,
                        "endLine": 804
                      }
                    },
                    "attributes": {
                      "startLine": 804,
                      "endLine": 804
                    }
                  }
                ],
                "attributes": {
                  "startLine": 803,
                  "endLine": 805
                }
              }
            ],
            "finally": null,
            "attributes": {
              "startLine": 792,
              "endLine": 805
            }
          }
        ],
        "attributes": {
          "startLine": 791,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Sets up Imagick for PDF processing.\n\t * Increases rendering DPI and only loads first page.\n\t *\n\t * @since 4.7.0\n\t *\n\t * @return string|WP_Error File to load or WP_Error on failure.\n\t */",
              "line": 783,
              "filePos": 23042,
              "tokenPos": 4450,
              "endLine": 790,
              "endFilePos": 23234,
              "endTokenPos": 4450
            }
          ],
          "endLine": 806
        }
      }
    ],
    "attributes": {
      "startLine": 16,
      "comments": [
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * WordPress Imagick Image Editor\n *\n * @package WordPress\n * @subpackage Image_Editor\n */",
          "line": 2,
          "filePos": 6,
          "tokenPos": 1,
          "endLine": 7,
          "endFilePos": 99,
          "endTokenPos": 1
        },
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * WordPress Image Editor Class for Image Manipulation through Imagick PHP Module\n *\n * @since 3.5.0\n *\n * @see WP_Image_Editor\n */",
          "line": 9,
          "filePos": 102,
          "tokenPos": 3,
          "endLine": 15,
          "endFilePos": 236,
          "endTokenPos": 3
        }
      ],
      "endLine": 808
    }
  }
]