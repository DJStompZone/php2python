[
  {
    "nodeType": "Stmt_Class",
    "flags": 0,
    "extends": {
      "nodeType": "Name",
      "parts": [
        "WP_Image_Editor"
      ],
      "attributes": {
        "startLine": 16,
        "endLine": 16
      }
    },
    "implements": [],
    "name": {
      "nodeType": "Identifier",
      "name": "WP_Image_Editor_GD",
      "attributes": {
        "startLine": 16,
        "endLine": 16
      }
    },
    "stmts": [
      {
        "nodeType": "Stmt_Property",
        "flags": 2,
        "props": [
          {
            "nodeType": "Stmt_PropertyProperty",
            "name": {
              "nodeType": "VarLikeIdentifier",
              "name": "image",
              "attributes": {
                "startLine": 22,
                "endLine": 22
              }
            },
            "default": null,
            "attributes": {
              "startLine": 22,
              "endLine": 22
            }
          }
        ],
        "type": null,
        "attributes": {
          "startLine": 22,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * GD Resource.\n\t *\n\t * @var resource\n\t */",
              "line": 17,
              "filePos": 269,
              "tokenPos": 15,
              "endLine": 21,
              "endFilePos": 315,
              "endTokenPos": 15
            }
          ],
          "endLine": 22
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "__destruct",
          "attributes": {
            "startLine": 24,
            "endLine": 24
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_PropertyFetch",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 25,
                  "endLine": 25
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "image",
                "attributes": {
                  "startLine": 25,
                  "endLine": 25
                }
              },
              "attributes": {
                "startLine": 25,
                "endLine": 25
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagedestroy"
                    ],
                    "attributes": {
                      "startLine": 27,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// We don't need the original in memory anymore.\n",
                          "line": 26,
                          "filePos": 396,
                          "tokenPos": 44,
                          "endLine": 27,
                          "endFilePos": 444,
                          "endTokenPos": 44
                        }
                      ],
                      "endLine": 27
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 27,
                            "endLine": 27
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 27,
                            "endLine": 27
                          }
                        },
                        "attributes": {
                          "startLine": 27,
                          "endLine": 27
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 27,
                        "endLine": 27
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 27,
                    "comments": [
                      {
                        "nodeType": "Comment",
                        "text": "// We don't need the original in memory anymore.\n",
                        "line": 26,
                        "filePos": 396,
                        "tokenPos": 44,
                        "endLine": 27,
                        "endFilePos": 444,
                        "endTokenPos": 44
                      }
                    ],
                    "endLine": 27
                  }
                },
                "attributes": {
                  "startLine": 27,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// We don't need the original in memory anymore.\n",
                      "line": 26,
                      "filePos": 396,
                      "tokenPos": 44,
                      "endLine": 27,
                      "endFilePos": 444,
                      "endTokenPos": 44
                    }
                  ],
                  "endLine": 27
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 25,
              "endLine": 28
            }
          }
        ],
        "attributes": {
          "startLine": 24,
          "endLine": 29
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 9,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "test",
          "attributes": {
            "startLine": 39,
            "endLine": 39
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "args",
              "attributes": {
                "startLine": 39,
                "endLine": 39
              }
            },
            "default": {
              "nodeType": "Expr_Array",
              "items": [],
              "attributes": {
                "startLine": 39,
                "endLine": 39,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 39,
              "endLine": 39
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanOr",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "extension_loaded"
                    ],
                    "attributes": {
                      "startLine": 40,
                      "endLine": 40
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "gd",
                        "attributes": {
                          "startLine": 40,
                          "endLine": 40,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 40,
                        "endLine": 40
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 40,
                    "endLine": 40
                  }
                },
                "attributes": {
                  "startLine": 40,
                  "endLine": 40
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "function_exists"
                    ],
                    "attributes": {
                      "startLine": 40,
                      "endLine": 40
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "gd_info",
                        "attributes": {
                          "startLine": 40,
                          "endLine": 40,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 40,
                        "endLine": 40
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 40,
                    "endLine": 40
                  }
                },
                "attributes": {
                  "startLine": 40,
                  "endLine": 40
                }
              },
              "attributes": {
                "startLine": 40,
                "endLine": 40
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 41,
                      "endLine": 41
                    }
                  },
                  "attributes": {
                    "startLine": 41,
                    "endLine": 41
                  }
                },
                "attributes": {
                  "startLine": 41,
                  "endLine": 41
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 40,
              "endLine": 42
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BinaryOp_BooleanAnd",
                "left": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "args",
                        "attributes": {
                          "startLine": 45,
                          "endLine": 45
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "methods",
                        "attributes": {
                          "startLine": 45,
                          "endLine": 45,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 45,
                        "endLine": 45
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 45,
                    "endLine": 45
                  }
                },
                "right": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "in_array"
                    ],
                    "attributes": {
                      "startLine": 46,
                      "endLine": 46
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "rotate",
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "args",
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46
                          }
                        },
                        "dim": {
                          "nodeType": "Scalar_String",
                          "value": "methods",
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46,
                            "kind": 1
                          }
                        },
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "true"
                          ],
                          "attributes": {
                            "startLine": 46,
                            "endLine": 46
                          }
                        },
                        "attributes": {
                          "startLine": 46,
                          "endLine": 46
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 46,
                        "endLine": 46
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 46,
                    "endLine": 46
                  }
                },
                "attributes": {
                  "startLine": 45,
                  "endLine": 46
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "function_exists"
                    ],
                    "attributes": {
                      "startLine": 47,
                      "endLine": 47
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "imagerotate",
                        "attributes": {
                          "startLine": 47,
                          "endLine": 47,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 47,
                        "endLine": 47
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 47,
                    "endLine": 47
                  }
                },
                "attributes": {
                  "startLine": 47,
                  "endLine": 47
                }
              },
              "attributes": {
                "startLine": 45,
                "endLine": 47
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "false"
                    ],
                    "attributes": {
                      "startLine": 49,
                      "endLine": 49
                    }
                  },
                  "attributes": {
                    "startLine": 49,
                    "endLine": 49
                  }
                },
                "attributes": {
                  "startLine": 49,
                  "endLine": 49
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 45,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// On some setups GD library does not provide imagerotate() - Ticket #11536.\n",
                  "line": 44,
                  "filePos": 761,
                  "tokenPos": 118,
                  "endLine": 45,
                  "endFilePos": 837,
                  "endTokenPos": 118
                }
              ],
              "endLine": 50
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "true"
                ],
                "attributes": {
                  "startLine": 52,
                  "endLine": 52
                }
              },
              "attributes": {
                "startLine": 52,
                "endLine": 52
              }
            },
            "attributes": {
              "startLine": 52,
              "endLine": 52
            }
          }
        ],
        "attributes": {
          "startLine": 39,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Checks to see if current environment supports GD.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param array $args\n\t * @return bool\n\t */",
              "line": 31,
              "filePos": 487,
              "tokenPos": 60,
              "endLine": 38,
              "endFilePos": 613,
              "endTokenPos": 60
            }
          ],
          "endLine": 53
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 9,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "supports_mime_type",
          "attributes": {
            "startLine": 63,
            "endLine": 63
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 63,
                "endLine": 63
              }
            },
            "default": null,
            "attributes": {
              "startLine": 63,
              "endLine": 63
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "image_types",
                "attributes": {
                  "startLine": 64,
                  "endLine": 64
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "imagetypes"
                  ],
                  "attributes": {
                    "startLine": 64,
                    "endLine": 64
                  }
                },
                "args": [],
                "attributes": {
                  "startLine": 64,
                  "endLine": 64
                }
              },
              "attributes": {
                "startLine": 64,
                "endLine": 64
              }
            },
            "attributes": {
              "startLine": 64,
              "endLine": 64
            }
          },
          {
            "nodeType": "Stmt_Switch",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 65,
                "endLine": 65
              }
            },
            "cases": [
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "image/jpeg",
                  "attributes": {
                    "startLine": 66,
                    "endLine": 66,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_BinaryOp_NotEqual",
                      "left": {
                        "nodeType": "Expr_BinaryOp_BitwiseAnd",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "image_types",
                          "attributes": {
                            "startLine": 67,
                            "endLine": 67
                          }
                        },
                        "right": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "IMG_JPG"
                            ],
                            "attributes": {
                              "startLine": 67,
                              "endLine": 67
                            }
                          },
                          "attributes": {
                            "startLine": 67,
                            "endLine": 67
                          }
                        },
                        "attributes": {
                          "startLine": 67,
                          "endLine": 67
                        }
                      },
                      "right": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 67,
                          "endLine": 67,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 67,
                        "endLine": 67
                      }
                    },
                    "attributes": {
                      "startLine": 67,
                      "endLine": 67
                    }
                  }
                ],
                "attributes": {
                  "startLine": 66,
                  "endLine": 67
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "image/png",
                  "attributes": {
                    "startLine": 68,
                    "endLine": 68,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_BinaryOp_NotEqual",
                      "left": {
                        "nodeType": "Expr_BinaryOp_BitwiseAnd",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "image_types",
                          "attributes": {
                            "startLine": 69,
                            "endLine": 69
                          }
                        },
                        "right": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "IMG_PNG"
                            ],
                            "attributes": {
                              "startLine": 69,
                              "endLine": 69
                            }
                          },
                          "attributes": {
                            "startLine": 69,
                            "endLine": 69
                          }
                        },
                        "attributes": {
                          "startLine": 69,
                          "endLine": 69
                        }
                      },
                      "right": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 69,
                          "endLine": 69,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 69,
                        "endLine": 69
                      }
                    },
                    "attributes": {
                      "startLine": 69,
                      "endLine": 69
                    }
                  }
                ],
                "attributes": {
                  "startLine": 68,
                  "endLine": 69
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "image/gif",
                  "attributes": {
                    "startLine": 70,
                    "endLine": 70,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_BinaryOp_NotEqual",
                      "left": {
                        "nodeType": "Expr_BinaryOp_BitwiseAnd",
                        "left": {
                          "nodeType": "Expr_Variable",
                          "name": "image_types",
                          "attributes": {
                            "startLine": 71,
                            "endLine": 71
                          }
                        },
                        "right": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "IMG_GIF"
                            ],
                            "attributes": {
                              "startLine": 71,
                              "endLine": 71
                            }
                          },
                          "attributes": {
                            "startLine": 71,
                            "endLine": 71
                          }
                        },
                        "attributes": {
                          "startLine": 71,
                          "endLine": 71
                        }
                      },
                      "right": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 71,
                          "endLine": 71,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 71,
                        "endLine": 71
                      }
                    },
                    "attributes": {
                      "startLine": 71,
                      "endLine": 71
                    }
                  }
                ],
                "attributes": {
                  "startLine": 70,
                  "endLine": 71
                }
              }
            ],
            "attributes": {
              "startLine": 65,
              "endLine": 72
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 74,
                  "endLine": 74
                }
              },
              "attributes": {
                "startLine": 74,
                "endLine": 74
              }
            },
            "attributes": {
              "startLine": 74,
              "endLine": 74
            }
          }
        ],
        "attributes": {
          "startLine": 63,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Checks to see if editor supports the mime-type specified.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $mime_type\n\t * @return bool\n\t */",
              "line": 55,
              "filePos": 1011,
              "tokenPos": 181,
              "endLine": 62,
              "endFilePos": 1151,
              "endTokenPos": 181
            }
          ],
          "endLine": 75
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "load",
          "attributes": {
            "startLine": 84,
            "endLine": 84
          }
        },
        "params": [],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_PropertyFetch",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 85,
                  "endLine": 85
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "image",
                "attributes": {
                  "startLine": 85,
                  "endLine": 85
                }
              },
              "attributes": {
                "startLine": 85,
                "endLine": 85
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 86,
                      "endLine": 86
                    }
                  },
                  "attributes": {
                    "startLine": 86,
                    "endLine": 86
                  }
                },
                "attributes": {
                  "startLine": 86,
                  "endLine": 86
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 85,
              "endLine": 87
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_file"
                    ],
                    "attributes": {
                      "startLine": 89,
                      "endLine": 89
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 89,
                            "endLine": 89
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 89,
                            "endLine": 89
                          }
                        },
                        "attributes": {
                          "startLine": 89,
                          "endLine": 89
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 89,
                        "endLine": 89
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 89,
                    "endLine": 89
                  }
                },
                "attributes": {
                  "startLine": 89,
                  "endLine": 89
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "preg_match"
                    ],
                    "attributes": {
                      "startLine": 89,
                      "endLine": 89
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "|^https?://|",
                        "attributes": {
                          "startLine": 89,
                          "endLine": 89,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 89,
                        "endLine": 89
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 89,
                            "endLine": 89
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 89,
                            "endLine": 89
                          }
                        },
                        "attributes": {
                          "startLine": 89,
                          "endLine": 89
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 89,
                        "endLine": 89
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 89,
                    "endLine": 89
                  }
                },
                "attributes": {
                  "startLine": 89,
                  "endLine": 89
                }
              },
              "attributes": {
                "startLine": 89,
                "endLine": 89
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 90,
                      "endLine": 90
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "error_loading_image",
                        "attributes": {
                          "startLine": 90,
                          "endLine": 90,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 90,
                        "endLine": 90
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 90,
                            "endLine": 90
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "File doesn&#8217;t exist?",
                              "attributes": {
                                "startLine": 90,
                                "endLine": 90,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 90,
                              "endLine": 90
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 90,
                          "endLine": 90
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 90,
                        "endLine": 90
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 90,
                            "endLine": 90
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 90,
                            "endLine": 90
                          }
                        },
                        "attributes": {
                          "startLine": 90,
                          "endLine": 90
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 90,
                        "endLine": 90
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 90,
                    "endLine": 90
                  }
                },
                "attributes": {
                  "startLine": 90,
                  "endLine": 90
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 89,
              "endLine": 91
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "wp_raise_memory_limit"
                ],
                "attributes": {
                  "startLine": 94,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Set artificially high because GD uses uncompressed images in memory.\n",
                      "line": 93,
                      "filePos": 1914,
                      "tokenPos": 385,
                      "endLine": 94,
                      "endFilePos": 1985,
                      "endTokenPos": 385
                    }
                  ],
                  "endLine": 94
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image",
                    "attributes": {
                      "startLine": 94,
                      "endLine": 94,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 94,
                    "endLine": 94
                  }
                }
              ],
              "attributes": {
                "startLine": 94,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// Set artificially high because GD uses uncompressed images in memory.\n",
                    "line": 93,
                    "filePos": 1914,
                    "tokenPos": 385,
                    "endLine": 94,
                    "endFilePos": 1985,
                    "endTokenPos": 385
                  }
                ],
                "endLine": 94
              }
            },
            "attributes": {
              "startLine": 94,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Set artificially high because GD uses uncompressed images in memory.\n",
                  "line": 93,
                  "filePos": 1914,
                  "tokenPos": 385,
                  "endLine": 94,
                  "endFilePos": 1985,
                  "endTokenPos": 385
                }
              ],
              "endLine": 94
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 96,
                    "endLine": 96
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "image",
                  "attributes": {
                    "startLine": 96,
                    "endLine": 96
                  }
                },
                "attributes": {
                  "startLine": 96,
                  "endLine": 96
                }
              },
              "expr": {
                "nodeType": "Expr_ErrorSuppress",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagecreatefromstring"
                    ],
                    "attributes": {
                      "startLine": 96,
                      "endLine": 96
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "file_get_contents"
                          ],
                          "attributes": {
                            "startLine": 96,
                            "endLine": 96
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_PropertyFetch",
                              "var": {
                                "nodeType": "Expr_Variable",
                                "name": "this",
                                "attributes": {
                                  "startLine": 96,
                                  "endLine": 96
                                }
                              },
                              "name": {
                                "nodeType": "Identifier",
                                "name": "file",
                                "attributes": {
                                  "startLine": 96,
                                  "endLine": 96
                                }
                              },
                              "attributes": {
                                "startLine": 96,
                                "endLine": 96
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 96,
                              "endLine": 96
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 96,
                          "endLine": 96
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 96,
                        "endLine": 96
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 96,
                    "endLine": 96
                  }
                },
                "attributes": {
                  "startLine": 96,
                  "endLine": 96
                }
              },
              "attributes": {
                "startLine": 96,
                "endLine": 96
              }
            },
            "attributes": {
              "startLine": 96,
              "endLine": 96
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_resource"
                  ],
                  "attributes": {
                    "startLine": 98,
                    "endLine": 98
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 98,
                          "endLine": 98
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 98,
                          "endLine": 98
                        }
                      },
                      "attributes": {
                        "startLine": 98,
                        "endLine": 98
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 98,
                      "endLine": 98
                    }
                  }
                ],
                "attributes": {
                  "startLine": 98,
                  "endLine": 98
                }
              },
              "attributes": {
                "startLine": 98,
                "endLine": 98
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 99,
                      "endLine": 99
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "invalid_image",
                        "attributes": {
                          "startLine": 99,
                          "endLine": 99,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 99,
                        "endLine": 99
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 99,
                            "endLine": 99
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "File is not an image.",
                              "attributes": {
                                "startLine": 99,
                                "endLine": 99,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 99,
                              "endLine": 99
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 99,
                          "endLine": 99
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 99,
                        "endLine": 99
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 99,
                            "endLine": 99
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 99,
                            "endLine": 99
                          }
                        },
                        "attributes": {
                          "startLine": 99,
                          "endLine": 99
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 99,
                        "endLine": 99
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 99,
                    "endLine": 99
                  }
                },
                "attributes": {
                  "startLine": 99,
                  "endLine": 99
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 98,
              "endLine": 100
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "size",
                "attributes": {
                  "startLine": 102,
                  "endLine": 102
                }
              },
              "expr": {
                "nodeType": "Expr_ErrorSuppress",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "getimagesize"
                    ],
                    "attributes": {
                      "startLine": 102,
                      "endLine": 102
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 102,
                            "endLine": 102
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 102,
                            "endLine": 102
                          }
                        },
                        "attributes": {
                          "startLine": 102,
                          "endLine": 102
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 102,
                        "endLine": 102
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 102,
                    "endLine": 102
                  }
                },
                "attributes": {
                  "startLine": 102,
                  "endLine": 102
                }
              },
              "attributes": {
                "startLine": 102,
                "endLine": 102
              }
            },
            "attributes": {
              "startLine": 102,
              "endLine": 102
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "size",
                "attributes": {
                  "startLine": 103,
                  "endLine": 103
                }
              },
              "attributes": {
                "startLine": 103,
                "endLine": 103
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 104,
                      "endLine": 104
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "invalid_image",
                        "attributes": {
                          "startLine": 104,
                          "endLine": 104,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 104,
                        "endLine": 104
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 104,
                            "endLine": 104
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "Could not read image size.",
                              "attributes": {
                                "startLine": 104,
                                "endLine": 104,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 104,
                              "endLine": 104
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 104,
                          "endLine": 104
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 104,
                        "endLine": 104
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 104,
                            "endLine": 104
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 104,
                            "endLine": 104
                          }
                        },
                        "attributes": {
                          "startLine": 104,
                          "endLine": 104
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 104,
                        "endLine": 104
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 104,
                    "endLine": 104
                  }
                },
                "attributes": {
                  "startLine": 104,
                  "endLine": 104
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 103,
              "endLine": 105
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "function_exists"
                  ],
                  "attributes": {
                    "startLine": 107,
                    "endLine": 107
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "imagealphablending",
                      "attributes": {
                        "startLine": 107,
                        "endLine": 107,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 107,
                      "endLine": 107
                    }
                  }
                ],
                "attributes": {
                  "startLine": 107,
                  "endLine": 107
                }
              },
              "right": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "function_exists"
                  ],
                  "attributes": {
                    "startLine": 107,
                    "endLine": 107
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Scalar_String",
                      "value": "imagesavealpha",
                      "attributes": {
                        "startLine": 107,
                        "endLine": 107,
                        "kind": 1
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 107,
                      "endLine": 107
                    }
                  }
                ],
                "attributes": {
                  "startLine": 107,
                  "endLine": 107
                }
              },
              "attributes": {
                "startLine": 107,
                "endLine": 107
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagealphablending"
                    ],
                    "attributes": {
                      "startLine": 108,
                      "endLine": 108
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 108,
                            "endLine": 108
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 108,
                            "endLine": 108
                          }
                        },
                        "attributes": {
                          "startLine": 108,
                          "endLine": 108
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 108,
                        "endLine": 108
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "false"
                          ],
                          "attributes": {
                            "startLine": 108,
                            "endLine": 108
                          }
                        },
                        "attributes": {
                          "startLine": 108,
                          "endLine": 108
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 108,
                        "endLine": 108
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 108,
                    "endLine": 108
                  }
                },
                "attributes": {
                  "startLine": 108,
                  "endLine": 108
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagesavealpha"
                    ],
                    "attributes": {
                      "startLine": 109,
                      "endLine": 109
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 109,
                            "endLine": 109
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 109,
                            "endLine": 109
                          }
                        },
                        "attributes": {
                          "startLine": 109,
                          "endLine": 109
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 109,
                        "endLine": 109
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "true"
                          ],
                          "attributes": {
                            "startLine": 109,
                            "endLine": 109
                          }
                        },
                        "attributes": {
                          "startLine": 109,
                          "endLine": 109
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 109,
                        "endLine": 109
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 109,
                    "endLine": 109
                  }
                },
                "attributes": {
                  "startLine": 109,
                  "endLine": 109
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 107,
              "endLine": 110
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_MethodCall",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 112,
                  "endLine": 112
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "update_size",
                "attributes": {
                  "startLine": 112,
                  "endLine": 112
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size",
                      "attributes": {
                        "startLine": 112,
                        "endLine": 112
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_LNumber",
                      "value": 0,
                      "attributes": {
                        "startLine": 112,
                        "endLine": 112,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 112,
                      "endLine": 112
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 112,
                    "endLine": 112
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size",
                      "attributes": {
                        "startLine": 112,
                        "endLine": 112
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 112,
                        "endLine": 112,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 112,
                      "endLine": 112
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 112,
                    "endLine": 112
                  }
                }
              ],
              "attributes": {
                "startLine": 112,
                "endLine": 112
              }
            },
            "attributes": {
              "startLine": 112,
              "endLine": 112
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 113,
                    "endLine": 113
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "mime_type",
                  "attributes": {
                    "startLine": 113,
                    "endLine": 113
                  }
                },
                "attributes": {
                  "startLine": 113,
                  "endLine": 113
                }
              },
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "size",
                  "attributes": {
                    "startLine": 113,
                    "endLine": 113
                  }
                },
                "dim": {
                  "nodeType": "Scalar_String",
                  "value": "mime",
                  "attributes": {
                    "startLine": 113,
                    "endLine": 113,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 113,
                  "endLine": 113
                }
              },
              "attributes": {
                "startLine": 113,
                "endLine": 113
              }
            },
            "attributes": {
              "startLine": 113,
              "endLine": 113
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_MethodCall",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "this",
                "attributes": {
                  "startLine": 115,
                  "endLine": 115
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "set_quality",
                "attributes": {
                  "startLine": 115,
                  "endLine": 115
                }
              },
              "args": [],
              "attributes": {
                "startLine": 115,
                "endLine": 115
              }
            },
            "attributes": {
              "startLine": 115,
              "endLine": 115
            }
          }
        ],
        "attributes": {
          "startLine": 84,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Loads image from $this->file into new GD Resource.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @return bool|WP_Error True if loaded successfully; WP_Error on failure.\n\t */",
              "line": 77,
              "filePos": 1491,
              "tokenPos": 292,
              "endLine": 83,
              "endFilePos": 1654,
              "endTokenPos": 292
            }
          ],
          "endLine": 116
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "update_size",
          "attributes": {
            "startLine": 127,
            "endLine": 127
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "width",
              "attributes": {
                "startLine": 127,
                "endLine": 127
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 127,
                  "endLine": 127
                }
              },
              "attributes": {
                "startLine": 127,
                "endLine": 127
              }
            },
            "attributes": {
              "startLine": 127,
              "endLine": 127
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "height",
              "attributes": {
                "startLine": 127,
                "endLine": 127
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 127,
                  "endLine": 127
                }
              },
              "attributes": {
                "startLine": 127,
                "endLine": 127
              }
            },
            "attributes": {
              "startLine": 127,
              "endLine": 127
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "width",
                "attributes": {
                  "startLine": 128,
                  "endLine": 128
                }
              },
              "attributes": {
                "startLine": 128,
                "endLine": 128
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "width",
                    "attributes": {
                      "startLine": 129,
                      "endLine": 129
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "imagesx"
                      ],
                      "attributes": {
                        "startLine": 129,
                        "endLine": 129
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 129,
                              "endLine": 129
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 129,
                              "endLine": 129
                            }
                          },
                          "attributes": {
                            "startLine": 129,
                            "endLine": 129
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 129,
                          "endLine": 129
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 129,
                      "endLine": 129
                    }
                  },
                  "attributes": {
                    "startLine": 129,
                    "endLine": 129
                  }
                },
                "attributes": {
                  "startLine": 129,
                  "endLine": 129
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 128,
              "endLine": 130
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "height",
                "attributes": {
                  "startLine": 132,
                  "endLine": 132
                }
              },
              "attributes": {
                "startLine": 132,
                "endLine": 132
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "height",
                    "attributes": {
                      "startLine": 133,
                      "endLine": 133
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "imagesy"
                      ],
                      "attributes": {
                        "startLine": 133,
                        "endLine": 133
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 133,
                              "endLine": 133
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 133,
                              "endLine": 133
                            }
                          },
                          "attributes": {
                            "startLine": 133,
                            "endLine": 133
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 133,
                          "endLine": 133
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 133,
                      "endLine": 133
                    }
                  },
                  "attributes": {
                    "startLine": 133,
                    "endLine": 133
                  }
                },
                "attributes": {
                  "startLine": 133,
                  "endLine": 133
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 132,
              "endLine": 134
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_StaticCall",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "parent"
                ],
                "attributes": {
                  "startLine": 136,
                  "endLine": 136
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "update_size",
                "attributes": {
                  "startLine": 136,
                  "endLine": 136
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "width",
                    "attributes": {
                      "startLine": 136,
                      "endLine": 136
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 136,
                    "endLine": 136
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "height",
                    "attributes": {
                      "startLine": 136,
                      "endLine": 136
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 136,
                    "endLine": 136
                  }
                }
              ],
              "attributes": {
                "startLine": 136,
                "endLine": 136
              }
            },
            "attributes": {
              "startLine": 136,
              "endLine": 136
            }
          }
        ],
        "attributes": {
          "startLine": 127,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Sets or updates current image size.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int $width\n\t * @param int $height\n\t * @return true\n\t */",
              "line": 118,
              "filePos": 2689,
              "tokenPos": 611,
              "endLine": 126,
              "endFilePos": 2823,
              "endTokenPos": 611
            }
          ],
          "endLine": 137
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "resize",
          "attributes": {
            "startLine": 154,
            "endLine": 154
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_w",
              "attributes": {
                "startLine": 154,
                "endLine": 154
              }
            },
            "default": null,
            "attributes": {
              "startLine": 154,
              "endLine": 154
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_h",
              "attributes": {
                "startLine": 154,
                "endLine": 154
              }
            },
            "default": null,
            "attributes": {
              "startLine": 154,
              "endLine": 154
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "crop",
              "attributes": {
                "startLine": 154,
                "endLine": 154
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 154,
                  "endLine": 154
                }
              },
              "attributes": {
                "startLine": 154,
                "endLine": 154
              }
            },
            "attributes": {
              "startLine": 154,
              "endLine": 154
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BinaryOp_Equal",
                "left": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 155,
                        "endLine": 155
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "size",
                      "attributes": {
                        "startLine": 155,
                        "endLine": 155
                      }
                    },
                    "attributes": {
                      "startLine": 155,
                      "endLine": 155
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "width",
                    "attributes": {
                      "startLine": 155,
                      "endLine": 155,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 155,
                    "endLine": 155
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "max_w",
                  "attributes": {
                    "startLine": 155,
                    "endLine": 155
                  }
                },
                "attributes": {
                  "startLine": 155,
                  "endLine": 155
                }
              },
              "right": {
                "nodeType": "Expr_BinaryOp_Equal",
                "left": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 155,
                        "endLine": 155
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "size",
                      "attributes": {
                        "startLine": 155,
                        "endLine": 155
                      }
                    },
                    "attributes": {
                      "startLine": 155,
                      "endLine": 155
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "height",
                    "attributes": {
                      "startLine": 155,
                      "endLine": 155,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 155,
                    "endLine": 155
                  }
                },
                "right": {
                  "nodeType": "Expr_Variable",
                  "name": "max_h",
                  "attributes": {
                    "startLine": 155,
                    "endLine": 155
                  }
                },
                "attributes": {
                  "startLine": 155,
                  "endLine": 155
                }
              },
              "attributes": {
                "startLine": 155,
                "endLine": 155
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 156,
                      "endLine": 156
                    }
                  },
                  "attributes": {
                    "startLine": 156,
                    "endLine": 156
                  }
                },
                "attributes": {
                  "startLine": 156,
                  "endLine": 156
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 155,
              "endLine": 157
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "resized",
                "attributes": {
                  "startLine": 159,
                  "endLine": 159
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "_resize",
                  "attributes": {
                    "startLine": 159,
                    "endLine": 159
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "max_w",
                      "attributes": {
                        "startLine": 159,
                        "endLine": 159
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 159,
                      "endLine": 159
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "max_h",
                      "attributes": {
                        "startLine": 159,
                        "endLine": 159
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 159,
                      "endLine": 159
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "crop",
                      "attributes": {
                        "startLine": 159,
                        "endLine": 159
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 159,
                      "endLine": 159
                    }
                  }
                ],
                "attributes": {
                  "startLine": 159,
                  "endLine": 159
                }
              },
              "attributes": {
                "startLine": 159,
                "endLine": 159
              }
            },
            "attributes": {
              "startLine": 159,
              "endLine": 159
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_resource"
                ],
                "attributes": {
                  "startLine": 161,
                  "endLine": 161
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 161,
                      "endLine": 161
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 161,
                    "endLine": 161
                  }
                }
              ],
              "attributes": {
                "startLine": 161,
                "endLine": 161
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagedestroy"
                    ],
                    "attributes": {
                      "startLine": 162,
                      "endLine": 162
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 162,
                            "endLine": 162
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 162,
                            "endLine": 162
                          }
                        },
                        "attributes": {
                          "startLine": 162,
                          "endLine": 162
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 162,
                        "endLine": 162
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 162,
                    "endLine": 162
                  }
                },
                "attributes": {
                  "startLine": 162,
                  "endLine": 162
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 163,
                        "endLine": 163
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 163,
                        "endLine": 163
                      }
                    },
                    "attributes": {
                      "startLine": 163,
                      "endLine": 163
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 163,
                      "endLine": 163
                    }
                  },
                  "attributes": {
                    "startLine": 163,
                    "endLine": 163
                  }
                },
                "attributes": {
                  "startLine": 163,
                  "endLine": 163
                }
              },
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 164,
                      "endLine": 164
                    }
                  },
                  "attributes": {
                    "startLine": 164,
                    "endLine": 164
                  }
                },
                "attributes": {
                  "startLine": 164,
                  "endLine": 164
                }
              }
            ],
            "elseifs": [
              {
                "nodeType": "Stmt_ElseIf",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_wp_error"
                    ],
                    "attributes": {
                      "startLine": 166,
                      "endLine": 166
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "resized",
                        "attributes": {
                          "startLine": 166,
                          "endLine": 166
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 166,
                        "endLine": 166
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 166,
                    "endLine": 166
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_Variable",
                      "name": "resized",
                      "attributes": {
                        "startLine": 167,
                        "endLine": 167
                      }
                    },
                    "attributes": {
                      "startLine": 167,
                      "endLine": 167
                    }
                  }
                ],
                "attributes": {
                  "startLine": 166,
                  "endLine": 168
                }
              }
            ],
            "else": null,
            "attributes": {
              "startLine": 161,
              "endLine": 168
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_New",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "WP_Error"
                ],
                "attributes": {
                  "startLine": 170,
                  "endLine": 170
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image_resize_error",
                    "attributes": {
                      "startLine": 170,
                      "endLine": 170,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 170,
                    "endLine": 170
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "__"
                      ],
                      "attributes": {
                        "startLine": 170,
                        "endLine": 170
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Image resize failed.",
                          "attributes": {
                            "startLine": 170,
                            "endLine": 170,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 170,
                          "endLine": 170
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 170,
                      "endLine": 170
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 170,
                    "endLine": 170
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 170,
                        "endLine": 170
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 170,
                        "endLine": 170
                      }
                    },
                    "attributes": {
                      "startLine": 170,
                      "endLine": 170
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 170,
                    "endLine": 170
                  }
                }
              ],
              "attributes": {
                "startLine": 170,
                "endLine": 170
              }
            },
            "attributes": {
              "startLine": 170,
              "endLine": 170
            }
          }
        ],
        "attributes": {
          "startLine": 154,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Resizes current image.\n\t * Wraps _resize, since _resize returns a GD Resource.\n\t *\n\t * At minimum, either a height or width must be provided.\n\t * If one of the two is set to null, the resize will\n\t * maintain aspect ratio according to the provided dimension.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param  int|null $max_w Image width.\n\t * @param  int|null $max_h Image height.\n\t * @param  bool     $crop\n\t * @return true|WP_Error\n\t */",
              "line": 139,
              "filePos": 3074,
              "tokenPos": 710,
              "endLine": 153,
              "endFilePos": 3505,
              "endTokenPos": 710
            }
          ],
          "endLine": 171
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "_resize",
          "attributes": {
            "startLine": 179,
            "endLine": 179
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_w",
              "attributes": {
                "startLine": 179,
                "endLine": 179
              }
            },
            "default": null,
            "attributes": {
              "startLine": 179,
              "endLine": 179
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "max_h",
              "attributes": {
                "startLine": 179,
                "endLine": 179
              }
            },
            "default": null,
            "attributes": {
              "startLine": 179,
              "endLine": 179
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "crop",
              "attributes": {
                "startLine": 179,
                "endLine": 179
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 179,
                  "endLine": 179
                }
              },
              "attributes": {
                "startLine": 179,
                "endLine": 179
              }
            },
            "attributes": {
              "startLine": 179,
              "endLine": 179
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "dims",
                "attributes": {
                  "startLine": 180,
                  "endLine": 180
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "image_resize_dimensions"
                  ],
                  "attributes": {
                    "startLine": 180,
                    "endLine": 180
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 180,
                            "endLine": 180
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "size",
                          "attributes": {
                            "startLine": 180,
                            "endLine": 180
                          }
                        },
                        "attributes": {
                          "startLine": 180,
                          "endLine": 180
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "width",
                        "attributes": {
                          "startLine": 180,
                          "endLine": 180,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 180,
                        "endLine": 180
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 180,
                      "endLine": 180
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 180,
                            "endLine": 180
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "size",
                          "attributes": {
                            "startLine": 180,
                            "endLine": 180
                          }
                        },
                        "attributes": {
                          "startLine": 180,
                          "endLine": 180
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "height",
                        "attributes": {
                          "startLine": 180,
                          "endLine": 180,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 180,
                        "endLine": 180
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 180,
                      "endLine": 180
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "max_w",
                      "attributes": {
                        "startLine": 180,
                        "endLine": 180
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 180,
                      "endLine": 180
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "max_h",
                      "attributes": {
                        "startLine": 180,
                        "endLine": 180
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 180,
                      "endLine": 180
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "crop",
                      "attributes": {
                        "startLine": 180,
                        "endLine": 180
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 180,
                      "endLine": 180
                    }
                  }
                ],
                "attributes": {
                  "startLine": 180,
                  "endLine": 180
                }
              },
              "attributes": {
                "startLine": 180,
                "endLine": 180
              }
            },
            "attributes": {
              "startLine": 180,
              "endLine": 180
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "dims",
                "attributes": {
                  "startLine": 182,
                  "endLine": 182
                }
              },
              "attributes": {
                "startLine": 182,
                "endLine": 182
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 183,
                      "endLine": 183
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "error_getting_dimensions",
                        "attributes": {
                          "startLine": 183,
                          "endLine": 183,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 183,
                        "endLine": 183
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 183,
                            "endLine": 183
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "Could not calculate resized image dimensions",
                              "attributes": {
                                "startLine": 183,
                                "endLine": 183,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 183,
                              "endLine": 183
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 183,
                          "endLine": 183
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 183,
                        "endLine": 183
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 183,
                            "endLine": 183
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "file",
                          "attributes": {
                            "startLine": 183,
                            "endLine": 183
                          }
                        },
                        "attributes": {
                          "startLine": 183,
                          "endLine": 183
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 183,
                        "endLine": 183
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 183,
                    "endLine": 183
                  }
                },
                "attributes": {
                  "startLine": 183,
                  "endLine": 183
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 182,
              "endLine": 184
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_x",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_y",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_x",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_y",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_w",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_h",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_w",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "src_h",
                      "attributes": {
                        "startLine": 186,
                        "endLine": 186
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 186,
                      "endLine": 186
                    }
                  }
                ],
                "attributes": {
                  "startLine": 186,
                  "endLine": 186
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "dims",
                "attributes": {
                  "startLine": 186,
                  "endLine": 186
                }
              },
              "attributes": {
                "startLine": 186,
                "endLine": 186
              }
            },
            "attributes": {
              "startLine": 186,
              "endLine": 186
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "resized",
                "attributes": {
                  "startLine": 188,
                  "endLine": 188
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "wp_imagecreatetruecolor"
                  ],
                  "attributes": {
                    "startLine": 188,
                    "endLine": 188
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_w",
                      "attributes": {
                        "startLine": 188,
                        "endLine": 188
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 188,
                      "endLine": 188
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_h",
                      "attributes": {
                        "startLine": 188,
                        "endLine": 188
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 188,
                      "endLine": 188
                    }
                  }
                ],
                "attributes": {
                  "startLine": 188,
                  "endLine": 188
                }
              },
              "attributes": {
                "startLine": 188,
                "endLine": 188
              }
            },
            "attributes": {
              "startLine": 188,
              "endLine": 188
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "imagecopyresampled"
                ],
                "attributes": {
                  "startLine": 189,
                  "endLine": 189
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 189,
                        "endLine": 189
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 189,
                        "endLine": 189
                      }
                    },
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_x",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_y",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_x",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_y",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_w",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_h",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_w",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_h",
                    "attributes": {
                      "startLine": 189,
                      "endLine": 189
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 189,
                    "endLine": 189
                  }
                }
              ],
              "attributes": {
                "startLine": 189,
                "endLine": 189
              }
            },
            "attributes": {
              "startLine": 189,
              "endLine": 189
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_resource"
                ],
                "attributes": {
                  "startLine": 191,
                  "endLine": 191
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 191,
                      "endLine": 191
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 191,
                    "endLine": 191
                  }
                }
              ],
              "attributes": {
                "startLine": 191,
                "endLine": 191
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 192,
                      "endLine": 192
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "update_size",
                    "attributes": {
                      "startLine": 192,
                      "endLine": 192
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "dst_w",
                        "attributes": {
                          "startLine": 192,
                          "endLine": 192
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 192,
                        "endLine": 192
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "dst_h",
                        "attributes": {
                          "startLine": 192,
                          "endLine": 192
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 192,
                        "endLine": 192
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 192,
                    "endLine": 192
                  }
                },
                "attributes": {
                  "startLine": 192,
                  "endLine": 192
                }
              },
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_Variable",
                  "name": "resized",
                  "attributes": {
                    "startLine": 193,
                    "endLine": 193
                  }
                },
                "attributes": {
                  "startLine": 193,
                  "endLine": 193
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 191,
              "endLine": 194
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_New",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "WP_Error"
                ],
                "attributes": {
                  "startLine": 196,
                  "endLine": 196
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image_resize_error",
                    "attributes": {
                      "startLine": 196,
                      "endLine": 196,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 196,
                    "endLine": 196
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "__"
                      ],
                      "attributes": {
                        "startLine": 196,
                        "endLine": 196
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Image resize failed.",
                          "attributes": {
                            "startLine": 196,
                            "endLine": 196,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 196,
                          "endLine": 196
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 196,
                      "endLine": 196
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 196,
                    "endLine": 196
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 196,
                        "endLine": 196
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 196,
                        "endLine": 196
                      }
                    },
                    "attributes": {
                      "startLine": 196,
                      "endLine": 196
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 196,
                    "endLine": 196
                  }
                }
              ],
              "attributes": {
                "startLine": 196,
                "endLine": 196
              }
            },
            "attributes": {
              "startLine": 196,
              "endLine": 196
            }
          }
        ],
        "attributes": {
          "startLine": 179,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * @param int $max_w\n\t * @param int $max_h\n\t * @param bool|array $crop\n\t * @return resource|WP_Error\n\t */",
              "line": 173,
              "filePos": 4001,
              "tokenPos": 892,
              "endLine": 178,
              "endFilePos": 4110,
              "endTokenPos": 892
            }
          ],
          "endLine": 197
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "multi_resize",
          "attributes": {
            "startLine": 229,
            "endLine": 229
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "sizes",
              "attributes": {
                "startLine": 229,
                "endLine": 229
              }
            },
            "default": null,
            "attributes": {
              "startLine": 229,
              "endLine": 229
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "metadata",
                "attributes": {
                  "startLine": 230,
                  "endLine": 230
                }
              },
              "expr": {
                "nodeType": "Expr_Array",
                "items": [],
                "attributes": {
                  "startLine": 230,
                  "endLine": 230,
                  "kind": 1
                }
              },
              "attributes": {
                "startLine": 230,
                "endLine": 230
              }
            },
            "attributes": {
              "startLine": 230,
              "endLine": 230
            }
          },
          {
            "nodeType": "Stmt_Foreach",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "sizes",
              "attributes": {
                "startLine": 232,
                "endLine": 232
              }
            },
            "keyVar": {
              "nodeType": "Expr_Variable",
              "name": "size",
              "attributes": {
                "startLine": 232,
                "endLine": 232
              }
            },
            "byRef": false,
            "valueVar": {
              "nodeType": "Expr_Variable",
              "name": "size_data",
              "attributes": {
                "startLine": 232,
                "endLine": 232
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "meta",
                    "attributes": {
                      "startLine": 233,
                      "endLine": 233
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 233,
                        "endLine": 233
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "make_subsize",
                      "attributes": {
                        "startLine": 233,
                        "endLine": 233
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "size_data",
                          "attributes": {
                            "startLine": 233,
                            "endLine": 233
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 233,
                          "endLine": 233
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 233,
                      "endLine": 233
                    }
                  },
                  "attributes": {
                    "startLine": 233,
                    "endLine": 233
                  }
                },
                "attributes": {
                  "startLine": 233,
                  "endLine": 233
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "is_wp_error"
                      ],
                      "attributes": {
                        "startLine": 235,
                        "endLine": 235
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "meta",
                          "attributes": {
                            "startLine": 235,
                            "endLine": 235
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 235,
                          "endLine": 235
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 235,
                      "endLine": 235
                    }
                  },
                  "attributes": {
                    "startLine": 235,
                    "endLine": 235
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_ArrayDimFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "metadata",
                          "attributes": {
                            "startLine": 236,
                            "endLine": 236
                          }
                        },
                        "dim": {
                          "nodeType": "Expr_Variable",
                          "name": "size",
                          "attributes": {
                            "startLine": 236,
                            "endLine": 236
                          }
                        },
                        "attributes": {
                          "startLine": 236,
                          "endLine": 236
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "meta",
                        "attributes": {
                          "startLine": 236,
                          "endLine": 236
                        }
                      },
                      "attributes": {
                        "startLine": 236,
                        "endLine": 236
                      }
                    },
                    "attributes": {
                      "startLine": 236,
                      "endLine": 236
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 235,
                  "endLine": 237
                }
              }
            ],
            "attributes": {
              "startLine": 232,
              "endLine": 238
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "metadata",
              "attributes": {
                "startLine": 240,
                "endLine": 240
              }
            },
            "attributes": {
              "startLine": 240,
              "endLine": 240
            }
          }
        ],
        "attributes": {
          "startLine": 229,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Create multiple smaller images from a single source.\n\t *\n\t * Attempts to create all sub-sizes and returns the meta data at the end. This\n\t * may result in the server running out of resources. When it fails there may be few\n\t * \"orphaned\" images left over as the meta data is never returned and saved.\n\t *\n\t * As of 5.3.0 the preferred way to do this is with `make_subsize()`. It creates\n\t * the new images one at a time and allows for the meta data to be saved after\n\t * each new image is created.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param array $sizes {\n\t *     An array of image size data arrays.\n\t *\n\t *     Either a height or width must be provided.\n\t *     If one of the two is set to null, the resize will\n\t *     maintain aspect ratio according to the source image.\n\t *\n\t *     @type array $size {\n\t *         Array of height, width values, and whether to crop.\n\t *\n\t *         @type int  $width  Image width. Optional if `$height` is specified.\n\t *         @type int  $height Image height. Optional if `$width` is specified.\n\t *         @type bool $crop   Optional. Whether to crop the image. Default false.\n\t *     }\n\t * }\n\t * @return array An array of resized images' metadata by size.\n\t */",
              "line": 199,
              "filePos": 4874,
              "tokenPos": 1137,
              "endLine": 228,
              "endFilePos": 6075,
              "endTokenPos": 1137
            }
          ],
          "endLine": 241
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "make_subsize",
          "attributes": {
            "startLine": 258,
            "endLine": 258
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "size_data",
              "attributes": {
                "startLine": 258,
                "endLine": 258
              }
            },
            "default": null,
            "attributes": {
              "startLine": 258,
              "endLine": 258
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_BooleanAnd",
              "left": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 259,
                          "endLine": 259
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "width",
                        "attributes": {
                          "startLine": 259,
                          "endLine": 259,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 259,
                        "endLine": 259
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 259,
                    "endLine": 259
                  }
                },
                "attributes": {
                  "startLine": 259,
                  "endLine": 259
                }
              },
              "right": {
                "nodeType": "Expr_BooleanNot",
                "expr": {
                  "nodeType": "Expr_Isset",
                  "vars": [
                    {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 259,
                          "endLine": 259
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "height",
                        "attributes": {
                          "startLine": 259,
                          "endLine": 259,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 259,
                        "endLine": 259
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 259,
                    "endLine": 259
                  }
                },
                "attributes": {
                  "startLine": 259,
                  "endLine": 259
                }
              },
              "attributes": {
                "startLine": 259,
                "endLine": 259
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_New",
                  "class": {
                    "nodeType": "Name",
                    "parts": [
                      "WP_Error"
                    ],
                    "attributes": {
                      "startLine": 260,
                      "endLine": 260
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_String",
                        "value": "image_subsize_create_error",
                        "attributes": {
                          "startLine": 260,
                          "endLine": 260,
                          "kind": 1
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "__"
                          ],
                          "attributes": {
                            "startLine": 260,
                            "endLine": 260
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "Cannot resize the image. Both width and height are not set.",
                              "attributes": {
                                "startLine": 260,
                                "endLine": 260,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 260,
                              "endLine": 260
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 260,
                          "endLine": 260
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 260,
                        "endLine": 260
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 260,
                    "endLine": 260
                  }
                },
                "attributes": {
                  "startLine": 260,
                  "endLine": 260
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 259,
              "endLine": 261
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "orig_size",
                "attributes": {
                  "startLine": 263,
                  "endLine": 263
                }
              },
              "expr": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 263,
                    "endLine": 263
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "size",
                  "attributes": {
                    "startLine": 263,
                    "endLine": 263
                  }
                },
                "attributes": {
                  "startLine": 263,
                  "endLine": 263
                }
              },
              "attributes": {
                "startLine": 263,
                "endLine": 263
              }
            },
            "attributes": {
              "startLine": 263,
              "endLine": 263
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Isset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 265,
                        "endLine": 265
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 265,
                        "endLine": 265,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 265,
                      "endLine": 265
                    }
                  }
                ],
                "attributes": {
                  "startLine": 265,
                  "endLine": 265
                }
              },
              "attributes": {
                "startLine": 265,
                "endLine": 265
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 266,
                        "endLine": 266
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 266,
                        "endLine": 266,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 266,
                      "endLine": 266
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "null"
                      ],
                      "attributes": {
                        "startLine": 266,
                        "endLine": 266
                      }
                    },
                    "attributes": {
                      "startLine": 266,
                      "endLine": 266
                    }
                  },
                  "attributes": {
                    "startLine": 266,
                    "endLine": 266
                  }
                },
                "attributes": {
                  "startLine": 266,
                  "endLine": 266
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 265,
              "endLine": 267
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Isset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 269,
                        "endLine": 269
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 269,
                        "endLine": 269,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 269,
                      "endLine": 269
                    }
                  }
                ],
                "attributes": {
                  "startLine": 269,
                  "endLine": 269
                }
              },
              "attributes": {
                "startLine": 269,
                "endLine": 269
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 270,
                        "endLine": 270
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 270,
                        "endLine": 270,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 270,
                      "endLine": 270
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "null"
                      ],
                      "attributes": {
                        "startLine": 270,
                        "endLine": 270
                      }
                    },
                    "attributes": {
                      "startLine": 270,
                      "endLine": 270
                    }
                  },
                  "attributes": {
                    "startLine": 270,
                    "endLine": 270
                  }
                },
                "attributes": {
                  "startLine": 270,
                  "endLine": 270
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 269,
              "endLine": 271
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Isset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 273,
                        "endLine": 273
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "crop",
                      "attributes": {
                        "startLine": 273,
                        "endLine": 273,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 273,
                      "endLine": 273
                    }
                  }
                ],
                "attributes": {
                  "startLine": 273,
                  "endLine": 273
                }
              },
              "attributes": {
                "startLine": 273,
                "endLine": 273
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "size_data",
                      "attributes": {
                        "startLine": 274,
                        "endLine": 274
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "crop",
                      "attributes": {
                        "startLine": 274,
                        "endLine": 274,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 274,
                      "endLine": 274
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "false"
                      ],
                      "attributes": {
                        "startLine": 274,
                        "endLine": 274
                      }
                    },
                    "attributes": {
                      "startLine": 274,
                      "endLine": 274
                    }
                  },
                  "attributes": {
                    "startLine": 274,
                    "endLine": 274
                  }
                },
                "attributes": {
                  "startLine": 274,
                  "endLine": 274
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 273,
              "endLine": 275
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "resized",
                "attributes": {
                  "startLine": 277,
                  "endLine": 277
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 277,
                    "endLine": 277
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "_resize",
                  "attributes": {
                    "startLine": 277,
                    "endLine": 277
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "width",
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 277,
                        "endLine": 277
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 277,
                      "endLine": 277
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "height",
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 277,
                        "endLine": 277
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 277,
                      "endLine": 277
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ArrayDimFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "size_data",
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277
                        }
                      },
                      "dim": {
                        "nodeType": "Scalar_String",
                        "value": "crop",
                        "attributes": {
                          "startLine": 277,
                          "endLine": 277,
                          "kind": 1
                        }
                      },
                      "attributes": {
                        "startLine": 277,
                        "endLine": 277
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 277,
                      "endLine": 277
                    }
                  }
                ],
                "attributes": {
                  "startLine": 277,
                  "endLine": 277
                }
              },
              "attributes": {
                "startLine": 277,
                "endLine": 277
              }
            },
            "attributes": {
              "startLine": 277,
              "endLine": 277
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_wp_error"
                ],
                "attributes": {
                  "startLine": 279,
                  "endLine": 279
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 279,
                      "endLine": 279
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 279,
                    "endLine": 279
                  }
                }
              ],
              "attributes": {
                "startLine": 279,
                "endLine": 279
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "saved",
                    "attributes": {
                      "startLine": 280,
                      "endLine": 280
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "resized",
                    "attributes": {
                      "startLine": 280,
                      "endLine": 280
                    }
                  },
                  "attributes": {
                    "startLine": 280,
                    "endLine": 280
                  }
                },
                "attributes": {
                  "startLine": 280,
                  "endLine": 280
                }
              }
            ],
            "elseifs": [],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_Assign",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 282,
                        "endLine": 282
                      }
                    },
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 282,
                          "endLine": 282
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "_save",
                        "attributes": {
                          "startLine": 282,
                          "endLine": 282
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "resized",
                            "attributes": {
                              "startLine": 282,
                              "endLine": 282
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 282,
                            "endLine": 282
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 282,
                        "endLine": 282
                      }
                    },
                    "attributes": {
                      "startLine": 282,
                      "endLine": 282
                    }
                  },
                  "attributes": {
                    "startLine": 282,
                    "endLine": 282
                  }
                },
                {
                  "nodeType": "Stmt_Expression",
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "imagedestroy"
                      ],
                      "attributes": {
                        "startLine": 283,
                        "endLine": 283
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "resized",
                          "attributes": {
                            "startLine": 283,
                            "endLine": 283
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 283,
                          "endLine": 283
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 283,
                      "endLine": 283
                    }
                  },
                  "attributes": {
                    "startLine": 283,
                    "endLine": 283
                  }
                }
              ],
              "attributes": {
                "startLine": 281,
                "endLine": 284
              }
            },
            "attributes": {
              "startLine": 279,
              "endLine": 284
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_PropertyFetch",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 286,
                    "endLine": 286
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "size",
                  "attributes": {
                    "startLine": 286,
                    "endLine": 286
                  }
                },
                "attributes": {
                  "startLine": 286,
                  "endLine": 286
                }
              },
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "orig_size",
                "attributes": {
                  "startLine": 286,
                  "endLine": 286
                }
              },
              "attributes": {
                "startLine": 286,
                "endLine": 286
              }
            },
            "attributes": {
              "startLine": 286,
              "endLine": 286
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_wp_error"
                  ],
                  "attributes": {
                    "startLine": 288,
                    "endLine": 288
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 288,
                        "endLine": 288
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 288,
                      "endLine": 288
                    }
                  }
                ],
                "attributes": {
                  "startLine": 288,
                  "endLine": 288
                }
              },
              "attributes": {
                "startLine": 288,
                "endLine": 288
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Unset",
                "vars": [
                  {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 289,
                        "endLine": 289
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "path",
                      "attributes": {
                        "startLine": 289,
                        "endLine": 289,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 289,
                      "endLine": 289
                    }
                  }
                ],
                "attributes": {
                  "startLine": 289,
                  "endLine": 289
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 288,
              "endLine": 290
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "saved",
              "attributes": {
                "startLine": 292,
                "endLine": 292
              }
            },
            "attributes": {
              "startLine": 292,
              "endLine": 292
            }
          }
        ],
        "attributes": {
          "startLine": 258,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Create an image sub-size and return the image meta data value for it.\n\t *\n\t * @since 5.3.0\n\t *\n\t * @param array $size_data {\n\t *     Array of size data.\n\t *\n\t *     @type int  $width  The maximum width in pixels.\n\t *     @type int  $height The maximum height in pixels.\n\t *     @type bool $crop   Whether to crop the image to exact dimensions.\n\t * }\n\t * @return array|WP_Error The image data array for inclusion in the `sizes` array in the image meta,\n\t *                        WP_Error object on error.\n\t */",
              "line": 243,
              "filePos": 6338,
              "tokenPos": 1233,
              "endLine": 257,
              "endFilePos": 6854,
              "endTokenPos": 1233
            }
          ],
          "endLine": 293
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "crop",
          "attributes": {
            "startLine": 309,
            "endLine": 309
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_x",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": null,
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_y",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": null,
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_w",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": null,
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_h",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": null,
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_w",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 309,
                  "endLine": 309
                }
              },
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "dst_h",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 309,
                  "endLine": 309
                }
              },
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "src_abs",
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "false"
                ],
                "attributes": {
                  "startLine": 309,
                  "endLine": 309
                }
              },
              "attributes": {
                "startLine": 309,
                "endLine": 309
              }
            },
            "attributes": {
              "startLine": 309,
              "endLine": 309
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "dst_w",
                "attributes": {
                  "startLine": 312,
                  "endLine": 312
                }
              },
              "attributes": {
                "startLine": 312,
                "endLine": 312
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_w",
                    "attributes": {
                      "startLine": 313,
                      "endLine": 313
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "src_w",
                    "attributes": {
                      "startLine": 313,
                      "endLine": 313
                    }
                  },
                  "attributes": {
                    "startLine": 313,
                    "endLine": 313
                  }
                },
                "attributes": {
                  "startLine": 313,
                  "endLine": 313
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 312,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// If destination width/height isn't specified,\n",
                  "line": 310,
                  "filePos": 8313,
                  "tokenPos": 1581,
                  "endLine": 311,
                  "endFilePos": 8360,
                  "endTokenPos": 1581
                },
                {
                  "nodeType": "Comment",
                  "text": "// use same as width/height from source.\n",
                  "line": 311,
                  "filePos": 8363,
                  "tokenPos": 1583,
                  "endLine": 312,
                  "endFilePos": 8403,
                  "endTokenPos": 1583
                }
              ],
              "endLine": 314
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "dst_h",
                "attributes": {
                  "startLine": 315,
                  "endLine": 315
                }
              },
              "attributes": {
                "startLine": 315,
                "endLine": 315
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_h",
                    "attributes": {
                      "startLine": 316,
                      "endLine": 316
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "src_h",
                    "attributes": {
                      "startLine": 316,
                      "endLine": 316
                    }
                  },
                  "attributes": {
                    "startLine": 316,
                    "endLine": 316
                  }
                },
                "attributes": {
                  "startLine": 316,
                  "endLine": 316
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 315,
              "endLine": 317
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "dst",
                "attributes": {
                  "startLine": 319,
                  "endLine": 319
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "wp_imagecreatetruecolor"
                  ],
                  "attributes": {
                    "startLine": 319,
                    "endLine": 319
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_w",
                      "attributes": {
                        "startLine": 319,
                        "endLine": 319
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 319,
                      "endLine": 319
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "dst_h",
                      "attributes": {
                        "startLine": 319,
                        "endLine": 319
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 319,
                      "endLine": 319
                    }
                  }
                ],
                "attributes": {
                  "startLine": 319,
                  "endLine": 319
                }
              },
              "attributes": {
                "startLine": 319,
                "endLine": 319
              }
            },
            "attributes": {
              "startLine": 319,
              "endLine": 319
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "src_abs",
              "attributes": {
                "startLine": 321,
                "endLine": 321
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_AssignOp_Minus",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "src_w",
                    "attributes": {
                      "startLine": 322,
                      "endLine": 322
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "src_x",
                    "attributes": {
                      "startLine": 322,
                      "endLine": 322
                    }
                  },
                  "attributes": {
                    "startLine": 322,
                    "endLine": 322
                  }
                },
                "attributes": {
                  "startLine": 322,
                  "endLine": 322
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_AssignOp_Minus",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "src_h",
                    "attributes": {
                      "startLine": 323,
                      "endLine": 323
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "src_y",
                    "attributes": {
                      "startLine": 323,
                      "endLine": 323
                    }
                  },
                  "attributes": {
                    "startLine": 323,
                    "endLine": 323
                  }
                },
                "attributes": {
                  "startLine": 323,
                  "endLine": 323
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 321,
              "endLine": 324
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "function_exists"
                ],
                "attributes": {
                  "startLine": 326,
                  "endLine": 326
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "imageantialias",
                    "attributes": {
                      "startLine": 326,
                      "endLine": 326,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 326,
                    "endLine": 326
                  }
                }
              ],
              "attributes": {
                "startLine": 326,
                "endLine": 326
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imageantialias"
                    ],
                    "attributes": {
                      "startLine": 327,
                      "endLine": 327
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "dst",
                        "attributes": {
                          "startLine": 327,
                          "endLine": 327
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 327,
                        "endLine": 327
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_ConstFetch",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "true"
                          ],
                          "attributes": {
                            "startLine": 327,
                            "endLine": 327
                          }
                        },
                        "attributes": {
                          "startLine": 327,
                          "endLine": 327
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 327,
                        "endLine": 327
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 327,
                    "endLine": 327
                  }
                },
                "attributes": {
                  "startLine": 327,
                  "endLine": 327
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 326,
              "endLine": 328
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "imagecopyresampled"
                ],
                "attributes": {
                  "startLine": 330,
                  "endLine": 330
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 330,
                        "endLine": 330
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 330,
                        "endLine": 330
                      }
                    },
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_LNumber",
                    "value": 0,
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330,
                      "kind": 10
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_LNumber",
                    "value": 0,
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330,
                      "kind": 10
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_x",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_y",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_w",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst_h",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_w",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "src_h",
                    "attributes": {
                      "startLine": 330,
                      "endLine": 330
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 330,
                    "endLine": 330
                  }
                }
              ],
              "attributes": {
                "startLine": 330,
                "endLine": 330
              }
            },
            "attributes": {
              "startLine": 330,
              "endLine": 330
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_resource"
                ],
                "attributes": {
                  "startLine": 332,
                  "endLine": 332
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst",
                    "attributes": {
                      "startLine": 332,
                      "endLine": 332
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 332,
                    "endLine": 332
                  }
                }
              ],
              "attributes": {
                "startLine": 332,
                "endLine": 332
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagedestroy"
                    ],
                    "attributes": {
                      "startLine": 333,
                      "endLine": 333
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 333,
                            "endLine": 333
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 333,
                            "endLine": 333
                          }
                        },
                        "attributes": {
                          "startLine": 333,
                          "endLine": 333
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 333,
                        "endLine": 333
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 333,
                    "endLine": 333
                  }
                },
                "attributes": {
                  "startLine": 333,
                  "endLine": 333
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 334,
                        "endLine": 334
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "image",
                      "attributes": {
                        "startLine": 334,
                        "endLine": 334
                      }
                    },
                    "attributes": {
                      "startLine": 334,
                      "endLine": 334
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Variable",
                    "name": "dst",
                    "attributes": {
                      "startLine": 334,
                      "endLine": 334
                    }
                  },
                  "attributes": {
                    "startLine": 334,
                    "endLine": 334
                  }
                },
                "attributes": {
                  "startLine": 334,
                  "endLine": 334
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_MethodCall",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 335,
                      "endLine": 335
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "update_size",
                    "attributes": {
                      "startLine": 335,
                      "endLine": 335
                    }
                  },
                  "args": [],
                  "attributes": {
                    "startLine": 335,
                    "endLine": 335
                  }
                },
                "attributes": {
                  "startLine": 335,
                  "endLine": 335
                }
              },
              {
                "nodeType": "Stmt_Return",
                "expr": {
                  "nodeType": "Expr_ConstFetch",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "true"
                    ],
                    "attributes": {
                      "startLine": 336,
                      "endLine": 336
                    }
                  },
                  "attributes": {
                    "startLine": 336,
                    "endLine": 336
                  }
                },
                "attributes": {
                  "startLine": 336,
                  "endLine": 336
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 332,
              "endLine": 337
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_New",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "WP_Error"
                ],
                "attributes": {
                  "startLine": 339,
                  "endLine": 339
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image_crop_error",
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 339,
                    "endLine": 339
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "__"
                      ],
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Image crop failed.",
                          "attributes": {
                            "startLine": 339,
                            "endLine": 339,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 339,
                          "endLine": 339
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 339,
                    "endLine": 339
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 339,
                        "endLine": 339
                      }
                    },
                    "attributes": {
                      "startLine": 339,
                      "endLine": 339
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 339,
                    "endLine": 339
                  }
                }
              ],
              "attributes": {
                "startLine": 339,
                "endLine": 339
              }
            },
            "attributes": {
              "startLine": 339,
              "endLine": 339
            }
          }
        ],
        "attributes": {
          "startLine": 309,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Crops Image.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param int  $src_x   The start x position to crop from.\n\t * @param int  $src_y   The start y position to crop from.\n\t * @param int  $src_w   The width to crop.\n\t * @param int  $src_h   The height to crop.\n\t * @param int  $dst_w   Optional. The destination width.\n\t * @param int  $dst_h   Optional. The destination height.\n\t * @param bool $src_abs Optional. If the source crop points are absolute.\n\t * @return bool|WP_Error\n\t */",
              "line": 295,
              "filePos": 7727,
              "tokenPos": 1536,
              "endLine": 308,
              "endFilePos": 8203,
              "endTokenPos": 1536
            }
          ],
          "endLine": 340
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "rotate",
          "attributes": {
            "startLine": 351,
            "endLine": 351
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "angle",
              "attributes": {
                "startLine": 351,
                "endLine": 351
              }
            },
            "default": null,
            "attributes": {
              "startLine": 351,
              "endLine": 351
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "function_exists"
                ],
                "attributes": {
                  "startLine": 352,
                  "endLine": 352
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "imagerotate",
                    "attributes": {
                      "startLine": 352,
                      "endLine": 352,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 352,
                    "endLine": 352
                  }
                }
              ],
              "attributes": {
                "startLine": 352,
                "endLine": 352
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "transparency",
                    "attributes": {
                      "startLine": 353,
                      "endLine": 353
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "imagecolorallocatealpha"
                      ],
                      "attributes": {
                        "startLine": 353,
                        "endLine": 353
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 353,
                              "endLine": 353
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 353,
                              "endLine": 353
                            }
                          },
                          "attributes": {
                            "startLine": 353,
                            "endLine": 353
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 353,
                          "endLine": 353
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_LNumber",
                          "value": 255,
                          "attributes": {
                            "startLine": 353,
                            "endLine": 353,
                            "kind": 10
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 353,
                          "endLine": 353
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_LNumber",
                          "value": 255,
                          "attributes": {
                            "startLine": 353,
                            "endLine": 353,
                            "kind": 10
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 353,
                          "endLine": 353
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_LNumber",
                          "value": 255,
                          "attributes": {
                            "startLine": 353,
                            "endLine": 353,
                            "kind": 10
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 353,
                          "endLine": 353
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_LNumber",
                          "value": 127,
                          "attributes": {
                            "startLine": 353,
                            "endLine": 353,
                            "kind": 10
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 353,
                          "endLine": 353
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 353,
                      "endLine": 353
                    }
                  },
                  "attributes": {
                    "startLine": 353,
                    "endLine": 353
                  }
                },
                "attributes": {
                  "startLine": 353,
                  "endLine": 353
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "rotated",
                    "attributes": {
                      "startLine": 354,
                      "endLine": 354
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "imagerotate"
                      ],
                      "attributes": {
                        "startLine": 354,
                        "endLine": 354
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_PropertyFetch",
                          "var": {
                            "nodeType": "Expr_Variable",
                            "name": "this",
                            "attributes": {
                              "startLine": 354,
                              "endLine": 354
                            }
                          },
                          "name": {
                            "nodeType": "Identifier",
                            "name": "image",
                            "attributes": {
                              "startLine": 354,
                              "endLine": 354
                            }
                          },
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 354,
                          "endLine": 354
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "angle",
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 354,
                          "endLine": 354
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "transparency",
                          "attributes": {
                            "startLine": 354,
                            "endLine": 354
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 354,
                          "endLine": 354
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 354,
                      "endLine": 354
                    }
                  },
                  "attributes": {
                    "startLine": 354,
                    "endLine": 354
                  }
                },
                "attributes": {
                  "startLine": 354,
                  "endLine": 354
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "is_resource"
                    ],
                    "attributes": {
                      "startLine": 356,
                      "endLine": 356
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "rotated",
                        "attributes": {
                          "startLine": 356,
                          "endLine": 356
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 356,
                        "endLine": 356
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 356,
                    "endLine": 356
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagealphablending"
                        ],
                        "attributes": {
                          "startLine": 357,
                          "endLine": 357
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "rotated",
                            "attributes": {
                              "startLine": 357,
                              "endLine": 357
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 357,
                            "endLine": 357
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ConstFetch",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "true"
                              ],
                              "attributes": {
                                "startLine": 357,
                                "endLine": 357
                              }
                            },
                            "attributes": {
                              "startLine": 357,
                              "endLine": 357
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 357,
                            "endLine": 357
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 357,
                        "endLine": 357
                      }
                    },
                    "attributes": {
                      "startLine": 357,
                      "endLine": 357
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagesavealpha"
                        ],
                        "attributes": {
                          "startLine": 358,
                          "endLine": 358
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "rotated",
                            "attributes": {
                              "startLine": 358,
                              "endLine": 358
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 358,
                            "endLine": 358
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ConstFetch",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "true"
                              ],
                              "attributes": {
                                "startLine": 358,
                                "endLine": 358
                              }
                            },
                            "attributes": {
                              "startLine": 358,
                              "endLine": 358
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 358,
                            "endLine": 358
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 358,
                        "endLine": 358
                      }
                    },
                    "attributes": {
                      "startLine": 358,
                      "endLine": 358
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagedestroy"
                        ],
                        "attributes": {
                          "startLine": 359,
                          "endLine": 359
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 359,
                                "endLine": 359
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 359,
                                "endLine": 359
                              }
                            },
                            "attributes": {
                              "startLine": 359,
                              "endLine": 359
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 359,
                            "endLine": 359
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 359,
                        "endLine": 359
                      }
                    },
                    "attributes": {
                      "startLine": 359,
                      "endLine": 359
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 360,
                            "endLine": 360
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 360,
                            "endLine": 360
                          }
                        },
                        "attributes": {
                          "startLine": 360,
                          "endLine": 360
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "rotated",
                        "attributes": {
                          "startLine": 360,
                          "endLine": 360
                        }
                      },
                      "attributes": {
                        "startLine": 360,
                        "endLine": 360
                      }
                    },
                    "attributes": {
                      "startLine": 360,
                      "endLine": 360
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_MethodCall",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 361,
                          "endLine": 361
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "update_size",
                        "attributes": {
                          "startLine": 361,
                          "endLine": 361
                        }
                      },
                      "args": [],
                      "attributes": {
                        "startLine": 361,
                        "endLine": 361
                      }
                    },
                    "attributes": {
                      "startLine": 361,
                      "endLine": 361
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 362,
                          "endLine": 362
                        }
                      },
                      "attributes": {
                        "startLine": 362,
                        "endLine": 362
                      }
                    },
                    "attributes": {
                      "startLine": 362,
                      "endLine": 362
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 356,
                  "endLine": 363
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 352,
              "endLine": 364
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_New",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "WP_Error"
                ],
                "attributes": {
                  "startLine": 365,
                  "endLine": 365
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image_rotate_error",
                    "attributes": {
                      "startLine": 365,
                      "endLine": 365,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 365,
                    "endLine": 365
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "__"
                      ],
                      "attributes": {
                        "startLine": 365,
                        "endLine": 365
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Image rotate failed.",
                          "attributes": {
                            "startLine": 365,
                            "endLine": 365,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 365,
                          "endLine": 365
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 365,
                      "endLine": 365
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 365,
                    "endLine": 365
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 365,
                        "endLine": 365
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 365,
                        "endLine": 365
                      }
                    },
                    "attributes": {
                      "startLine": 365,
                      "endLine": 365
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 365,
                    "endLine": 365
                  }
                }
              ],
              "attributes": {
                "startLine": 365,
                "endLine": 365
              }
            },
            "attributes": {
              "startLine": 365,
              "endLine": 365
            }
          }
        ],
        "attributes": {
          "startLine": 351,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Rotates current image counter-clockwise by $angle.\n\t * Ported from image-edit.php\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param float $angle\n\t * @return true|WP_Error\n\t */",
              "line": 342,
              "filePos": 9022,
              "tokenPos": 1808,
              "endLine": 350,
              "endFilePos": 9190,
              "endTokenPos": 1808
            }
          ],
          "endLine": 366
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "flip",
          "attributes": {
            "startLine": 377,
            "endLine": 377
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "horz",
              "attributes": {
                "startLine": 377,
                "endLine": 377
              }
            },
            "default": null,
            "attributes": {
              "startLine": 377,
              "endLine": 377
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "vert",
              "attributes": {
                "startLine": 377,
                "endLine": 377
              }
            },
            "default": null,
            "attributes": {
              "startLine": 377,
              "endLine": 377
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "w",
                "attributes": {
                  "startLine": 378,
                  "endLine": 378
                }
              },
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 378,
                      "endLine": 378
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "size",
                    "attributes": {
                      "startLine": 378,
                      "endLine": 378
                    }
                  },
                  "attributes": {
                    "startLine": 378,
                    "endLine": 378
                  }
                },
                "dim": {
                  "nodeType": "Scalar_String",
                  "value": "width",
                  "attributes": {
                    "startLine": 378,
                    "endLine": 378,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 378,
                  "endLine": 378
                }
              },
              "attributes": {
                "startLine": 378,
                "endLine": 378
              }
            },
            "attributes": {
              "startLine": 378,
              "endLine": 378
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "h",
                "attributes": {
                  "startLine": 379,
                  "endLine": 379
                }
              },
              "expr": {
                "nodeType": "Expr_ArrayDimFetch",
                "var": {
                  "nodeType": "Expr_PropertyFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "this",
                    "attributes": {
                      "startLine": 379,
                      "endLine": 379
                    }
                  },
                  "name": {
                    "nodeType": "Identifier",
                    "name": "size",
                    "attributes": {
                      "startLine": 379,
                      "endLine": 379
                    }
                  },
                  "attributes": {
                    "startLine": 379,
                    "endLine": 379
                  }
                },
                "dim": {
                  "nodeType": "Scalar_String",
                  "value": "height",
                  "attributes": {
                    "startLine": 379,
                    "endLine": 379,
                    "kind": 1
                  }
                },
                "attributes": {
                  "startLine": 379,
                  "endLine": 379
                }
              },
              "attributes": {
                "startLine": 379,
                "endLine": 379
              }
            },
            "attributes": {
              "startLine": 379,
              "endLine": 379
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "dst",
                "attributes": {
                  "startLine": 380,
                  "endLine": 380
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "wp_imagecreatetruecolor"
                  ],
                  "attributes": {
                    "startLine": 380,
                    "endLine": 380
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "w",
                      "attributes": {
                        "startLine": 380,
                        "endLine": 380
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 380,
                      "endLine": 380
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "h",
                      "attributes": {
                        "startLine": 380,
                        "endLine": 380
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 380,
                      "endLine": 380
                    }
                  }
                ],
                "attributes": {
                  "startLine": 380,
                  "endLine": 380
                }
              },
              "attributes": {
                "startLine": 380,
                "endLine": 380
              }
            },
            "attributes": {
              "startLine": 380,
              "endLine": 380
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "is_resource"
                ],
                "attributes": {
                  "startLine": 382,
                  "endLine": 382
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "dst",
                    "attributes": {
                      "startLine": 382,
                      "endLine": 382
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 382,
                    "endLine": 382
                  }
                }
              ],
              "attributes": {
                "startLine": 382,
                "endLine": 382
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "sx",
                    "attributes": {
                      "startLine": 383,
                      "endLine": 383
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Ternary",
                    "cond": {
                      "nodeType": "Expr_Variable",
                      "name": "vert",
                      "attributes": {
                        "startLine": 383,
                        "endLine": 383
                      }
                    },
                    "if": {
                      "nodeType": "Expr_BinaryOp_Minus",
                      "left": {
                        "nodeType": "Expr_Variable",
                        "name": "w",
                        "attributes": {
                          "startLine": 383,
                          "endLine": 383
                        }
                      },
                      "right": {
                        "nodeType": "Scalar_LNumber",
                        "value": 1,
                        "attributes": {
                          "startLine": 383,
                          "endLine": 383,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 383,
                        "endLine": 383
                      }
                    },
                    "else": {
                      "nodeType": "Scalar_LNumber",
                      "value": 0,
                      "attributes": {
                        "startLine": 383,
                        "endLine": 383,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 383,
                      "endLine": 383
                    }
                  },
                  "attributes": {
                    "startLine": 383,
                    "endLine": 383
                  }
                },
                "attributes": {
                  "startLine": 383,
                  "endLine": 383
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "sy",
                    "attributes": {
                      "startLine": 384,
                      "endLine": 384
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Ternary",
                    "cond": {
                      "nodeType": "Expr_Variable",
                      "name": "horz",
                      "attributes": {
                        "startLine": 384,
                        "endLine": 384
                      }
                    },
                    "if": {
                      "nodeType": "Expr_BinaryOp_Minus",
                      "left": {
                        "nodeType": "Expr_Variable",
                        "name": "h",
                        "attributes": {
                          "startLine": 384,
                          "endLine": 384
                        }
                      },
                      "right": {
                        "nodeType": "Scalar_LNumber",
                        "value": 1,
                        "attributes": {
                          "startLine": 384,
                          "endLine": 384,
                          "kind": 10
                        }
                      },
                      "attributes": {
                        "startLine": 384,
                        "endLine": 384
                      }
                    },
                    "else": {
                      "nodeType": "Scalar_LNumber",
                      "value": 0,
                      "attributes": {
                        "startLine": 384,
                        "endLine": 384,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 384,
                      "endLine": 384
                    }
                  },
                  "attributes": {
                    "startLine": 384,
                    "endLine": 384
                  }
                },
                "attributes": {
                  "startLine": 384,
                  "endLine": 384
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "sw",
                    "attributes": {
                      "startLine": 385,
                      "endLine": 385
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Ternary",
                    "cond": {
                      "nodeType": "Expr_Variable",
                      "name": "vert",
                      "attributes": {
                        "startLine": 385,
                        "endLine": 385
                      }
                    },
                    "if": {
                      "nodeType": "Expr_UnaryMinus",
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "w",
                        "attributes": {
                          "startLine": 385,
                          "endLine": 385
                        }
                      },
                      "attributes": {
                        "startLine": 385,
                        "endLine": 385
                      }
                    },
                    "else": {
                      "nodeType": "Expr_Variable",
                      "name": "w",
                      "attributes": {
                        "startLine": 385,
                        "endLine": 385
                      }
                    },
                    "attributes": {
                      "startLine": 385,
                      "endLine": 385
                    }
                  },
                  "attributes": {
                    "startLine": 385,
                    "endLine": 385
                  }
                },
                "attributes": {
                  "startLine": 385,
                  "endLine": 385
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "sh",
                    "attributes": {
                      "startLine": 386,
                      "endLine": 386
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_Ternary",
                    "cond": {
                      "nodeType": "Expr_Variable",
                      "name": "horz",
                      "attributes": {
                        "startLine": 386,
                        "endLine": 386
                      }
                    },
                    "if": {
                      "nodeType": "Expr_UnaryMinus",
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "h",
                        "attributes": {
                          "startLine": 386,
                          "endLine": 386
                        }
                      },
                      "attributes": {
                        "startLine": 386,
                        "endLine": 386
                      }
                    },
                    "else": {
                      "nodeType": "Expr_Variable",
                      "name": "h",
                      "attributes": {
                        "startLine": 386,
                        "endLine": 386
                      }
                    },
                    "attributes": {
                      "startLine": 386,
                      "endLine": 386
                    }
                  },
                  "attributes": {
                    "startLine": 386,
                    "endLine": 386
                  }
                },
                "attributes": {
                  "startLine": 386,
                  "endLine": 386
                }
              },
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_FuncCall",
                  "name": {
                    "nodeType": "Name",
                    "parts": [
                      "imagecopyresampled"
                    ],
                    "attributes": {
                      "startLine": 388,
                      "endLine": 388
                    }
                  },
                  "args": [
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "dst",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 388,
                            "endLine": 388
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 388,
                            "endLine": 388
                          }
                        },
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Scalar_LNumber",
                        "value": 0,
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388,
                          "kind": 10
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "sx",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "sy",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "w",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "h",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "sw",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    },
                    {
                      "nodeType": "Arg",
                      "value": {
                        "nodeType": "Expr_Variable",
                        "name": "sh",
                        "attributes": {
                          "startLine": 388,
                          "endLine": 388
                        }
                      },
                      "byRef": false,
                      "unpack": false,
                      "attributes": {
                        "startLine": 388,
                        "endLine": 388
                      }
                    }
                  ],
                  "attributes": {
                    "startLine": 388,
                    "endLine": 388
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagedestroy"
                        ],
                        "attributes": {
                          "startLine": 389,
                          "endLine": 389
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 389,
                                "endLine": 389
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 389,
                                "endLine": 389
                              }
                            },
                            "attributes": {
                              "startLine": 389,
                              "endLine": 389
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 389,
                            "endLine": 389
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 389,
                        "endLine": 389
                      }
                    },
                    "attributes": {
                      "startLine": 389,
                      "endLine": 389
                    }
                  },
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_Assign",
                      "var": {
                        "nodeType": "Expr_PropertyFetch",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 390,
                            "endLine": 390
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "image",
                          "attributes": {
                            "startLine": 390,
                            "endLine": 390
                          }
                        },
                        "attributes": {
                          "startLine": 390,
                          "endLine": 390
                        }
                      },
                      "expr": {
                        "nodeType": "Expr_Variable",
                        "name": "dst",
                        "attributes": {
                          "startLine": 390,
                          "endLine": 390
                        }
                      },
                      "attributes": {
                        "startLine": 390,
                        "endLine": 390
                      }
                    },
                    "attributes": {
                      "startLine": 390,
                      "endLine": 390
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "true"
                        ],
                        "attributes": {
                          "startLine": 391,
                          "endLine": 391
                        }
                      },
                      "attributes": {
                        "startLine": 391,
                        "endLine": 391
                      }
                    },
                    "attributes": {
                      "startLine": 391,
                      "endLine": 391
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 388,
                  "endLine": 392
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 382,
              "endLine": 393
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_New",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "WP_Error"
                ],
                "attributes": {
                  "startLine": 394,
                  "endLine": 394
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Scalar_String",
                    "value": "image_flip_error",
                    "attributes": {
                      "startLine": 394,
                      "endLine": 394,
                      "kind": 1
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 394,
                    "endLine": 394
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "__"
                      ],
                      "attributes": {
                        "startLine": 394,
                        "endLine": 394
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "Image flip failed.",
                          "attributes": {
                            "startLine": 394,
                            "endLine": 394,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 394,
                          "endLine": 394
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 394,
                      "endLine": 394
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 394,
                    "endLine": 394
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 394,
                        "endLine": 394
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 394,
                        "endLine": 394
                      }
                    },
                    "attributes": {
                      "startLine": 394,
                      "endLine": 394
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 394,
                    "endLine": 394
                  }
                }
              ],
              "attributes": {
                "startLine": 394,
                "endLine": 394
              }
            },
            "attributes": {
              "startLine": 394,
              "endLine": 394
            }
          }
        ],
        "attributes": {
          "startLine": 377,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Flips current image.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param bool $horz Flip along Horizontal Axis.\n\t * @param bool $vert Flip along Vertical Axis.\n\t * @return true|WP_Error\n\t */",
              "line": 368,
              "filePos": 9750,
              "tokenPos": 1983,
              "endLine": 376,
              "endFilePos": 9931,
              "endTokenPos": 1983
            }
          ],
          "endLine": 395
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "save",
          "attributes": {
            "startLine": 406,
            "endLine": 406
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 406,
                "endLine": 406
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 406,
                  "endLine": 406
                }
              },
              "attributes": {
                "startLine": 406,
                "endLine": 406
              }
            },
            "attributes": {
              "startLine": 406,
              "endLine": 406
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 406,
                "endLine": 406
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 406,
                  "endLine": 406
                }
              },
              "attributes": {
                "startLine": 406,
                "endLine": 406
              }
            },
            "attributes": {
              "startLine": 406,
              "endLine": 406
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "saved",
                "attributes": {
                  "startLine": 407,
                  "endLine": 407
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 407,
                    "endLine": 407
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "_save",
                  "attributes": {
                    "startLine": 407,
                    "endLine": 407
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 407,
                          "endLine": 407
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "image",
                        "attributes": {
                          "startLine": 407,
                          "endLine": 407
                        }
                      },
                      "attributes": {
                        "startLine": 407,
                        "endLine": 407
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 407,
                      "endLine": 407
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 407,
                        "endLine": 407
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 407,
                      "endLine": 407
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 407,
                        "endLine": 407
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 407,
                      "endLine": 407
                    }
                  }
                ],
                "attributes": {
                  "startLine": 407,
                  "endLine": 407
                }
              },
              "attributes": {
                "startLine": 407,
                "endLine": 407
              }
            },
            "attributes": {
              "startLine": 407,
              "endLine": 407
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "is_wp_error"
                  ],
                  "attributes": {
                    "startLine": 409,
                    "endLine": 409
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 409,
                        "endLine": 409
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 409,
                      "endLine": 409
                    }
                  }
                ],
                "attributes": {
                  "startLine": 409,
                  "endLine": 409
                }
              },
              "attributes": {
                "startLine": 409,
                "endLine": 409
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 410,
                        "endLine": 410
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "file",
                      "attributes": {
                        "startLine": 410,
                        "endLine": 410
                      }
                    },
                    "attributes": {
                      "startLine": 410,
                      "endLine": 410
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 410,
                        "endLine": 410
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "path",
                      "attributes": {
                        "startLine": 410,
                        "endLine": 410,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 410,
                      "endLine": 410
                    }
                  },
                  "attributes": {
                    "startLine": 410,
                    "endLine": 410
                  }
                },
                "attributes": {
                  "startLine": 410,
                  "endLine": 410
                }
              },
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_PropertyFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 411,
                        "endLine": 411
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 411,
                        "endLine": 411
                      }
                    },
                    "attributes": {
                      "startLine": 411,
                      "endLine": 411
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "saved",
                      "attributes": {
                        "startLine": 411,
                        "endLine": 411
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "mime-type",
                      "attributes": {
                        "startLine": 411,
                        "endLine": 411,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 411,
                      "endLine": 411
                    }
                  },
                  "attributes": {
                    "startLine": 411,
                    "endLine": 411
                  }
                },
                "attributes": {
                  "startLine": 411,
                  "endLine": 411
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 409,
              "endLine": 412
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Variable",
              "name": "saved",
              "attributes": {
                "startLine": 414,
                "endLine": 414
              }
            },
            "attributes": {
              "startLine": 414,
              "endLine": 414
            }
          }
        ],
        "attributes": {
          "startLine": 406,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Saves current in-memory image to file.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string|null $filename\n\t * @param string|null $mime_type\n\t * @return array|WP_Error {'path'=>string, 'file'=>string, 'width'=>int, 'height'=>int, 'mime-type'=>string}\n\t */",
              "line": 397,
              "filePos": 10496,
              "tokenPos": 2232,
              "endLine": 405,
              "endFilePos": 10748,
              "endTokenPos": 2232
            }
          ],
          "endLine": 415
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "_save",
          "attributes": {
            "startLine": 423,
            "endLine": 423
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "image",
              "attributes": {
                "startLine": 423,
                "endLine": 423
              }
            },
            "default": null,
            "attributes": {
              "startLine": 423,
              "endLine": 423
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 423,
                "endLine": 423
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 423,
                  "endLine": 423
                }
              },
              "attributes": {
                "startLine": 423,
                "endLine": 423
              }
            },
            "attributes": {
              "startLine": 423,
              "endLine": 423
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 423,
                "endLine": 423
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 423,
                  "endLine": 423
                }
              },
              "attributes": {
                "startLine": 423,
                "endLine": 423
              }
            },
            "attributes": {
              "startLine": 423,
              "endLine": 423
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 424,
                        "endLine": 424
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 424,
                      "endLine": 424
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "extension",
                      "attributes": {
                        "startLine": 424,
                        "endLine": 424
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 424,
                      "endLine": 424
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 424,
                        "endLine": 424
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 424,
                      "endLine": 424
                    }
                  }
                ],
                "attributes": {
                  "startLine": 424,
                  "endLine": 424
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 424,
                    "endLine": 424
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "get_output_format",
                  "attributes": {
                    "startLine": 424,
                    "endLine": 424
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 424,
                        "endLine": 424
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 424,
                      "endLine": 424
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 424,
                        "endLine": 424
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 424,
                      "endLine": 424
                    }
                  }
                ],
                "attributes": {
                  "startLine": 424,
                  "endLine": 424
                }
              },
              "attributes": {
                "startLine": 424,
                "endLine": 424
              }
            },
            "attributes": {
              "startLine": 424,
              "endLine": 424
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BooleanNot",
              "expr": {
                "nodeType": "Expr_Variable",
                "name": "filename",
                "attributes": {
                  "startLine": 426,
                  "endLine": 426
                }
              },
              "attributes": {
                "startLine": 426,
                "endLine": 426
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 427,
                      "endLine": 427
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "generate_filename",
                      "attributes": {
                        "startLine": 427,
                        "endLine": 427
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "null"
                            ],
                            "attributes": {
                              "startLine": 427,
                              "endLine": 427
                            }
                          },
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_ConstFetch",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "null"
                            ],
                            "attributes": {
                              "startLine": 427,
                              "endLine": 427
                            }
                          },
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "extension",
                          "attributes": {
                            "startLine": 427,
                            "endLine": 427
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 427,
                          "endLine": 427
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 427,
                      "endLine": 427
                    }
                  },
                  "attributes": {
                    "startLine": 427,
                    "endLine": 427
                  }
                },
                "attributes": {
                  "startLine": 427,
                  "endLine": 427
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 426,
              "endLine": 428
            }
          },
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_BinaryOp_Identical",
              "left": {
                "nodeType": "Scalar_String",
                "value": "image/gif",
                "attributes": {
                  "startLine": 430,
                  "endLine": 430,
                  "kind": 1
                }
              },
              "right": {
                "nodeType": "Expr_Variable",
                "name": "mime_type",
                "attributes": {
                  "startLine": 430,
                  "endLine": 430
                }
              },
              "attributes": {
                "startLine": 430,
                "endLine": 430
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_If",
                "cond": {
                  "nodeType": "Expr_BooleanNot",
                  "expr": {
                    "nodeType": "Expr_MethodCall",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "this",
                      "attributes": {
                        "startLine": 431,
                        "endLine": 431
                      }
                    },
                    "name": {
                      "nodeType": "Identifier",
                      "name": "make_image",
                      "attributes": {
                        "startLine": 431,
                        "endLine": 431
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Variable",
                          "name": "filename",
                          "attributes": {
                            "startLine": 431,
                            "endLine": 431
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 431,
                          "endLine": 431
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "imagegif",
                          "attributes": {
                            "startLine": 431,
                            "endLine": 431,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 431,
                          "endLine": 431
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_Array",
                          "items": [
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "image",
                                "attributes": {
                                  "startLine": 431,
                                  "endLine": 431
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 431,
                                "endLine": 431
                              }
                            },
                            {
                              "nodeType": "Expr_ArrayItem",
                              "key": null,
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "filename",
                                "attributes": {
                                  "startLine": 431,
                                  "endLine": 431
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 431,
                                "endLine": 431
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 431,
                            "endLine": 431,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 431,
                          "endLine": 431
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 431,
                      "endLine": 431
                    }
                  },
                  "attributes": {
                    "startLine": 431,
                    "endLine": 431
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_New",
                      "class": {
                        "nodeType": "Name",
                        "parts": [
                          "WP_Error"
                        ],
                        "attributes": {
                          "startLine": 432,
                          "endLine": 432
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "image_save_error",
                            "attributes": {
                              "startLine": 432,
                              "endLine": 432,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 432,
                            "endLine": 432
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_FuncCall",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "__"
                              ],
                              "attributes": {
                                "startLine": 432,
                                "endLine": 432
                              }
                            },
                            "args": [
                              {
                                "nodeType": "Arg",
                                "value": {
                                  "nodeType": "Scalar_String",
                                  "value": "Image Editor Save Failed",
                                  "attributes": {
                                    "startLine": 432,
                                    "endLine": 432,
                                    "kind": 1
                                  }
                                },
                                "byRef": false,
                                "unpack": false,
                                "attributes": {
                                  "startLine": 432,
                                  "endLine": 432
                                }
                              }
                            ],
                            "attributes": {
                              "startLine": 432,
                              "endLine": 432
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 432,
                            "endLine": 432
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 432,
                        "endLine": 432
                      }
                    },
                    "attributes": {
                      "startLine": 432,
                      "endLine": 432
                    }
                  }
                ],
                "elseifs": [],
                "else": null,
                "attributes": {
                  "startLine": 431,
                  "endLine": 433
                }
              }
            ],
            "elseifs": [
              {
                "nodeType": "Stmt_ElseIf",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Identical",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "image/png",
                    "attributes": {
                      "startLine": 434,
                      "endLine": 434,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 434,
                      "endLine": 434
                    }
                  },
                  "attributes": {
                    "startLine": 434,
                    "endLine": 434
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BinaryOp_BooleanAnd",
                      "left": {
                        "nodeType": "Expr_FuncCall",
                        "name": {
                          "nodeType": "Name",
                          "parts": [
                            "function_exists"
                          ],
                          "attributes": {
                            "startLine": 436,
                            "endLine": 436
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "imageistruecolor",
                              "attributes": {
                                "startLine": 436,
                                "endLine": 436,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 436,
                              "endLine": 436
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 436,
                          "endLine": 436
                        }
                      },
                      "right": {
                        "nodeType": "Expr_BooleanNot",
                        "expr": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "imageistruecolor"
                            ],
                            "attributes": {
                              "startLine": 436,
                              "endLine": 436
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "image",
                                "attributes": {
                                  "startLine": 436,
                                  "endLine": 436
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 436,
                                "endLine": 436
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 436,
                            "endLine": 436
                          }
                        },
                        "attributes": {
                          "startLine": 436,
                          "endLine": 436
                        }
                      },
                      "attributes": {
                        "startLine": 436,
                        "endLine": 436
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Expression",
                        "expr": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "imagetruecolortopalette"
                            ],
                            "attributes": {
                              "startLine": 437,
                              "endLine": 437
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "image",
                                "attributes": {
                                  "startLine": 437,
                                  "endLine": 437
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 437,
                                "endLine": 437
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_ConstFetch",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "false"
                                  ],
                                  "attributes": {
                                    "startLine": 437,
                                    "endLine": 437
                                  }
                                },
                                "attributes": {
                                  "startLine": 437,
                                  "endLine": 437
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 437,
                                "endLine": 437
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_FuncCall",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "imagecolorstotal"
                                  ],
                                  "attributes": {
                                    "startLine": 437,
                                    "endLine": 437
                                  }
                                },
                                "args": [
                                  {
                                    "nodeType": "Arg",
                                    "value": {
                                      "nodeType": "Expr_Variable",
                                      "name": "image",
                                      "attributes": {
                                        "startLine": 437,
                                        "endLine": 437
                                      }
                                    },
                                    "byRef": false,
                                    "unpack": false,
                                    "attributes": {
                                      "startLine": 437,
                                      "endLine": 437
                                    }
                                  }
                                ],
                                "attributes": {
                                  "startLine": 437,
                                  "endLine": 437
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 437,
                                "endLine": 437
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 437,
                            "endLine": 437
                          }
                        },
                        "attributes": {
                          "startLine": 437,
                          "endLine": 437
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 436,
                      "comments": [
                        {
                          "nodeType": "Comment",
                          "text": "// Convert from full colors to index colors, like original PNG.\n",
                          "line": 435,
                          "filePos": 11675,
                          "tokenPos": 2506,
                          "endLine": 436,
                          "endFilePos": 11738,
                          "endTokenPos": 2506
                        }
                      ],
                      "endLine": 438
                    }
                  },
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 440,
                            "endLine": 440
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "make_image",
                          "attributes": {
                            "startLine": 440,
                            "endLine": 440
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "filename",
                              "attributes": {
                                "startLine": 440,
                                "endLine": 440
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 440,
                              "endLine": 440
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "imagepng",
                              "attributes": {
                                "startLine": 440,
                                "endLine": 440,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 440,
                              "endLine": 440
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Array",
                              "items": [
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "image",
                                    "attributes": {
                                      "startLine": 440,
                                      "endLine": 440
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 440,
                                    "endLine": 440
                                  }
                                },
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "filename",
                                    "attributes": {
                                      "startLine": 440,
                                      "endLine": 440
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 440,
                                    "endLine": 440
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 440,
                                "endLine": 440,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 440,
                              "endLine": 440
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 440,
                          "endLine": 440
                        }
                      },
                      "attributes": {
                        "startLine": 440,
                        "endLine": 440
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_New",
                          "class": {
                            "nodeType": "Name",
                            "parts": [
                              "WP_Error"
                            ],
                            "attributes": {
                              "startLine": 441,
                              "endLine": 441
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "image_save_error",
                                "attributes": {
                                  "startLine": 441,
                                  "endLine": 441,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 441,
                                "endLine": 441
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_FuncCall",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "__"
                                  ],
                                  "attributes": {
                                    "startLine": 441,
                                    "endLine": 441
                                  }
                                },
                                "args": [
                                  {
                                    "nodeType": "Arg",
                                    "value": {
                                      "nodeType": "Scalar_String",
                                      "value": "Image Editor Save Failed",
                                      "attributes": {
                                        "startLine": 441,
                                        "endLine": 441,
                                        "kind": 1
                                      }
                                    },
                                    "byRef": false,
                                    "unpack": false,
                                    "attributes": {
                                      "startLine": 441,
                                      "endLine": 441
                                    }
                                  }
                                ],
                                "attributes": {
                                  "startLine": 441,
                                  "endLine": 441
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 441,
                                "endLine": 441
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 441,
                            "endLine": 441
                          }
                        },
                        "attributes": {
                          "startLine": 441,
                          "endLine": 441
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 440,
                      "endLine": 442
                    }
                  }
                ],
                "attributes": {
                  "startLine": 434,
                  "endLine": 443
                }
              },
              {
                "nodeType": "Stmt_ElseIf",
                "cond": {
                  "nodeType": "Expr_BinaryOp_Identical",
                  "left": {
                    "nodeType": "Scalar_String",
                    "value": "image/jpeg",
                    "attributes": {
                      "startLine": 443,
                      "endLine": 443,
                      "kind": 1
                    }
                  },
                  "right": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 443,
                      "endLine": 443
                    }
                  },
                  "attributes": {
                    "startLine": 443,
                    "endLine": 443
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_If",
                    "cond": {
                      "nodeType": "Expr_BooleanNot",
                      "expr": {
                        "nodeType": "Expr_MethodCall",
                        "var": {
                          "nodeType": "Expr_Variable",
                          "name": "this",
                          "attributes": {
                            "startLine": 444,
                            "endLine": 444
                          }
                        },
                        "name": {
                          "nodeType": "Identifier",
                          "name": "make_image",
                          "attributes": {
                            "startLine": 444,
                            "endLine": 444
                          }
                        },
                        "args": [
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Variable",
                              "name": "filename",
                              "attributes": {
                                "startLine": 444,
                                "endLine": 444
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 444,
                              "endLine": 444
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Scalar_String",
                              "value": "imagejpeg",
                              "attributes": {
                                "startLine": 444,
                                "endLine": 444,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 444,
                              "endLine": 444
                            }
                          },
                          {
                            "nodeType": "Arg",
                            "value": {
                              "nodeType": "Expr_Array",
                              "items": [
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "image",
                                    "attributes": {
                                      "startLine": 444,
                                      "endLine": 444
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 444,
                                    "endLine": 444
                                  }
                                },
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_Variable",
                                    "name": "filename",
                                    "attributes": {
                                      "startLine": 444,
                                      "endLine": 444
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 444,
                                    "endLine": 444
                                  }
                                },
                                {
                                  "nodeType": "Expr_ArrayItem",
                                  "key": null,
                                  "value": {
                                    "nodeType": "Expr_MethodCall",
                                    "var": {
                                      "nodeType": "Expr_Variable",
                                      "name": "this",
                                      "attributes": {
                                        "startLine": 444,
                                        "endLine": 444
                                      }
                                    },
                                    "name": {
                                      "nodeType": "Identifier",
                                      "name": "get_quality",
                                      "attributes": {
                                        "startLine": 444,
                                        "endLine": 444
                                      }
                                    },
                                    "args": [],
                                    "attributes": {
                                      "startLine": 444,
                                      "endLine": 444
                                    }
                                  },
                                  "byRef": false,
                                  "unpack": false,
                                  "attributes": {
                                    "startLine": 444,
                                    "endLine": 444
                                  }
                                }
                              ],
                              "attributes": {
                                "startLine": 444,
                                "endLine": 444,
                                "kind": 1
                              }
                            },
                            "byRef": false,
                            "unpack": false,
                            "attributes": {
                              "startLine": 444,
                              "endLine": 444
                            }
                          }
                        ],
                        "attributes": {
                          "startLine": 444,
                          "endLine": 444
                        }
                      },
                      "attributes": {
                        "startLine": 444,
                        "endLine": 444
                      }
                    },
                    "stmts": [
                      {
                        "nodeType": "Stmt_Return",
                        "expr": {
                          "nodeType": "Expr_New",
                          "class": {
                            "nodeType": "Name",
                            "parts": [
                              "WP_Error"
                            ],
                            "attributes": {
                              "startLine": 445,
                              "endLine": 445
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "image_save_error",
                                "attributes": {
                                  "startLine": 445,
                                  "endLine": 445,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 445,
                                "endLine": 445
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_FuncCall",
                                "name": {
                                  "nodeType": "Name",
                                  "parts": [
                                    "__"
                                  ],
                                  "attributes": {
                                    "startLine": 445,
                                    "endLine": 445
                                  }
                                },
                                "args": [
                                  {
                                    "nodeType": "Arg",
                                    "value": {
                                      "nodeType": "Scalar_String",
                                      "value": "Image Editor Save Failed",
                                      "attributes": {
                                        "startLine": 445,
                                        "endLine": 445,
                                        "kind": 1
                                      }
                                    },
                                    "byRef": false,
                                    "unpack": false,
                                    "attributes": {
                                      "startLine": 445,
                                      "endLine": 445
                                    }
                                  }
                                ],
                                "attributes": {
                                  "startLine": 445,
                                  "endLine": 445
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 445,
                                "endLine": 445
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 445,
                            "endLine": 445
                          }
                        },
                        "attributes": {
                          "startLine": 445,
                          "endLine": 445
                        }
                      }
                    ],
                    "elseifs": [],
                    "else": null,
                    "attributes": {
                      "startLine": 444,
                      "endLine": 446
                    }
                  }
                ],
                "attributes": {
                  "startLine": 443,
                  "endLine": 447
                }
              }
            ],
            "else": {
              "nodeType": "Stmt_Else",
              "stmts": [
                {
                  "nodeType": "Stmt_Return",
                  "expr": {
                    "nodeType": "Expr_New",
                    "class": {
                      "nodeType": "Name",
                      "parts": [
                        "WP_Error"
                      ],
                      "attributes": {
                        "startLine": 448,
                        "endLine": 448
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Scalar_String",
                          "value": "image_save_error",
                          "attributes": {
                            "startLine": 448,
                            "endLine": 448,
                            "kind": 1
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 448,
                          "endLine": 448
                        }
                      },
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "__"
                            ],
                            "attributes": {
                              "startLine": 448,
                              "endLine": 448
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "Image Editor Save Failed",
                                "attributes": {
                                  "startLine": 448,
                                  "endLine": 448,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 448,
                                "endLine": 448
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 448,
                            "endLine": 448
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 448,
                          "endLine": 448
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 448,
                      "endLine": 448
                    }
                  },
                  "attributes": {
                    "startLine": 448,
                    "endLine": 448
                  }
                }
              ],
              "attributes": {
                "startLine": 447,
                "endLine": 449
              }
            },
            "attributes": {
              "startLine": 430,
              "endLine": 449
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "stat",
                "attributes": {
                  "startLine": 452,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Set correct file permissions.\n",
                      "line": 451,
                      "filePos": 12409,
                      "tokenPos": 2716,
                      "endLine": 452,
                      "endFilePos": 12441,
                      "endTokenPos": 2716
                    }
                  ],
                  "endLine": 452
                }
              },
              "expr": {
                "nodeType": "Expr_FuncCall",
                "name": {
                  "nodeType": "Name",
                  "parts": [
                    "stat"
                  ],
                  "attributes": {
                    "startLine": 452,
                    "endLine": 452
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "dirname"
                        ],
                        "attributes": {
                          "startLine": 452,
                          "endLine": 452
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_Variable",
                            "name": "filename",
                            "attributes": {
                              "startLine": 452,
                              "endLine": 452
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 452,
                            "endLine": 452
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 452,
                        "endLine": 452
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 452,
                      "endLine": 452
                    }
                  }
                ],
                "attributes": {
                  "startLine": 452,
                  "endLine": 452
                }
              },
              "attributes": {
                "startLine": 452,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// Set correct file permissions.\n",
                    "line": 451,
                    "filePos": 12409,
                    "tokenPos": 2716,
                    "endLine": 452,
                    "endFilePos": 12441,
                    "endTokenPos": 2716
                  }
                ],
                "endLine": 452
              }
            },
            "attributes": {
              "startLine": 452,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Set correct file permissions.\n",
                  "line": 451,
                  "filePos": 12409,
                  "tokenPos": 2716,
                  "endLine": 452,
                  "endFilePos": 12441,
                  "endTokenPos": 2716
                }
              ],
              "endLine": 452
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_Variable",
                "name": "perms",
                "attributes": {
                  "startLine": 453,
                  "endLine": 453
                }
              },
              "expr": {
                "nodeType": "Expr_BinaryOp_BitwiseAnd",
                "left": {
                  "nodeType": "Expr_ArrayDimFetch",
                  "var": {
                    "nodeType": "Expr_Variable",
                    "name": "stat",
                    "attributes": {
                      "startLine": 453,
                      "endLine": 453
                    }
                  },
                  "dim": {
                    "nodeType": "Scalar_String",
                    "value": "mode",
                    "attributes": {
                      "startLine": 453,
                      "endLine": 453,
                      "kind": 1
                    }
                  },
                  "attributes": {
                    "startLine": 453,
                    "endLine": 453
                  }
                },
                "right": {
                  "nodeType": "Scalar_LNumber",
                  "value": 438,
                  "attributes": {
                    "startLine": 453,
                    "endLine": 453,
                    "kind": 8
                  }
                },
                "attributes": {
                  "startLine": 453,
                  "endLine": 453
                }
              },
              "attributes": {
                "startLine": 453,
                "endLine": 453
              }
            },
            "attributes": {
              "startLine": 453,
              "endLine": 453
            }
          },
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "chmod"
                ],
                "attributes": {
                  "startLine": 454,
                  "comments": [
                    {
                      "nodeType": "Comment",
                      "text": "// Same permissions as parent folder, strip off the executable bits.\n",
                      "line": 453,
                      "filePos": 12519,
                      "tokenPos": 2749,
                      "endLine": 454,
                      "endFilePos": 12587,
                      "endTokenPos": 2749
                    }
                  ],
                  "endLine": 454
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 454,
                      "endLine": 454
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 454,
                    "endLine": 454
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "perms",
                    "attributes": {
                      "startLine": 454,
                      "endLine": 454
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 454,
                    "endLine": 454
                  }
                }
              ],
              "attributes": {
                "startLine": 454,
                "comments": [
                  {
                    "nodeType": "Comment",
                    "text": "// Same permissions as parent folder, strip off the executable bits.\n",
                    "line": 453,
                    "filePos": 12519,
                    "tokenPos": 2749,
                    "endLine": 454,
                    "endFilePos": 12587,
                    "endTokenPos": 2749
                  }
                ],
                "endLine": 454
              }
            },
            "attributes": {
              "startLine": 454,
              "comments": [
                {
                  "nodeType": "Comment",
                  "text": "// Same permissions as parent folder, strip off the executable bits.\n",
                  "line": 453,
                  "filePos": 12519,
                  "tokenPos": 2749,
                  "endLine": 454,
                  "endFilePos": 12587,
                  "endTokenPos": 2749
                }
              ],
              "endLine": 454
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_Array",
              "items": [
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "path",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 464,
                      "endLine": 464
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 464,
                    "endLine": 464
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "file",
                    "attributes": {
                      "startLine": 465,
                      "endLine": 465,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_FuncCall",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "wp_basename"
                      ],
                      "attributes": {
                        "startLine": 465,
                        "endLine": 465
                      }
                    },
                    "args": [
                      {
                        "nodeType": "Arg",
                        "value": {
                          "nodeType": "Expr_FuncCall",
                          "name": {
                            "nodeType": "Name",
                            "parts": [
                              "apply_filters"
                            ],
                            "attributes": {
                              "startLine": 465,
                              "endLine": 465
                            }
                          },
                          "args": [
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Scalar_String",
                                "value": "image_make_intermediate_size",
                                "attributes": {
                                  "startLine": 465,
                                  "endLine": 465,
                                  "kind": 1
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 465,
                                "endLine": 465
                              }
                            },
                            {
                              "nodeType": "Arg",
                              "value": {
                                "nodeType": "Expr_Variable",
                                "name": "filename",
                                "attributes": {
                                  "startLine": 465,
                                  "endLine": 465
                                }
                              },
                              "byRef": false,
                              "unpack": false,
                              "attributes": {
                                "startLine": 465,
                                "endLine": 465
                              }
                            }
                          ],
                          "attributes": {
                            "startLine": 465,
                            "endLine": 465
                          }
                        },
                        "byRef": false,
                        "unpack": false,
                        "attributes": {
                          "startLine": 465,
                          "endLine": 465
                        }
                      }
                    ],
                    "attributes": {
                      "startLine": 465,
                      "endLine": 465
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 465,
                    "endLine": 465
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "width",
                    "attributes": {
                      "startLine": 466,
                      "endLine": 466,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 466,
                          "endLine": 466
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "size",
                        "attributes": {
                          "startLine": 466,
                          "endLine": 466
                        }
                      },
                      "attributes": {
                        "startLine": 466,
                        "endLine": 466
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "width",
                      "attributes": {
                        "startLine": 466,
                        "endLine": 466,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 466,
                      "endLine": 466
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 466,
                    "endLine": 466
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "height",
                    "attributes": {
                      "startLine": 467,
                      "endLine": 467,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_PropertyFetch",
                      "var": {
                        "nodeType": "Expr_Variable",
                        "name": "this",
                        "attributes": {
                          "startLine": 467,
                          "endLine": 467
                        }
                      },
                      "name": {
                        "nodeType": "Identifier",
                        "name": "size",
                        "attributes": {
                          "startLine": 467,
                          "endLine": 467
                        }
                      },
                      "attributes": {
                        "startLine": 467,
                        "endLine": 467
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_String",
                      "value": "height",
                      "attributes": {
                        "startLine": 467,
                        "endLine": 467,
                        "kind": 1
                      }
                    },
                    "attributes": {
                      "startLine": 467,
                      "endLine": 467
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 467,
                    "endLine": 467
                  }
                },
                {
                  "nodeType": "Expr_ArrayItem",
                  "key": {
                    "nodeType": "Scalar_String",
                    "value": "mime-type",
                    "attributes": {
                      "startLine": 468,
                      "endLine": 468,
                      "kind": 1
                    }
                  },
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "mime_type",
                    "attributes": {
                      "startLine": 468,
                      "endLine": 468
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 468,
                    "endLine": 468
                  }
                }
              ],
              "attributes": {
                "startLine": 463,
                "endLine": 469,
                "kind": 1
              }
            },
            "attributes": {
              "startLine": 463,
              "comments": [
                {
                  "nodeType": "Comment_Doc",
                  "text": "/**\n\t\t * Filters the name of the saved image file.\n\t\t *\n\t\t * @since 2.6.0\n\t\t *\n\t\t * @param string $filename Name of the file.\n\t\t */",
                  "line": 456,
                  "filePos": 12621,
                  "tokenPos": 2762,
                  "endLine": 462,
                  "endFilePos": 12751,
                  "endTokenPos": 2762
                }
              ],
              "endLine": 469
            }
          }
        ],
        "attributes": {
          "startLine": 423,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * @param resource $image\n\t * @param string|null $filename\n\t * @param string|null $mime_type\n\t * @return array|WP_Error\n\t */",
              "line": 417,
              "filePos": 11021,
              "tokenPos": 2330,
              "endLine": 422,
              "endFilePos": 11149,
              "endTokenPos": 2330
            }
          ],
          "endLine": 470
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 1,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "stream",
          "attributes": {
            "startLine": 480,
            "endLine": 480
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 480,
                "endLine": 480
              }
            },
            "default": {
              "nodeType": "Expr_ConstFetch",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "null"
                ],
                "attributes": {
                  "startLine": 480,
                  "endLine": 480
                }
              },
              "attributes": {
                "startLine": 480,
                "endLine": 480
              }
            },
            "attributes": {
              "startLine": 480,
              "endLine": 480
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_Expression",
            "expr": {
              "nodeType": "Expr_Assign",
              "var": {
                "nodeType": "Expr_List",
                "items": [
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "filename",
                      "attributes": {
                        "startLine": 481,
                        "endLine": 481
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 481,
                      "endLine": 481
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "extension",
                      "attributes": {
                        "startLine": 481,
                        "endLine": 481
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 481,
                      "endLine": 481
                    }
                  },
                  {
                    "nodeType": "Expr_ArrayItem",
                    "key": null,
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 481,
                        "endLine": 481
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 481,
                      "endLine": 481
                    }
                  }
                ],
                "attributes": {
                  "startLine": 481,
                  "endLine": 481
                }
              },
              "expr": {
                "nodeType": "Expr_MethodCall",
                "var": {
                  "nodeType": "Expr_Variable",
                  "name": "this",
                  "attributes": {
                    "startLine": 481,
                    "endLine": 481
                  }
                },
                "name": {
                  "nodeType": "Identifier",
                  "name": "get_output_format",
                  "attributes": {
                    "startLine": 481,
                    "endLine": 481
                  }
                },
                "args": [
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_ConstFetch",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "null"
                        ],
                        "attributes": {
                          "startLine": 481,
                          "endLine": 481
                        }
                      },
                      "attributes": {
                        "startLine": 481,
                        "endLine": 481
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 481,
                      "endLine": 481
                    }
                  },
                  {
                    "nodeType": "Arg",
                    "value": {
                      "nodeType": "Expr_Variable",
                      "name": "mime_type",
                      "attributes": {
                        "startLine": 481,
                        "endLine": 481
                      }
                    },
                    "byRef": false,
                    "unpack": false,
                    "attributes": {
                      "startLine": 481,
                      "endLine": 481
                    }
                  }
                ],
                "attributes": {
                  "startLine": 481,
                  "endLine": 481
                }
              },
              "attributes": {
                "startLine": 481,
                "endLine": 481
              }
            },
            "attributes": {
              "startLine": 481,
              "endLine": 481
            }
          },
          {
            "nodeType": "Stmt_Switch",
            "cond": {
              "nodeType": "Expr_Variable",
              "name": "mime_type",
              "attributes": {
                "startLine": 483,
                "endLine": 483
              }
            },
            "cases": [
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "image/png",
                  "attributes": {
                    "startLine": 484,
                    "endLine": 484,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "header"
                        ],
                        "attributes": {
                          "startLine": 485,
                          "endLine": 485
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "Content-Type: image/png",
                            "attributes": {
                              "startLine": 485,
                              "endLine": 485,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 485,
                            "endLine": 485
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 485,
                        "endLine": 485
                      }
                    },
                    "attributes": {
                      "startLine": 485,
                      "endLine": 485
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagepng"
                        ],
                        "attributes": {
                          "startLine": 486,
                          "endLine": 486
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 486,
                                "endLine": 486
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 486,
                                "endLine": 486
                              }
                            },
                            "attributes": {
                              "startLine": 486,
                              "endLine": 486
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 486,
                            "endLine": 486
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 486,
                        "endLine": 486
                      }
                    },
                    "attributes": {
                      "startLine": 486,
                      "endLine": 486
                    }
                  }
                ],
                "attributes": {
                  "startLine": 484,
                  "endLine": 486
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": {
                  "nodeType": "Scalar_String",
                  "value": "image/gif",
                  "attributes": {
                    "startLine": 487,
                    "endLine": 487,
                    "kind": 1
                  }
                },
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "header"
                        ],
                        "attributes": {
                          "startLine": 488,
                          "endLine": 488
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "Content-Type: image/gif",
                            "attributes": {
                              "startLine": 488,
                              "endLine": 488,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 488,
                            "endLine": 488
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 488,
                        "endLine": 488
                      }
                    },
                    "attributes": {
                      "startLine": 488,
                      "endLine": 488
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagegif"
                        ],
                        "attributes": {
                          "startLine": 489,
                          "endLine": 489
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 489,
                                "endLine": 489
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 489,
                                "endLine": 489
                              }
                            },
                            "attributes": {
                              "startLine": 489,
                              "endLine": 489
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 489,
                            "endLine": 489
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 489,
                        "endLine": 489
                      }
                    },
                    "attributes": {
                      "startLine": 489,
                      "endLine": 489
                    }
                  }
                ],
                "attributes": {
                  "startLine": 487,
                  "endLine": 489
                }
              },
              {
                "nodeType": "Stmt_Case",
                "cond": null,
                "stmts": [
                  {
                    "nodeType": "Stmt_Expression",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "header"
                        ],
                        "attributes": {
                          "startLine": 491,
                          "endLine": 491
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Scalar_String",
                            "value": "Content-Type: image/jpeg",
                            "attributes": {
                              "startLine": 491,
                              "endLine": 491,
                              "kind": 1
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 491,
                            "endLine": 491
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 491,
                        "endLine": 491
                      }
                    },
                    "attributes": {
                      "startLine": 491,
                      "endLine": 491
                    }
                  },
                  {
                    "nodeType": "Stmt_Return",
                    "expr": {
                      "nodeType": "Expr_FuncCall",
                      "name": {
                        "nodeType": "Name",
                        "parts": [
                          "imagejpeg"
                        ],
                        "attributes": {
                          "startLine": 492,
                          "endLine": 492
                        }
                      },
                      "args": [
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_PropertyFetch",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 492,
                                "endLine": 492
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "image",
                              "attributes": {
                                "startLine": 492,
                                "endLine": 492
                              }
                            },
                            "attributes": {
                              "startLine": 492,
                              "endLine": 492
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 492,
                            "endLine": 492
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_ConstFetch",
                            "name": {
                              "nodeType": "Name",
                              "parts": [
                                "null"
                              ],
                              "attributes": {
                                "startLine": 492,
                                "endLine": 492
                              }
                            },
                            "attributes": {
                              "startLine": 492,
                              "endLine": 492
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 492,
                            "endLine": 492
                          }
                        },
                        {
                          "nodeType": "Arg",
                          "value": {
                            "nodeType": "Expr_MethodCall",
                            "var": {
                              "nodeType": "Expr_Variable",
                              "name": "this",
                              "attributes": {
                                "startLine": 492,
                                "endLine": 492
                              }
                            },
                            "name": {
                              "nodeType": "Identifier",
                              "name": "get_quality",
                              "attributes": {
                                "startLine": 492,
                                "endLine": 492
                              }
                            },
                            "args": [],
                            "attributes": {
                              "startLine": 492,
                              "endLine": 492
                            }
                          },
                          "byRef": false,
                          "unpack": false,
                          "attributes": {
                            "startLine": 492,
                            "endLine": 492
                          }
                        }
                      ],
                      "attributes": {
                        "startLine": 492,
                        "endLine": 492
                      }
                    },
                    "attributes": {
                      "startLine": 492,
                      "endLine": 492
                    }
                  }
                ],
                "attributes": {
                  "startLine": 490,
                  "endLine": 492
                }
              }
            ],
            "attributes": {
              "startLine": 483,
              "endLine": 493
            }
          }
        ],
        "attributes": {
          "startLine": 480,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Returns stream of current image.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string $mime_type The mime type of the image.\n\t * @return bool True on success, false on failure.\n\t */",
              "line": 472,
              "filePos": 13012,
              "tokenPos": 2832,
              "endLine": 479,
              "endFilePos": 13190,
              "endTokenPos": 2832
            }
          ],
          "endLine": 494
        }
      },
      {
        "nodeType": "Stmt_ClassMethod",
        "flags": 2,
        "byRef": false,
        "name": {
          "nodeType": "Identifier",
          "name": "make_image",
          "attributes": {
            "startLine": 506,
            "endLine": 506
          }
        },
        "params": [
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "filename",
              "attributes": {
                "startLine": 506,
                "endLine": 506
              }
            },
            "default": null,
            "attributes": {
              "startLine": 506,
              "endLine": 506
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "function",
              "attributes": {
                "startLine": 506,
                "endLine": 506
              }
            },
            "default": null,
            "attributes": {
              "startLine": 506,
              "endLine": 506
            }
          },
          {
            "nodeType": "Param",
            "type": null,
            "byRef": false,
            "variadic": false,
            "var": {
              "nodeType": "Expr_Variable",
              "name": "arguments",
              "attributes": {
                "startLine": 506,
                "endLine": 506
              }
            },
            "default": null,
            "attributes": {
              "startLine": 506,
              "endLine": 506
            }
          }
        ],
        "returnType": null,
        "stmts": [
          {
            "nodeType": "Stmt_If",
            "cond": {
              "nodeType": "Expr_FuncCall",
              "name": {
                "nodeType": "Name",
                "parts": [
                  "wp_is_stream"
                ],
                "attributes": {
                  "startLine": 507,
                  "endLine": 507
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 507,
                      "endLine": 507
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 507,
                    "endLine": 507
                  }
                }
              ],
              "attributes": {
                "startLine": 507,
                "endLine": 507
              }
            },
            "stmts": [
              {
                "nodeType": "Stmt_Expression",
                "expr": {
                  "nodeType": "Expr_Assign",
                  "var": {
                    "nodeType": "Expr_ArrayDimFetch",
                    "var": {
                      "nodeType": "Expr_Variable",
                      "name": "arguments",
                      "attributes": {
                        "startLine": 508,
                        "endLine": 508
                      }
                    },
                    "dim": {
                      "nodeType": "Scalar_LNumber",
                      "value": 1,
                      "attributes": {
                        "startLine": 508,
                        "endLine": 508,
                        "kind": 10
                      }
                    },
                    "attributes": {
                      "startLine": 508,
                      "endLine": 508
                    }
                  },
                  "expr": {
                    "nodeType": "Expr_ConstFetch",
                    "name": {
                      "nodeType": "Name",
                      "parts": [
                        "null"
                      ],
                      "attributes": {
                        "startLine": 508,
                        "endLine": 508
                      }
                    },
                    "attributes": {
                      "startLine": 508,
                      "endLine": 508
                    }
                  },
                  "attributes": {
                    "startLine": 508,
                    "endLine": 508
                  }
                },
                "attributes": {
                  "startLine": 508,
                  "endLine": 508
                }
              }
            ],
            "elseifs": [],
            "else": null,
            "attributes": {
              "startLine": 507,
              "endLine": 509
            }
          },
          {
            "nodeType": "Stmt_Return",
            "expr": {
              "nodeType": "Expr_StaticCall",
              "class": {
                "nodeType": "Name",
                "parts": [
                  "parent"
                ],
                "attributes": {
                  "startLine": 511,
                  "endLine": 511
                }
              },
              "name": {
                "nodeType": "Identifier",
                "name": "make_image",
                "attributes": {
                  "startLine": 511,
                  "endLine": 511
                }
              },
              "args": [
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "filename",
                    "attributes": {
                      "startLine": 511,
                      "endLine": 511
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 511,
                    "endLine": 511
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "function",
                    "attributes": {
                      "startLine": 511,
                      "endLine": 511
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 511,
                    "endLine": 511
                  }
                },
                {
                  "nodeType": "Arg",
                  "value": {
                    "nodeType": "Expr_Variable",
                    "name": "arguments",
                    "attributes": {
                      "startLine": 511,
                      "endLine": 511
                    }
                  },
                  "byRef": false,
                  "unpack": false,
                  "attributes": {
                    "startLine": 511,
                    "endLine": 511
                  }
                }
              ],
              "attributes": {
                "startLine": 511,
                "endLine": 511
              }
            },
            "attributes": {
              "startLine": 511,
              "endLine": 511
            }
          }
        ],
        "attributes": {
          "startLine": 506,
          "comments": [
            {
              "nodeType": "Comment_Doc",
              "text": "/**\n\t * Either calls editor's save function or handles file as a stream.\n\t *\n\t * @since 3.5.0\n\t *\n\t * @param string|stream $filename\n\t * @param callable $function\n\t * @param array $arguments\n\t * @return bool\n\t */",
              "line": 496,
              "filePos": 13685,
              "tokenPos": 2976,
              "endLine": 505,
              "endFilePos": 13896,
              "endTokenPos": 2976
            }
          ],
          "endLine": 512
        }
      }
    ],
    "attributes": {
      "startLine": 16,
      "comments": [
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * WordPress GD Image Editor\n *\n * @package WordPress\n * @subpackage Image_Editor\n */",
          "line": 2,
          "filePos": 6,
          "tokenPos": 1,
          "endLine": 7,
          "endFilePos": 94,
          "endTokenPos": 1
        },
        {
          "nodeType": "Comment_Doc",
          "text": "/**\n * WordPress Image Editor Class for Image Manipulation through GD\n *\n * @since 3.5.0\n *\n * @see WP_Image_Editor\n */",
          "line": 9,
          "filePos": 97,
          "tokenPos": 3,
          "endLine": 15,
          "endFilePos": 215,
          "endTokenPos": 3
        }
      ],
      "endLine": 513
    }
  }
]